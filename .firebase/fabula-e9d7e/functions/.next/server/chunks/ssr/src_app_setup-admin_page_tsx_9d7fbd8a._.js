module.exports=[52363,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(11642);function e(){let{user:a}=(0,d.useAuth)(),[e,f]=(0,c.useState)(""),[g,h]=(0,c.useState)(""),i=async()=>{if(a){h("Processing...");try{let b=await fetch("/api/admin/set-custom-claims",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({uid:a.uid,action:"grant",secret:e})}),c=await b.json();b.ok?h("Success! You are now an admin. Please refresh the page/re-login to update claims."):h("Error: "+c.error)}catch(a){h("Error: "+a)}}};return a?(0,b.jsxs)("div",{className:"p-8 max-w-md mx-auto",children:[(0,b.jsx)("h1",{className:"text-2xl font-bold mb-4",children:"Admin Setup"}),(0,b.jsxs)("p",{className:"mb-4",children:["Current User: ",a.email," (",a.uid,")"]}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Bootstrap Secret"}),(0,b.jsx)("input",{type:"password",value:e,onChange:a=>f(a.target.value),className:"w-full p-2 border rounded"})]}),(0,b.jsx)("button",{onClick:i,className:"w-full bg-indigo-600 text-white py-2 rounded hover:bg-indigo-700",children:"Make Me Admin"}),g&&(0,b.jsx)("div",{className:`p-4 rounded ${g.includes("Success")?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:g})]})]}):(0,b.jsx)("div",{className:"p-8",children:"Please login first."})}a.s(["default",()=>e])}];

//# sourceMappingURL=src_app_setup-admin_page_tsx_9d7fbd8a._.js.map