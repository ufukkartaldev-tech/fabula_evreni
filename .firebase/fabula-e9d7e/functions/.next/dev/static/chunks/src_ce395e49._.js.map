{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/90538/Desktop/fabula/benim-hikaye-uygulamasi/src/lib/firebase.ts"],"sourcesContent":["// Import the functions you need from the SDKs you need\r\nimport { initializeApp } from \"firebase/app\";\r\nimport { getAnalytics } from \"firebase/analytics\";\r\nimport { getFirestore } from \"firebase/firestore\";\r\nimport { getAuth, setPersistence, browserLocalPersistence, browserSessionPersistence } from \"firebase/auth\";\r\n\r\n// Your web app's Firebase configuration\r\n// For Firebase JS SDK v7.20.0 and later, measurementId is optional\r\nconst firebaseConfig = {\r\n    apiKey: \"AIzaSyC_2kv4plQXsi_eftZcihhywv6msdZhdM4\",\r\n    authDomain: \"fabula-e9d7e.firebaseapp.com\",\r\n    projectId: \"fabula-e9d7e\",\r\n    storageBucket: \"fabula-e9d7e.firebasestorage.app\",\r\n    messagingSenderId: \"296753282882\",\r\n    appId: \"1:296753282882:web:a824ee7c48d116cc3892db\",\r\n    measurementId: \"G-MGW3LP57MJ\"\r\n};\r\n\r\n// Initialize Firebase\r\nconst app = initializeApp(firebaseConfig);\r\n\r\n// Initialize Analytics (only in browser)\r\nlet analytics;\r\nif (typeof window !== 'undefined') {\r\n    analytics = getAnalytics(app);\r\n}\r\n\r\n// Initialize Firestore\r\nconst db = getFirestore(app);\r\n\r\n// Initialize Auth\r\nconst auth = getAuth(app);\r\n\r\n// Set default persistence to session (will be changed based on \"Remember Me\")\r\nif (typeof window !== 'undefined') {\r\n    setPersistence(auth, browserSessionPersistence).catch((error) => {\r\n        console.error('Error setting persistence:', error);\r\n    });\r\n}\r\n\r\nexport { app, analytics, db, auth, setPersistence, browserLocalPersistence, browserSessionPersistence };\r\n"],"names":[],"mappings":"AAAA,uDAAuD;;;;;;;;;;;AACvD;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;;;;;AAEA,wCAAwC;AACxC,mEAAmE;AACnE,MAAM,iBAAiB;IACnB,QAAQ;IACR,YAAY;IACZ,WAAW;IACX,eAAe;IACf,mBAAmB;IACnB,OAAO;IACP,eAAe;AACnB;AAEA,sBAAsB;AACtB,MAAM,MAAM,IAAA,oLAAa,EAAC;AAE1B,yCAAyC;AACzC,IAAI;AACJ,wCAAmC;IAC/B,YAAY,IAAA,yLAAY,EAAC;AAC7B;AAEA,uBAAuB;AACvB,MAAM,KAAK,IAAA,kLAAY,EAAC;AAExB,kBAAkB;AAClB,MAAM,OAAO,IAAA,wKAAO,EAAC;AAErB,8EAA8E;AAC9E,wCAAmC;IAC/B,IAAA,+KAAc,EAAC,MAAM,0LAAyB,EAAE,KAAK,CAAC,CAAC;QACnD,QAAQ,KAAK,CAAC,8BAA8B;IAChD;AACJ"}},
    {"offset": {"line": 63, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/90538/Desktop/fabula/benim-hikaye-uygulamasi/src/lib/firestore.ts"],"sourcesContent":["import {\r\n    collection,\r\n    addDoc,\r\n    getDocs,\r\n    query,\r\n    where,\r\n    orderBy,\r\n    Timestamp,\r\n    DocumentData\r\n} from 'firebase/firestore';\r\nimport { db } from './firebase';\r\nimport { Story } from '@/interfaces/Story';\r\nimport { Comment } from '@/interfaces/Comment';\r\n\r\n// Firestore koleksiyon referanslarƒ±\r\nconst storiesCollection = collection(db, 'stories');\r\nconst commentsCollection = collection(db, 'comments');\r\n\r\n// Hikayeleri getir\r\nexport async function getStories(): Promise<Story[]> {\r\n    try {\r\n        const q = query(storiesCollection, orderBy('createdAt', 'desc'));\r\n        const querySnapshot = await getDocs(q);\r\n\r\n        return querySnapshot.docs.map(doc => {\r\n            const data = doc.data();\r\n            return {\r\n                id: doc.id,\r\n                ...data,\r\n                createdAt: data.createdAt?.toDate() || new Date(),\r\n            } as Story;\r\n        });\r\n    } catch (error) {\r\n        console.error('Error fetching stories:', error);\r\n        return [];\r\n    }\r\n}\r\n\r\n// Tek bir hikaye getir\r\nexport async function getStoryById(id: string): Promise<Story | null> {\r\n    try {\r\n        const stories = await getStories();\r\n        return stories.find(story => story.id === id) || null;\r\n    } catch (error) {\r\n        console.error('Error fetching story:', error);\r\n        return null;\r\n    }\r\n}\r\n\r\n// Bir hikayeye ait yorumlarƒ± getir\r\nexport async function getCommentsByStoryId(storyId: string): Promise<Comment[]> {\r\n    try {\r\n        const q = query(\r\n            commentsCollection,\r\n            where('storyId', '==', storyId),\r\n            orderBy('createdAt', 'desc')\r\n        );\r\n        const querySnapshot = await getDocs(q);\r\n\r\n        const comments = querySnapshot.docs.map(doc => {\r\n            const data = doc.data();\r\n            return {\r\n                id: doc.id,\r\n                ...data,\r\n                createdAt: data.createdAt?.toDate() || new Date(),\r\n            } as Comment;\r\n        });\r\n\r\n        // Nested yorumlarƒ± organize et\r\n        return organizeComments(comments);\r\n    } catch (error) {\r\n        console.error('Error fetching comments:', error);\r\n        return [];\r\n    }\r\n}\r\n\r\n// Yorumlarƒ± nested yapƒ±ya d√∂n√º≈üt√ºr\r\nfunction organizeComments(comments: Comment[]): Comment[] {\r\n    const commentMap = new Map<string, Comment>();\r\n    const rootComments: Comment[] = [];\r\n\r\n    // T√ºm yorumlarƒ± map'e ekle\r\n    comments.forEach(comment => {\r\n        commentMap.set(comment.id, { ...comment, replies: [] });\r\n    });\r\n\r\n    // Nested yapƒ±yƒ± olu≈ütur\r\n    comments.forEach(comment => {\r\n        const commentWithReplies = commentMap.get(comment.id);\r\n        if (commentWithReplies) {\r\n            // Eƒüer parent yoksa root comment\r\n            rootComments.push(commentWithReplies);\r\n        }\r\n    });\r\n\r\n    return rootComments;\r\n}\r\n\r\n// Yeni yorum ekle\r\nexport async function addComment(comment: Omit<Comment, 'id' | 'createdAt'>): Promise<string> {\r\n    try {\r\n        const docRef = await addDoc(commentsCollection, {\r\n            ...comment,\r\n            createdAt: Timestamp.now(),\r\n        });\r\n        return docRef.id;\r\n    } catch (error) {\r\n        console.error('Error adding comment:', error);\r\n        throw error;\r\n    }\r\n}\r\n\r\n// Yeni hikaye ekle\r\nexport async function addStory(story: Omit<Story, 'id' | 'createdAt'>): Promise<string> {\r\n    try {\r\n        const docRef = await addDoc(storiesCollection, {\r\n            ...story,\r\n            createdAt: Timestamp.now(),\r\n        });\r\n        return docRef.id;\r\n    } catch (error) {\r\n        console.error('Error adding story:', error);\r\n        throw error;\r\n    }\r\n}\r\n"],"names":[],"mappings":";;;;;;;;;;;;AAAA;AAAA;AAUA;;;AAIA,oCAAoC;AACpC,MAAM,oBAAoB,IAAA,gLAAU,EAAC,+IAAE,EAAE;AACzC,MAAM,qBAAqB,IAAA,gLAAU,EAAC,+IAAE,EAAE;AAGnC,eAAe;IAClB,IAAI;QACA,MAAM,IAAI,IAAA,2KAAK,EAAC,mBAAmB,IAAA,6KAAO,EAAC,aAAa;QACxD,MAAM,gBAAgB,MAAM,IAAA,6KAAO,EAAC;QAEpC,OAAO,cAAc,IAAI,CAAC,GAAG,CAAC,CAAA;YAC1B,MAAM,OAAO,IAAI,IAAI;YACrB,OAAO;gBACH,IAAI,IAAI,EAAE;gBACV,GAAG,IAAI;gBACP,WAAW,KAAK,SAAS,EAAE,YAAY,IAAI;YAC/C;QACJ;IACJ,EAAE,OAAO,OAAO;QACZ,QAAQ,KAAK,CAAC,2BAA2B;QACzC,OAAO,EAAE;IACb;AACJ;AAGO,eAAe,aAAa,EAAU;IACzC,IAAI;QACA,MAAM,UAAU,MAAM;QACtB,OAAO,QAAQ,IAAI,CAAC,CAAA,QAAS,MAAM,EAAE,KAAK,OAAO;IACrD,EAAE,OAAO,OAAO;QACZ,QAAQ,KAAK,CAAC,yBAAyB;QACvC,OAAO;IACX;AACJ;AAGO,eAAe,qBAAqB,OAAe;IACtD,IAAI;QACA,MAAM,IAAI,IAAA,2KAAK,EACX,oBACA,IAAA,2KAAK,EAAC,WAAW,MAAM,UACvB,IAAA,6KAAO,EAAC,aAAa;QAEzB,MAAM,gBAAgB,MAAM,IAAA,6KAAO,EAAC;QAEpC,MAAM,WAAW,cAAc,IAAI,CAAC,GAAG,CAAC,CAAA;YACpC,MAAM,OAAO,IAAI,IAAI;YACrB,OAAO;gBACH,IAAI,IAAI,EAAE;gBACV,GAAG,IAAI;gBACP,WAAW,KAAK,SAAS,EAAE,YAAY,IAAI;YAC/C;QACJ;QAEA,+BAA+B;QAC/B,OAAO,iBAAiB;IAC5B,EAAE,OAAO,OAAO;QACZ,QAAQ,KAAK,CAAC,4BAA4B;QAC1C,OAAO,EAAE;IACb;AACJ;AAEA,mCAAmC;AACnC,SAAS,iBAAiB,QAAmB;IACzC,MAAM,aAAa,IAAI;IACvB,MAAM,eAA0B,EAAE;IAElC,2BAA2B;IAC3B,SAAS,OAAO,CAAC,CAAA;QACb,WAAW,GAAG,CAAC,QAAQ,EAAE,EAAE;YAAE,GAAG,OAAO;YAAE,SAAS,EAAE;QAAC;IACzD;IAEA,wBAAwB;IACxB,SAAS,OAAO,CAAC,CAAA;QACb,MAAM,qBAAqB,WAAW,GAAG,CAAC,QAAQ,EAAE;QACpD,IAAI,oBAAoB;YACpB,iCAAiC;YACjC,aAAa,IAAI,CAAC;QACtB;IACJ;IAEA,OAAO;AACX;AAGO,eAAe,WAAW,OAA0C;IACvE,IAAI;QACA,MAAM,SAAS,MAAM,IAAA,4KAAM,EAAC,oBAAoB;YAC5C,GAAG,OAAO;YACV,WAAW,+KAAS,CAAC,GAAG;QAC5B;QACA,OAAO,OAAO,EAAE;IACpB,EAAE,OAAO,OAAO;QACZ,QAAQ,KAAK,CAAC,yBAAyB;QACvC,MAAM;IACV;AACJ;AAGO,eAAe,SAAS,KAAsC;IACjE,IAAI;QACA,MAAM,SAAS,MAAM,IAAA,4KAAM,EAAC,mBAAmB;YAC3C,GAAG,KAAK;YACR,WAAW,+KAAS,CAAC,GAAG;QAC5B;QACA,OAAO,OAAO,EAAE;IACpB,EAAE,OAAO,OAAO;QACZ,QAAQ,KAAK,CAAC,uBAAuB;QACrC,MAAM;IACV;AACJ"}},
    {"offset": {"line": 180, "column": 0}, "map": {"version":3,"sources":["C:/Users/90538/Desktop/fabula/benim-hikaye-uygulamasi/src/app/components/CommentCard.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { Comment } from '@/interfaces/Comment';\r\n\r\ninterface CommentCardProps {\r\n    comment: Comment;\r\n    depth?: number;\r\n}\r\n\r\nexport default function CommentCard({ comment, depth = 0 }: CommentCardProps) {\r\n    const marginLeft = depth > 0 ? `${depth * 2}rem` : '0';\r\n\r\n    const formatDate = (date: Date) => {\r\n        const now = new Date();\r\n        const diffInMs = now.getTime() - date.getTime();\r\n        const diffInHours = Math.floor(diffInMs / (1000 * 60 * 60));\r\n        const diffInDays = Math.floor(diffInHours / 24);\r\n\r\n        if (diffInHours < 1) return 'Az √∂nce';\r\n        if (diffInHours < 24) return `${diffInHours} saat √∂nce`;\r\n        if (diffInDays < 7) return `${diffInDays} g√ºn √∂nce`;\r\n\r\n        return date.toLocaleDateString('tr-TR', {\r\n            year: 'numeric',\r\n            month: 'long',\r\n            day: 'numeric'\r\n        });\r\n    };\r\n\r\n    return (\r\n        <div style={{ marginLeft }} className=\"comment-card-wrapper\">\r\n            <div className=\"comment-card\">\r\n                <div className=\"comment-header\">\r\n                    <div className=\"comment-author\">\r\n                        <span className=\"author-avatar\">{comment.author.avatar}</span>\r\n                        <div className=\"author-info\">\r\n                            <span className=\"author-name\">{comment.author.name}</span>\r\n                            <span className=\"comment-date\">{formatDate(comment.createdAt)}</span>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n                <p className=\"comment-content\">{comment.content}</p>\r\n\r\n                <button className=\"reply-button\">\r\n                    <span>üí¨</span>\r\n                    Yanƒ±tla\r\n                </button>\r\n            </div>\r\n\r\n            {comment.replies && comment.replies.length > 0 && (\r\n                <div className=\"comment-replies\">\r\n                    {comment.replies.map((reply) => (\r\n                        <CommentCard key={reply.id} comment={reply} depth={depth + 1} />\r\n                    ))}\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n}\r\n"],"names":["c","_c","Comment","CommentCardProps","comment","depth","CommentCard","t0","$","$i","Symbol","for","t1","undefined","marginLeft","formatDate","_CommentCardFormatDate","t2","t3","author","avatar","t4","name","t5","createdAt","t6","t7","t8","t9","content","t10","t11","t12","replies","length","map","reply","id","t13","date","now","Date","diffInMs","getTime","diffInHours","Math","floor","diffInDays","toLocaleDateString","year","month","day"],"mappings":"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","ignoreList":[]}},
    {"offset": {"line": 445, "column": 0}, "map": {"version":3,"sources":["C:/Users/90538/Desktop/fabula/benim-hikaye-uygulamasi/src/app/components/CommentForm.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useState } from 'react';\r\n\r\ninterface CommentFormProps {\r\n    onSubmit: (content: string) => void;\r\n    placeholder?: string;\r\n    disabled?: boolean;\r\n}\r\n\r\nexport default function CommentForm({\r\n    onSubmit,\r\n    placeholder = 'Yorumunuzu yazƒ±n...',\r\n    disabled = false\r\n}: CommentFormProps) {\r\n    const [content, setContent] = useState('');\r\n    const maxLength = 500;\r\n\r\n    const handleSubmit = (e: React.FormEvent) => {\r\n        e.preventDefault();\r\n        if (content.trim() && content.length <= maxLength) {\r\n            onSubmit(content.trim());\r\n            setContent('');\r\n        }\r\n    };\r\n\r\n    const remainingChars = maxLength - content.length;\r\n    const isNearLimit = remainingChars < 50;\r\n\r\n    return (\r\n        <form onSubmit={handleSubmit} className=\"comment-form\">\r\n            <div className=\"form-header\">\r\n                <h3>üí¨ Yorum Yap</h3>\r\n            </div>\r\n\r\n            <textarea\r\n                value={content}\r\n                onChange={(e) => setContent(e.target.value)}\r\n                placeholder={placeholder}\r\n                maxLength={maxLength}\r\n                rows={4}\r\n                className=\"comment-textarea\"\r\n                disabled={disabled}\r\n            />\r\n\r\n            <div className=\"form-footer\">\r\n                <span className={`char-counter ${isNearLimit ? 'warning' : ''}`}>\r\n                    {remainingChars} karakter kaldƒ±\r\n                </span>\r\n\r\n                <button\r\n                    type=\"submit\"\r\n                    disabled={!content.trim() || content.length > maxLength || disabled}\r\n                    className=\"submit-button\"\r\n                >\r\n                    <span>üì§</span>\r\n                    {disabled ? 'G√∂nderiliyor...' : 'G√∂nder'}\r\n                </button>\r\n            </div>\r\n        </form>\r\n    );\r\n}\r\n"],"names":["c","_c","useState","CommentFormProps","onSubmit","content","placeholder","disabled","CommentForm","t0","$","$i","Symbol","for","t1","t2","undefined","setContent","t3","e","preventDefault","trim","length","handleSubmit","remainingChars","isNearLimit","t4","t5","e_0","target","value","t6","maxLength","t7","t8","t9","t10","t11","t12","t13","t14"],"mappings":"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","ignoreList":[]}},
    {"offset": {"line": 659, "column": 0}, "map": {"version":3,"sources":["C:/Users/90538/Desktop/fabula/benim-hikaye-uygulamasi/src/app/components/CommentSection.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useState } from 'react';\r\nimport { Comment } from '@/interfaces/Comment';\r\nimport { addComment, getCommentsByStoryId } from '@/lib/firestore';\r\nimport CommentCard from './CommentCard';\r\nimport CommentForm from './CommentForm';\r\n\r\ninterface CommentSectionProps {\r\n    storyId: string;\r\n    initialComments: Comment[];\r\n}\r\n\r\nexport default function CommentSection({ storyId, initialComments }: CommentSectionProps) {\r\n    const [comments, setComments] = useState<Comment[]>(initialComments);\r\n    const [isSubmitting, setIsSubmitting] = useState(false);\r\n\r\n    const handleAddComment = async (content: string) => {\r\n        setIsSubmitting(true);\r\n\r\n        try {\r\n            const newComment: Omit<Comment, 'id' | 'createdAt'> = {\r\n                storyId,\r\n                author: {\r\n                    name: 'Misafir Kullanƒ±cƒ±',\r\n                    avatar: 'üë§'\r\n                },\r\n                content,\r\n                replies: []\r\n            };\r\n\r\n            // Firestore'a ekle\r\n            await addComment(newComment);\r\n\r\n            // Yorumlarƒ± yeniden y√ºkle\r\n            const updatedComments = await getCommentsByStoryId(storyId);\r\n            setComments(updatedComments);\r\n        } catch (error) {\r\n            console.error('Error adding comment:', error);\r\n            alert('Yorum eklenirken bir hata olu≈ütu. L√ºtfen tekrar deneyin.');\r\n        } finally {\r\n            setIsSubmitting(false);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"comment-section\">\r\n            <div className=\"section-header\">\r\n                <h2>üí¨ Yorumlar</h2>\r\n                <span className=\"comment-count\">{comments.length} yorum</span>\r\n            </div>\r\n\r\n            <CommentForm onSubmit={handleAddComment} disabled={isSubmitting} />\r\n\r\n            <div className=\"comments-list\">\r\n                {comments.length === 0 ? (\r\n                    <div className=\"empty-state\">\r\n                        <span className=\"empty-icon\">üí≠</span>\r\n                        <p>Hen√ºz yorum yapƒ±lmamƒ±≈ü. ƒ∞lk yorumu siz yapƒ±n!</p>\r\n                    </div>\r\n                ) : (\r\n                    comments.map((comment) => (\r\n                        <CommentCard key={comment.id} comment={comment} />\r\n                    ))\r\n                )}\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n"],"names":["useState","Comment","addComment","getCommentsByStoryId","CommentCard","CommentForm","CommentSectionProps","storyId","initialComments","CommentSection","comments","setComments","isSubmitting","setIsSubmitting","handleAddComment","content","newComment","Omit","author","name","avatar","replies","updatedComments","error","console","alert","length","map","comment","id"],"mappings":";;;;;AAEA,SAASA,QAAQ,QAAQ,OAAO;AAEhC,SAASE,UAAU,EAAEC,oBAAoB,QAAQ,iBAAiB;AAClE,OAAOC,WAAW,MAAM,eAAe;AACvC,OAAOC,WAAW,MAAM,eAAe;;;AANvC,YAAY;;;;;AAaG,wBAAwB,EAAEE,OAAO,EAAEC,eAAAA,EAAsC,EAAE;;IACtF,MAAM,CAACE,QAAQ,EAAEC,WAAW,CAAC,OAAGX,yKAAQ,CAACC,CAAWO,MAAJ,EAAE,CAAC,MAAgB,CAAC;IACpE,MAAM,CAACI,YAAY,EAAEC,eAAe,CAAC,OAAGb,yKAAQ,EAAC,KAAK,CAAC;IAEvD,MAAMc,gBAAgB,GAAG,MAAAA,CAAOC,OAAO,EAAE,MAAM,KAAK;QAChDF,eAAe,CAAC,IAAI,CAAC;QAErB,IAAI;YACA,MAAMG,UAAU,EAAEC,CAAoC,GAAhC,CAAChB,OAAO,EAAE,IAAI,GAAG,WAAW,CAAC;gBAC/CM,OAAO;gBACPW,MAAM,EAAE;oBACJC,IAAI,EAAE,mBAAmB;oBACzBC,MAAM,EAAE;gBACZ,CAAC;gBACDL,OAAO;gBACPM,OAAO,EAAE,EAAA;YACb,CAAC;YAED,mBAAA;YACA,UAAMnB,wIAAU,EAACc,UAAU,CAAC;YAE5B,0BAAA;YACA,MAAMM,eAAe,GAAG,UAAMnB,kJAAoB,EAACI,OAAO,CAAC;YAC3DI,WAAW,CAACW,eAAe,CAAC;QAChC,CAAC,CAAC,OAAOC,KAAK,EAAE;YACZC,OAAO,CAACD,KAAK,CAAC,uBAAuB,EAAEA,KAAK,CAAC;YAC7CE,KAAK,CAAC,0DAA0D,CAAC;QACrE,CAAC,QAAS;YACNZ,eAAe,CAAC,KAAK,CAAC;QAC1B;IACJ,CAAC;IAED,qBACI,6LAAC,GAAG;QAAC,SAAS,EAAC,iBAAiB,CAAC;;0BAC7B,6LAAC,GAAG;gBAAC,SAAS,EAAC,gBAAgB,CAAC;;kCAC5B,6LAAC,EAAE;kCAAC,WAAW,EAAE,EAAE,CAAC;;;;;;kCACpB,6LAAC,IAAI;wBAAC,SAAS,EAAC,eAAe,CAAC;;4BAACH,QAAQ,CAACgB,MAAM;4BAAC,MAAM,EAAE,IAAI,CAAC;;;;;;;;;;;;;0BAGlE,6LAAC,sJAAW;gBAAC,QAAQ,CAAC,CAACZ,gBAAgB,CAAC;gBAAC,QAAQ,CAAC,CAACF,YAAY,CAAC,GAAG;;;;;;0BAEnE,6LAAC,GAAG;gBAAC,SAAS,EAAC,eAAe,CAAC;0BAC1BF,QAAQ,CAACgB,MAAM,KAAK,CAAC,iBAClB,6LAAC,GAAG;oBAAC,SAAS,EAAC,aAAa,CAAC;;sCACzB,6LAAC,IAAI;4BAAC,SAAS,EAAC,YAAY;sCAAC,EAAE,EAAE,IAAI,CAAC;;;;;;sCACtC,6LAAC,CAAC;sCAAC,6CAA6C,EAAE,CAAC,CAAC;;;;;;;;;;;2BAGxDhB,QAAQ,CAACiB,GAAG,EAAEC,OAAO,iBACjB,6LAAC,sJAAW,CAAC,GAAG,CAAC;wBAAa,OAAO,CAAC,CAACA,OAAO,CAAC,GAClD,CACJ,CAAC;uBAFwBA,OAAO,CAACC,EAAE,CAAC;;;;;;;;;;;;;;;;AAMrD;;KAvDwBpB,cAAcA","ignoreList":[]}},
    {"offset": {"line": 796, "column": 0}, "map": {"version":3,"sources":["C:/Users/90538/Desktop/fabula/benim-hikaye-uygulamasi/src/app/story/[id]/page.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useEffect, useState } from 'react';\r\nimport { notFound } from 'next/navigation';\r\nimport Link from 'next/link';\r\nimport { Story } from '@/interfaces/Story';\r\nimport { Comment } from '@/interfaces/Comment';\r\nimport { getStoryById, getCommentsByStoryId } from '@/lib/firestore';\r\nimport CommentSection from '@/app/components/CommentSection';\r\n\r\ninterface StoryPageProps {\r\n    params: Promise<{ id: string }>;\r\n}\r\n\r\nexport default function StoryPage({ params }: StoryPageProps) {\r\n    const [id, setId] = useState<string>('');\r\n    const [story, setStory] = useState<Story | null>(null);\r\n    const [comments, setComments] = useState<Comment[]>([]);\r\n    const [loading, setLoading] = useState(true);\r\n\r\n    useEffect(() => {\r\n        async function loadParams() {\r\n            const resolvedParams = await params;\r\n            setId(resolvedParams.id);\r\n        }\r\n        loadParams();\r\n    }, [params]);\r\n\r\n    useEffect(() => {\r\n        if (!id) return;\r\n\r\n        async function fetchData() {\r\n            try {\r\n                const [fetchedStory, fetchedComments] = await Promise.all([\r\n                    getStoryById(id),\r\n                    getCommentsByStoryId(id)\r\n                ]);\r\n\r\n                if (!fetchedStory) {\r\n                    notFound();\r\n                    return;\r\n                }\r\n\r\n                setStory(fetchedStory);\r\n                setComments(fetchedComments);\r\n            } catch (error) {\r\n                console.error('Error loading story:', error);\r\n            } finally {\r\n                setLoading(false);\r\n            }\r\n        }\r\n\r\n        fetchData();\r\n    }, [id]);\r\n\r\n    const formatDate = (date: Date) => {\r\n        return date.toLocaleDateString('tr-TR', {\r\n            year: 'numeric',\r\n            month: 'long',\r\n            day: 'numeric'\r\n        });\r\n    };\r\n\r\n    const formatNumber = (num: number) => {\r\n        if (num >= 1000) {\r\n            return `${(num / 1000).toFixed(1)}k`;\r\n        }\r\n        return num.toString();\r\n    };\r\n\r\n    if (loading) {\r\n        return (\r\n            <div className=\"story-page\">\r\n                <div className=\"story-container\">\r\n                    <div className=\"loading-state\">\r\n                        <div className=\"spinner\"></div>\r\n                        <p>Hikaye y√ºkleniyor...</p>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    if (!story) {\r\n        notFound();\r\n        return null;\r\n    }\r\n\r\n    return (\r\n        <div className=\"story-page\">\r\n            <div className=\"story-container\">\r\n                <Link href=\"/\" className=\"back-button\">\r\n                    <span>‚Üê</span>\r\n                    Ana Sayfaya D√∂n\r\n                </Link>\r\n\r\n                <article className=\"story-article\">\r\n                    <header className=\"story-header\">\r\n                        <div className=\"story-meta\">\r\n                            <span className=\"category-badge\">{story.category}</span>\r\n                            <span className=\"story-date\">{formatDate(story.createdAt)}</span>\r\n                        </div>\r\n\r\n                        <h1 className=\"story-title\">{story.title}</h1>\r\n\r\n                        <div className=\"author-section\">\r\n                            <div className=\"author-info\">\r\n                                <span className=\"author-avatar\">{story.author.avatar}</span>\r\n                                <span className=\"author-name\">{story.author.name}</span>\r\n                            </div>\r\n\r\n                            <div className=\"story-stats\">\r\n                                <span className=\"stat\">\r\n                                    <span className=\"stat-icon\">üëÅÔ∏è</span>\r\n                                    {formatNumber(story.stats.views)} g√∂r√ºnt√ºlenme\r\n                                </span>\r\n                                <span className=\"stat\">\r\n                                    <span className=\"stat-icon\">üí¨</span>\r\n                                    {formatNumber(story.stats.comments)} yorum\r\n                                </span>\r\n                                <span className=\"stat\">\r\n                                    <span className=\"stat-icon\">‚ù§Ô∏è</span>\r\n                                    {formatNumber(story.stats.likes)} beƒüeni\r\n                                </span>\r\n                            </div>\r\n                        </div>\r\n                    </header>\r\n\r\n                    <div className=\"story-content\">\r\n                        {story.content.split('\\n\\n').map((paragraph, index) => (\r\n                            <p key={index}>{paragraph}</p>\r\n                        ))}\r\n                    </div>\r\n                </article>\r\n\r\n                <CommentSection storyId={id} initialComments={comments} />\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n"],"names":["useEffect","useState","notFound","Link","Story","Comment","getStoryById","getCommentsByStoryId","CommentSection","StoryPageProps","params","Promise","id","StoryPage","setId","story","setStory","comments","setComments","loading","setLoading","loadParams","resolvedParams","fetchData","fetchedStory","fetchedComments","all","error","console","formatDate","date","Date","toLocaleDateString","year","month","day","formatNumber","num","toFixed","toString","category","createdAt","title","author","avatar","name","stats","views","likes","content","split","map","paragraph","index"],"mappings":"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","ignoreList":[]}}]
}