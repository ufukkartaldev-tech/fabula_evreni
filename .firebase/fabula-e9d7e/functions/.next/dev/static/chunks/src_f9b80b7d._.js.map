{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/90538/Desktop/fabula/benim-hikaye-uygulamasi/src/lib/firebase.ts"],"sourcesContent":["// Import the functions you need from the SDKs you need\r\nimport { initializeApp } from \"firebase/app\";\r\nimport { getAnalytics, Analytics } from \"firebase/analytics\";\r\nimport { getFirestore } from \"firebase/firestore\";\r\nimport { getAuth, setPersistence, browserLocalPersistence, browserSessionPersistence } from \"firebase/auth\";\r\nimport { getStorage } from \"firebase/storage\";\r\n\r\n// Your web app's Firebase configuration\r\n// For Firebase JS SDK v7.20.0 and later, measurementId is optional\r\nconst firebaseConfig = {\r\n    apiKey: \"AIzaSyC_2kv4plQXsi_eftZcihhywv6msdZhdM4\",\r\n    authDomain: \"fabula-e9d7e.firebaseapp.com\",\r\n    projectId: \"fabula-e9d7e\",\r\n    storageBucket: \"fabula-e9d7e.firebasestorage.app\",\r\n    messagingSenderId: \"296753282882\",\r\n    appId: \"1:296753282882:web:a824ee7c48d116cc3892db\",\r\n    measurementId: \"G-MGW3LP57MJ\"\r\n};\r\n\r\n// Initialize Firebase\r\nconst app = initializeApp(firebaseConfig);\r\n\r\n// Initialize Analytics (only in browser)\r\nlet analytics: Analytics | undefined;\r\nif (typeof window !== 'undefined') {\r\n    analytics = getAnalytics(app);\r\n}\r\n\r\n// Initialize Firestore\r\nconst db = getFirestore(app);\r\n\r\n// Initialize Auth\r\nconst auth = getAuth(app);\r\n\r\n// Initialize Storage\r\nconst storage = getStorage(app);\r\n\r\n// Set default persistence to session (will be changed based on \"Remember Me\")\r\nif (typeof window !== 'undefined') {\r\n    setPersistence(auth, browserSessionPersistence).catch((error) => {\r\n        console.error('Error setting persistence:', error);\r\n    });\r\n}\r\n\r\nexport { app, analytics, db, auth, storage, setPersistence, browserLocalPersistence, browserSessionPersistence };\r\n"],"names":[],"mappings":"AAAA,uDAAuD;;;;;;;;;;;;;AACvD;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;;;;;;AAEA,wCAAwC;AACxC,mEAAmE;AACnE,MAAM,iBAAiB;IACnB,QAAQ;IACR,YAAY;IACZ,WAAW;IACX,eAAe;IACf,mBAAmB;IACnB,OAAO;IACP,eAAe;AACnB;AAEA,sBAAsB;AACtB,MAAM,MAAM,IAAA,oLAAa,EAAC;AAE1B,yCAAyC;AACzC,IAAI;AACJ,wCAAmC;IAC/B,YAAY,IAAA,yLAAY,EAAC;AAC7B;AAEA,uBAAuB;AACvB,MAAM,KAAK,IAAA,kLAAY,EAAC;AAExB,kBAAkB;AAClB,MAAM,OAAO,IAAA,wKAAO,EAAC;AAErB,qBAAqB;AACrB,MAAM,UAAU,IAAA,8KAAU,EAAC;AAE3B,8EAA8E;AAC9E,wCAAmC;IAC/B,IAAA,+KAAc,EAAC,MAAM,0LAAyB,EAAE,KAAK,CAAC,CAAC;QACnD,QAAQ,KAAK,CAAC,8BAA8B;IAChD;AACJ"}},
    {"offset": {"line": 70, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/90538/Desktop/fabula/benim-hikaye-uygulamasi/src/lib/auth.ts"],"sourcesContent":["import {\r\n    signInWithPopup,\r\n    GoogleAuthProvider,\r\n    createUserWithEmailAndPassword,\r\n    signInWithEmailAndPassword,\r\n    signOut,\r\n    sendPasswordResetEmail,\r\n    updateProfile,\r\n    User,\r\n    UserCredential\r\n} from 'firebase/auth';\r\nimport { auth, setPersistence, browserLocalPersistence, browserSessionPersistence } from './firebase';\r\n\r\n// Google Provider\r\nconst googleProvider = new GoogleAuthProvider();\r\n\r\n/**\r\n * Google ile giri≈ü yap\r\n */\r\nexport async function signInWithGoogle(rememberMe: boolean = false): Promise<UserCredential> {\r\n    try {\r\n        // Persistence ayarla\r\n        await setPersistence(\r\n            auth,\r\n            rememberMe ? browserLocalPersistence : browserSessionPersistence\r\n        );\r\n\r\n        // Google popup ile giri≈ü\r\n        const result = await signInWithPopup(auth, googleProvider);\r\n        return result;\r\n    } catch (error: any) {\r\n        console.error('Google sign-in error:', error);\r\n        throw new Error(getAuthErrorMessage(error.code));\r\n    }\r\n}\r\n\r\n/**\r\n * Email ve ≈üifre ile kayƒ±t ol\r\n */\r\nexport async function signUpWithEmail(\r\n    email: string,\r\n    password: string,\r\n    displayName: string,\r\n    rememberMe: boolean = false\r\n): Promise<UserCredential> {\r\n    try {\r\n        // Persistence ayarla\r\n        await setPersistence(\r\n            auth,\r\n            rememberMe ? browserLocalPersistence : browserSessionPersistence\r\n        );\r\n\r\n        // Kullanƒ±cƒ± olu≈ütur\r\n        const result = await createUserWithEmailAndPassword(auth, email, password);\r\n\r\n        // Profil bilgilerini g√ºncelle\r\n        if (result.user) {\r\n            await updateProfile(result.user, { displayName });\r\n        }\r\n\r\n        return result;\r\n    } catch (error: any) {\r\n        console.error('Sign-up error:', error);\r\n        throw new Error(getAuthErrorMessage(error.code));\r\n    }\r\n}\r\n\r\n/**\r\n * Email ve ≈üifre ile giri≈ü yap\r\n */\r\nexport async function signInWithEmail(\r\n    email: string,\r\n    password: string,\r\n    rememberMe: boolean = false\r\n): Promise<UserCredential> {\r\n    try {\r\n        // Persistence ayarla\r\n        await setPersistence(\r\n            auth,\r\n            rememberMe ? browserLocalPersistence : browserSessionPersistence\r\n        );\r\n\r\n        // Giri≈ü yap\r\n        const result = await signInWithEmailAndPassword(auth, email, password);\r\n        return result;\r\n    } catch (error: any) {\r\n        console.error('Sign-in error:', error);\r\n        throw new Error(getAuthErrorMessage(error.code));\r\n    }\r\n}\r\n\r\n/**\r\n * √áƒ±kƒ±≈ü yap\r\n */\r\nexport async function signOutUser(): Promise<void> {\r\n    try {\r\n        await signOut(auth);\r\n    } catch (error: any) {\r\n        console.error('Sign-out error:', error);\r\n        throw new Error('√áƒ±kƒ±≈ü yapƒ±lƒ±rken bir hata olu≈ütu.');\r\n    }\r\n}\r\n\r\n/**\r\n * ≈ûifre sƒ±fƒ±rlama emaili g√∂nder\r\n */\r\nexport async function resetPassword(email: string): Promise<void> {\r\n    try {\r\n        await sendPasswordResetEmail(auth, email);\r\n    } catch (error: any) {\r\n        console.error('Password reset error:', error);\r\n        throw new Error(getAuthErrorMessage(error.code));\r\n    }\r\n}\r\n\r\n/**\r\n * Kullanƒ±cƒ± profil bilgilerini g√ºncelle\r\n */\r\nexport async function updateUserProfile(\r\n    user: User,\r\n    profile: { displayName?: string; photoURL?: string }\r\n): Promise<void> {\r\n    try {\r\n        await updateProfile(user, profile);\r\n    } catch (error: any) {\r\n        console.error('Profile update error:', error);\r\n        throw new Error('Profil g√ºncellenirken bir hata olu≈ütu.');\r\n    }\r\n}\r\n\r\n/**\r\n * Firebase auth error kodlarƒ±nƒ± T√ºrk√ße mesajlara √ßevir\r\n */\r\nfunction getAuthErrorMessage(errorCode: string): string {\r\n    const errorMessages: { [key: string]: string } = {\r\n        // Email/Password errors\r\n        'auth/email-already-in-use': 'Bu email adresi zaten kullanƒ±lƒ±yor.',\r\n        'auth/invalid-email': 'L√ºtfen ge√ßerli bir email adresi girin.',\r\n        'auth/operation-not-allowed': 'Bu i≈ülem ≈üu anda kullanƒ±lamƒ±yor.',\r\n        'auth/weak-password': '≈ûifre √ßok zayƒ±f. En az 6 karakter olmalƒ±.',\r\n        'auth/user-disabled': 'Bu hesap devre dƒ±≈üƒ± bƒ±rakƒ±lmƒ±≈ü.',\r\n        'auth/user-not-found': 'Bu email adresiyle kayƒ±tlƒ± kullanƒ±cƒ± bulunamadƒ±.',\r\n        'auth/wrong-password': 'Hatalƒ± ≈üifre. L√ºtfen tekrar deneyin.',\r\n        'auth/invalid-credential': 'Ge√ßersiz giri≈ü bilgileri. L√ºtfen kontrol edin.',\r\n        'auth/account-exists-with-different-credential': 'Bu email adresi farklƒ± bir giri≈ü y√∂ntemiyle kullanƒ±lƒ±yor.',\r\n\r\n        // Google Sign-In errors\r\n        'auth/popup-closed-by-user': 'Giri≈ü penceresi kapatƒ±ldƒ±. L√ºtfen tekrar deneyin.',\r\n        'auth/cancelled-popup-request': 'Giri≈ü i≈ülemi iptal edildi.',\r\n        'auth/popup-blocked': 'Popup penceresi tarayƒ±cƒ± tarafƒ±ndan engellendi. L√ºtfen popup engelleyiciyi kapatƒ±n.',\r\n        'auth/unauthorized-domain': 'Bu domain yetkili deƒüil. L√ºtfen y√∂netici ile ileti≈üime ge√ßin.',\r\n\r\n        // Network errors\r\n        'auth/network-request-failed': 'ƒ∞nternet baƒülantƒ±nƒ±zƒ± kontrol edin ve tekrar deneyin.',\r\n        'auth/timeout': 'ƒ∞≈ülem zaman a≈üƒ±mƒ±na uƒüradƒ±. L√ºtfen tekrar deneyin.',\r\n\r\n        // Rate limiting\r\n        'auth/too-many-requests': '√áok fazla deneme yapƒ±ldƒ±. L√ºtfen birka√ß dakika sonra tekrar deneyin.',\r\n\r\n        // Password reset errors\r\n        'auth/expired-action-code': 'Bu baƒülantƒ±nƒ±n s√ºresi dolmu≈ü. Yeni bir ≈üifre sƒ±fƒ±rlama isteƒüi g√∂nderin.',\r\n        'auth/invalid-action-code': 'Ge√ßersiz veya kullanƒ±lmƒ±≈ü baƒülantƒ±. Yeni bir ≈üifre sƒ±fƒ±rlama isteƒüi g√∂nderin.',\r\n\r\n        // Session errors\r\n        'auth/requires-recent-login': 'Bu i≈ülem i√ßin yeniden giri≈ü yapmanƒ±z gerekiyor.',\r\n        'auth/user-token-expired': 'Oturumunuzun s√ºresi doldu. L√ºtfen tekrar giri≈ü yapƒ±n.',\r\n\r\n        // Missing information\r\n        'auth/missing-email': 'L√ºtfen email adresinizi girin.',\r\n        'auth/missing-password': 'L√ºtfen ≈üifrenizi girin.',\r\n\r\n        // Internal errors\r\n        'auth/internal-error': 'Bir sistem hatasƒ± olu≈ütu. L√ºtfen daha sonra tekrar deneyin.',\r\n        'auth/invalid-api-key': 'Ge√ßersiz API anahtarƒ±. L√ºtfen y√∂netici ile ileti≈üime ge√ßin.',\r\n        'auth/app-deleted': 'Uygulama yapƒ±landƒ±rmasƒ± bulunamadƒ±.',\r\n    };\r\n\r\n    return errorMessages[errorCode] || 'Bir hata olu≈ütu. L√ºtfen tekrar deneyin.';\r\n}\r\n\r\n/**\r\n * Mevcut kullanƒ±cƒ±yƒ± al\r\n */\r\nexport function getCurrentUser(): User | null {\r\n    return auth.currentUser;\r\n}\r\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;AAAA;AAAA;AAWA;;;AAEA,kBAAkB;AAClB,MAAM,iBAAiB,IAAI,mLAAkB;AAKtC,eAAe,iBAAiB,aAAsB,KAAK;IAC9D,IAAI;QACA,qBAAqB;QACrB,MAAM,IAAA,+KAAc,EAChB,iJAAI,EACJ,aAAa,wLAAuB,GAAG,0LAAyB;QAGpE,yBAAyB;QACzB,MAAM,SAAS,MAAM,IAAA,gLAAe,EAAC,iJAAI,EAAE;QAC3C,OAAO;IACX,EAAE,OAAO,OAAY;QACjB,QAAQ,KAAK,CAAC,yBAAyB;QACvC,MAAM,IAAI,MAAM,oBAAoB,MAAM,IAAI;IAClD;AACJ;AAKO,eAAe,gBAClB,KAAa,EACb,QAAgB,EAChB,WAAmB,EACnB,aAAsB,KAAK;IAE3B,IAAI;QACA,qBAAqB;QACrB,MAAM,IAAA,+KAAc,EAChB,iJAAI,EACJ,aAAa,wLAAuB,GAAG,0LAAyB;QAGpE,oBAAoB;QACpB,MAAM,SAAS,MAAM,IAAA,+LAA8B,EAAC,iJAAI,EAAE,OAAO;QAEjE,8BAA8B;QAC9B,IAAI,OAAO,IAAI,EAAE;YACb,MAAM,IAAA,8KAAa,EAAC,OAAO,IAAI,EAAE;gBAAE;YAAY;QACnD;QAEA,OAAO;IACX,EAAE,OAAO,OAAY;QACjB,QAAQ,KAAK,CAAC,kBAAkB;QAChC,MAAM,IAAI,MAAM,oBAAoB,MAAM,IAAI;IAClD;AACJ;AAKO,eAAe,gBAClB,KAAa,EACb,QAAgB,EAChB,aAAsB,KAAK;IAE3B,IAAI;QACA,qBAAqB;QACrB,MAAM,IAAA,+KAAc,EAChB,iJAAI,EACJ,aAAa,wLAAuB,GAAG,0LAAyB;QAGpE,YAAY;QACZ,MAAM,SAAS,MAAM,IAAA,2LAA0B,EAAC,iJAAI,EAAE,OAAO;QAC7D,OAAO;IACX,EAAE,OAAO,OAAY;QACjB,QAAQ,KAAK,CAAC,kBAAkB;QAChC,MAAM,IAAI,MAAM,oBAAoB,MAAM,IAAI;IAClD;AACJ;AAKO,eAAe;IAClB,IAAI;QACA,MAAM,IAAA,wKAAO,EAAC,iJAAI;IACtB,EAAE,OAAO,OAAY;QACjB,QAAQ,KAAK,CAAC,mBAAmB;QACjC,MAAM,IAAI,MAAM;IACpB;AACJ;AAKO,eAAe,cAAc,KAAa;IAC7C,IAAI;QACA,MAAM,IAAA,uLAAsB,EAAC,iJAAI,EAAE;IACvC,EAAE,OAAO,OAAY;QACjB,QAAQ,KAAK,CAAC,yBAAyB;QACvC,MAAM,IAAI,MAAM,oBAAoB,MAAM,IAAI;IAClD;AACJ;AAKO,eAAe,kBAClB,IAAU,EACV,OAAoD;IAEpD,IAAI;QACA,MAAM,IAAA,8KAAa,EAAC,MAAM;IAC9B,EAAE,OAAO,OAAY;QACjB,QAAQ,KAAK,CAAC,yBAAyB;QACvC,MAAM,IAAI,MAAM;IACpB;AACJ;AAEA;;CAEC,GACD,SAAS,oBAAoB,SAAiB;IAC1C,MAAM,gBAA2C;QAC7C,wBAAwB;QACxB,6BAA6B;QAC7B,sBAAsB;QACtB,8BAA8B;QAC9B,sBAAsB;QACtB,sBAAsB;QACtB,uBAAuB;QACvB,uBAAuB;QACvB,2BAA2B;QAC3B,iDAAiD;QAEjD,wBAAwB;QACxB,6BAA6B;QAC7B,gCAAgC;QAChC,sBAAsB;QACtB,4BAA4B;QAE5B,iBAAiB;QACjB,+BAA+B;QAC/B,gBAAgB;QAEhB,gBAAgB;QAChB,0BAA0B;QAE1B,wBAAwB;QACxB,4BAA4B;QAC5B,4BAA4B;QAE5B,iBAAiB;QACjB,8BAA8B;QAC9B,2BAA2B;QAE3B,sBAAsB;QACtB,sBAAsB;QACtB,yBAAyB;QAEzB,kBAAkB;QAClB,uBAAuB;QACvB,wBAAwB;QACxB,oBAAoB;IACxB;IAEA,OAAO,aAAa,CAAC,UAAU,IAAI;AACvC;AAKO,SAAS;IACZ,OAAO,iJAAI,CAAC,WAAW;AAC3B"}},
    {"offset": {"line": 209, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/90538/Desktop/fabula/benim-hikaye-uygulamasi/src/interfaces/Badge.ts"],"sourcesContent":["export interface Badge {\r\n    id: number;\r\n    name: string;\r\n    emoji: string;\r\n    requiredXP: number;\r\n    description: string;\r\n}\r\n\r\nexport const BADGES: Badge[] = [\r\n    {\r\n        id: 1,\r\n        name: '√áƒ±rak',\r\n        emoji: 'üå±',\r\n        requiredXP: 0,\r\n        description: 'Yolculuk ba≈ülƒ±yor'\r\n    },\r\n    {\r\n        id: 2,\r\n        name: 'Gezgin',\r\n        emoji: 'üéí',\r\n        requiredXP: 100,\r\n        description: 'ƒ∞lk adƒ±mlar atƒ±ldƒ±'\r\n    },\r\n    {\r\n        id: 3,\r\n        name: 'Ka≈üif',\r\n        emoji: 'üß≠',\r\n        requiredXP: 300,\r\n        description: 'Yeni d√ºnyalar ke≈üfediliyor'\r\n    },\r\n    {\r\n        id: 4,\r\n        name: 'Maceracƒ±',\r\n        emoji: '‚öîÔ∏è',\r\n        requiredXP: 600,\r\n        description: 'Zorluklara meydan okuyan'\r\n    },\r\n    {\r\n        id: 5,\r\n        name: 'Bilge',\r\n        emoji: 'üìú',\r\n        requiredXP: 1000,\r\n        description: 'Bilgi g√º√ßt√ºr'\r\n    },\r\n    {\r\n        id: 6,\r\n        name: '√ústat',\r\n        emoji: 'üîÆ',\r\n        requiredXP: 2000,\r\n        description: 'Ustalƒ±k seviyesi'\r\n    },\r\n    {\r\n        id: 7,\r\n        name: 'Efsane',\r\n        emoji: 'üëë',\r\n        requiredXP: 5000,\r\n        description: 'Adƒ±n dilden dile dola≈üƒ±yor'\r\n    }\r\n];\r\n\r\n/**\r\n * Kullanƒ±cƒ±nƒ±n toplam XP'sine g√∂re rozetini hesapla\r\n */\r\nexport function getUserBadge(xp: number): Badge {\r\n    // En y√ºksek e≈üikten ba≈üla, a≈üaƒüƒ± in\r\n    for (let i = BADGES.length - 1; i >= 0; i--) {\r\n        if (xp >= BADGES[i].requiredXP) {\r\n            return BADGES[i];\r\n        }\r\n    }\r\n\r\n    // Hi√ß XP yoksa bile ilk rozeti ver\r\n    return BADGES[0];\r\n}\r\n\r\n/**\r\n * Sonraki rozete ka√ß XP kaldƒ±ƒüƒ±nƒ± hesapla\r\n */\r\nexport function getXPToNextBadge(xp: number): { nextBadge: Badge | null; remainingXP: number; progress: number } {\r\n    const currentBadge = getUserBadge(xp);\r\n    const currentIndex = BADGES.findIndex(b => b.id === currentBadge.id);\r\n\r\n    // Son rozetteyse\r\n    if (currentIndex === BADGES.length - 1) {\r\n        return { nextBadge: null, remainingXP: 0, progress: 100 };\r\n    }\r\n\r\n    const nextBadge = BADGES[currentIndex + 1];\r\n    const remainingXP = nextBadge.requiredXP - xp;\r\n\r\n    // ƒ∞lerleme y√ºzdesi hesapla (Bulunduƒüu seviye ile bir sonraki seviye arasƒ±)\r\n    const currentLevelBaseXP = currentBadge.requiredXP;\r\n    const nextLevelXP = nextBadge.requiredXP;\r\n    const levelSpan = nextLevelXP - currentLevelBaseXP;\r\n    const xpInLevel = xp - currentLevelBaseXP;\r\n    const progress = Math.min(100, Math.max(0, (xpInLevel / levelSpan) * 100));\r\n\r\n    return { nextBadge, remainingXP, progress };\r\n}\r\n\r\n/**\r\n * T√ºm rozetleri al\r\n */\r\nexport function getAllBadges(): Badge[] {\r\n    return BADGES;\r\n}\r\n\r\n// Export badges as an alias for backward compatibility\r\nexport const badges = BADGES;\r\n"],"names":[],"mappings":";;;;;;;;;;;;AAQO,MAAM,SAAkB;IAC3B;QACI,IAAI;QACJ,MAAM;QACN,OAAO;QACP,YAAY;QACZ,aAAa;IACjB;IACA;QACI,IAAI;QACJ,MAAM;QACN,OAAO;QACP,YAAY;QACZ,aAAa;IACjB;IACA;QACI,IAAI;QACJ,MAAM;QACN,OAAO;QACP,YAAY;QACZ,aAAa;IACjB;IACA;QACI,IAAI;QACJ,MAAM;QACN,OAAO;QACP,YAAY;QACZ,aAAa;IACjB;IACA;QACI,IAAI;QACJ,MAAM;QACN,OAAO;QACP,YAAY;QACZ,aAAa;IACjB;IACA;QACI,IAAI;QACJ,MAAM;QACN,OAAO;QACP,YAAY;QACZ,aAAa;IACjB;IACA;QACI,IAAI;QACJ,MAAM;QACN,OAAO;QACP,YAAY;QACZ,aAAa;IACjB;CACH;AAKM,SAAS,aAAa,EAAU;IACnC,oCAAoC;IACpC,IAAK,IAAI,IAAI,OAAO,MAAM,GAAG,GAAG,KAAK,GAAG,IAAK;QACzC,IAAI,MAAM,MAAM,CAAC,EAAE,CAAC,UAAU,EAAE;YAC5B,OAAO,MAAM,CAAC,EAAE;QACpB;IACJ;IAEA,mCAAmC;IACnC,OAAO,MAAM,CAAC,EAAE;AACpB;AAKO,SAAS,iBAAiB,EAAU;IACvC,MAAM,eAAe,aAAa;IAClC,MAAM,eAAe,OAAO,SAAS,CAAC,CAAA,IAAK,EAAE,EAAE,KAAK,aAAa,EAAE;IAEnE,iBAAiB;IACjB,IAAI,iBAAiB,OAAO,MAAM,GAAG,GAAG;QACpC,OAAO;YAAE,WAAW;YAAM,aAAa;YAAG,UAAU;QAAI;IAC5D;IAEA,MAAM,YAAY,MAAM,CAAC,eAAe,EAAE;IAC1C,MAAM,cAAc,UAAU,UAAU,GAAG;IAE3C,2EAA2E;IAC3E,MAAM,qBAAqB,aAAa,UAAU;IAClD,MAAM,cAAc,UAAU,UAAU;IACxC,MAAM,YAAY,cAAc;IAChC,MAAM,YAAY,KAAK;IACvB,MAAM,WAAW,KAAK,GAAG,CAAC,KAAK,KAAK,GAAG,CAAC,GAAG,AAAC,YAAY,YAAa;IAErE,OAAO;QAAE;QAAW;QAAa;IAAS;AAC9C;AAKO,SAAS;IACZ,OAAO;AACX;AAGO,MAAM,SAAS"}},
    {"offset": {"line": 318, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/90538/Desktop/fabula/benim-hikaye-uygulamasi/src/lib/userService.ts"],"sourcesContent":["import {\r\n    doc,\r\n    getDoc,\r\n    setDoc,\r\n    updateDoc,\r\n    Timestamp,\r\n    serverTimestamp\r\n} from 'firebase/firestore';\r\nimport { db } from './firebase';\r\nimport { UserProfile } from '@/interfaces/User';\r\nimport { getUserBadge, BADGES } from '@/interfaces/Badge';\r\nimport { User } from 'firebase/auth';\r\n\r\n/**\r\n * Yeni kullanƒ±cƒ± profili olu≈ütur\r\n */\r\nexport async function createUserProfile(user: User): Promise<UserProfile> {\r\n    const initialBadge = BADGES[0]; // ƒ∞lk rozet\r\n\r\n    const userProfile: UserProfile = {\r\n        uid: user.uid,\r\n        email: user.email || '',\r\n        displayName: user.displayName || 'Kullanƒ±cƒ±',\r\n        photoURL: user.photoURL,\r\n        totalWins: 0,\r\n        xp: 0,\r\n        currentBadge: initialBadge.name,\r\n        createdAt: Timestamp.now(),\r\n        lastUpdated: Timestamp.now()\r\n    };\r\n\r\n    try {\r\n        await setDoc(doc(db, 'users', user.uid), userProfile);\r\n        return userProfile;\r\n    } catch (error) {\r\n        console.error('Error creating user profile:', error);\r\n        throw error;\r\n    }\r\n}\r\n\r\n/**\r\n * Kullanƒ±cƒ± profilini getir\r\n */\r\nexport async function getUserProfile(uid: string): Promise<UserProfile | null> {\r\n    try {\r\n        const docRef = doc(db, 'users', uid);\r\n        const docSnap = await getDoc(docRef);\r\n\r\n        if (docSnap.exists()) {\r\n            return docSnap.data() as UserProfile;\r\n        }\r\n        return null;\r\n    } catch (error) {\r\n        console.error('Error getting user profile:', error);\r\n        return null;\r\n    }\r\n}\r\n\r\n/**\r\n * Kullanƒ±cƒ±nƒ±n XP'sini artƒ±r ve rozetini g√ºncelle\r\n */\r\nexport async function updateUserXP(uid: string, amount: number): Promise<{ newBadge: boolean; badge: string }> {\r\n    try {\r\n        const profile = await getUserProfile(uid);\r\n        if (!profile) {\r\n            throw new Error('User profile not found');\r\n        }\r\n\r\n        const currentXP = profile.xp || 0;\r\n        const oldBadge = getUserBadge(currentXP);\r\n        const newXP = currentXP + amount;\r\n        const newBadge = getUserBadge(newXP);\r\n\r\n        await updateDoc(doc(db, 'users', uid), {\r\n            xp: newXP,\r\n            currentBadge: newBadge.name,\r\n            lastUpdated: serverTimestamp()\r\n        });\r\n\r\n        return {\r\n            newBadge: oldBadge.id !== newBadge.id,\r\n            badge: newBadge.name\r\n        };\r\n    } catch (error) {\r\n        console.error('Error updating user XP:', error);\r\n        throw error;\r\n    }\r\n}\r\n\r\n/**\r\n * Auth user ile Firestore user'ƒ± senkronize et\r\n * Eƒüer profil yoksa olu≈ütur, varsa g√ºncelle\r\n */\r\nexport async function syncUserProfile(user: User): Promise<UserProfile> {\r\n    try {\r\n        let profile = await getUserProfile(user.uid);\r\n\r\n        if (!profile) {\r\n            // Profil yoksa olu≈ütur\r\n            profile = await createUserProfile(user);\r\n        } else {\r\n            // Profil varsa sadece temel bilgileri g√ºncelle (rozet ve wins deƒüi≈ümez)\r\n            await updateDoc(doc(db, 'users', user.uid), {\r\n                email: user.email || profile.email,\r\n                displayName: user.displayName || profile.displayName,\r\n                photoURL: user.photoURL,\r\n                lastUpdated: serverTimestamp()\r\n            });\r\n\r\n            // G√ºncellenmi≈ü profili getir\r\n            profile = await getUserProfile(user.uid) || profile;\r\n        }\r\n\r\n        return profile;\r\n    } catch (error) {\r\n        console.error('Error syncing user profile:', error);\r\n        throw error;\r\n    }\r\n}\r\n\r\n/**\r\n * Kullanƒ±cƒ± profilini manuel g√ºncelle\r\n */\r\nexport async function updateUserProfile(\r\n    uid: string,\r\n    updates: Partial<Omit<UserProfile, 'uid' | 'createdAt'>>\r\n): Promise<void> {\r\n    try {\r\n        await updateDoc(doc(db, 'users', uid), {\r\n            ...updates,\r\n            lastUpdated: serverTimestamp()\r\n        });\r\n    } catch (error) {\r\n        console.error('Error updating user profile:', error);\r\n        throw error;\r\n    }\r\n}\r\n"],"names":[],"mappings":";;;;;;;;;;;;AAAA;AAAA;AAQA;AAEA;;;;AAMO,eAAe,kBAAkB,IAAU;IAC9C,MAAM,eAAe,uIAAM,CAAC,EAAE,EAAE,YAAY;IAE5C,MAAM,cAA2B;QAC7B,KAAK,KAAK,GAAG;QACb,OAAO,KAAK,KAAK,IAAI;QACrB,aAAa,KAAK,WAAW,IAAI;QACjC,UAAU,KAAK,QAAQ;QACvB,WAAW;QACX,IAAI;QACJ,cAAc,aAAa,IAAI;QAC/B,WAAW,+KAAS,CAAC,GAAG;QACxB,aAAa,+KAAS,CAAC,GAAG;IAC9B;IAEA,IAAI;QACA,MAAM,IAAA,4KAAM,EAAC,IAAA,yKAAG,EAAC,+IAAE,EAAE,SAAS,KAAK,GAAG,GAAG;QACzC,OAAO;IACX,EAAE,OAAO,OAAO;QACZ,QAAQ,KAAK,CAAC,gCAAgC;QAC9C,MAAM;IACV;AACJ;AAKO,eAAe,eAAe,GAAW;IAC5C,IAAI;QACA,MAAM,SAAS,IAAA,yKAAG,EAAC,+IAAE,EAAE,SAAS;QAChC,MAAM,UAAU,MAAM,IAAA,4KAAM,EAAC;QAE7B,IAAI,QAAQ,MAAM,IAAI;YAClB,OAAO,QAAQ,IAAI;QACvB;QACA,OAAO;IACX,EAAE,OAAO,OAAO;QACZ,QAAQ,KAAK,CAAC,+BAA+B;QAC7C,OAAO;IACX;AACJ;AAKO,eAAe,aAAa,GAAW,EAAE,MAAc;IAC1D,IAAI;QACA,MAAM,UAAU,MAAM,eAAe;QACrC,IAAI,CAAC,SAAS;YACV,MAAM,IAAI,MAAM;QACpB;QAEA,MAAM,YAAY,QAAQ,EAAE,IAAI;QAChC,MAAM,WAAW,IAAA,6IAAY,EAAC;QAC9B,MAAM,QAAQ,YAAY;QAC1B,MAAM,WAAW,IAAA,6IAAY,EAAC;QAE9B,MAAM,IAAA,+KAAS,EAAC,IAAA,yKAAG,EAAC,+IAAE,EAAE,SAAS,MAAM;YACnC,IAAI;YACJ,cAAc,SAAS,IAAI;YAC3B,aAAa,IAAA,qLAAe;QAChC;QAEA,OAAO;YACH,UAAU,SAAS,EAAE,KAAK,SAAS,EAAE;YACrC,OAAO,SAAS,IAAI;QACxB;IACJ,EAAE,OAAO,OAAO;QACZ,QAAQ,KAAK,CAAC,2BAA2B;QACzC,MAAM;IACV;AACJ;AAMO,eAAe,gBAAgB,IAAU;IAC5C,IAAI;QACA,IAAI,UAAU,MAAM,eAAe,KAAK,GAAG;QAE3C,IAAI,CAAC,SAAS;YACV,uBAAuB;YACvB,UAAU,MAAM,kBAAkB;QACtC,OAAO;YACH,wEAAwE;YACxE,MAAM,IAAA,+KAAS,EAAC,IAAA,yKAAG,EAAC,+IAAE,EAAE,SAAS,KAAK,GAAG,GAAG;gBACxC,OAAO,KAAK,KAAK,IAAI,QAAQ,KAAK;gBAClC,aAAa,KAAK,WAAW,IAAI,QAAQ,WAAW;gBACpD,UAAU,KAAK,QAAQ;gBACvB,aAAa,IAAA,qLAAe;YAChC;YAEA,6BAA6B;YAC7B,UAAU,MAAM,eAAe,KAAK,GAAG,KAAK;QAChD;QAEA,OAAO;IACX,EAAE,OAAO,OAAO;QACZ,QAAQ,KAAK,CAAC,+BAA+B;QAC7C,MAAM;IACV;AACJ;AAKO,eAAe,kBAClB,GAAW,EACX,OAAwD;IAExD,IAAI;QACA,MAAM,IAAA,+KAAS,EAAC,IAAA,yKAAG,EAAC,+IAAE,EAAE,SAAS,MAAM;YACnC,GAAG,OAAO;YACV,aAAa,IAAA,qLAAe;QAChC;IACJ,EAAE,OAAO,OAAO;QACZ,QAAQ,KAAK,CAAC,gCAAgC;QAC9C,MAAM;IACV;AACJ"}},
    {"offset": {"line": 436, "column": 0}, "map": {"version":3,"sources":["C:/Users/90538/Desktop/fabula/benim-hikaye-uygulamasi/src/contexts/AuthContext.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { createContext, useContext, useEffect, useState, ReactNode } from 'react';\r\nimport { User, onAuthStateChanged } from 'firebase/auth';\r\nimport { auth } from '@/lib/firebase';\r\nimport {\r\n    signInWithGoogle as googleSignIn,\r\n    signInWithEmail as emailSignIn,\r\n    signUpWithEmail as emailSignUp,\r\n    signOutUser,\r\n    resetPassword as sendResetEmail\r\n} from '@/lib/auth';\r\nimport { syncUserProfile, getUserProfile } from '@/lib/userService';\r\nimport { UserProfile } from '@/interfaces/User';\r\n\r\ninterface AuthContextType {\r\n    user: User | null;\r\n    userProfile: UserProfile | null;\r\n    loading: boolean;\r\n    signInWithGoogle: (rememberMe?: boolean) => Promise<void>;\r\n    signInWithEmail: (email: string, password: string, rememberMe?: boolean) => Promise<void>;\r\n    signUpWithEmail: (email: string, password: string, displayName: string, rememberMe?: boolean) => Promise<void>;\r\n    signOut: () => Promise<void>;\r\n    resetPassword: (email: string) => Promise<void>;\r\n    refreshUserProfile: () => Promise<void>;\r\n}\r\n\r\nconst AuthContext = createContext<AuthContextType | undefined>(undefined);\r\n\r\nexport function AuthProvider({ children }: { children: ReactNode }) {\r\n    const [user, setUser] = useState<User | null>(null);\r\n    const [userProfile, setUserProfile] = useState<UserProfile | null>(null);\r\n    const [loading, setLoading] = useState(true);\r\n\r\n    useEffect(() => {\r\n        // Auth state deƒüi≈üikliklerini dinle\r\n        const unsubscribe = onAuthStateChanged(auth, async (user) => {\r\n            setUser(user);\r\n\r\n            if (user) {\r\n                // Kullanƒ±cƒ± giri≈ü yaptƒ±ysa profili senkronize et\r\n                try {\r\n                    const profile = await syncUserProfile(user);\r\n                    setUserProfile(profile);\r\n                } catch (error) {\r\n                    console.error('Error syncing user profile:', error);\r\n                    setUserProfile(null);\r\n                }\r\n            } else {\r\n                // Kullanƒ±cƒ± √ßƒ±kƒ±≈ü yaptƒ±ysa profili temizle\r\n                setUserProfile(null);\r\n            }\r\n\r\n            setLoading(false);\r\n        });\r\n\r\n        return unsubscribe;\r\n    }, []);\r\n\r\n    const refreshUserProfile = async () => {\r\n        if (user) {\r\n            try {\r\n                const profile = await getUserProfile(user.uid);\r\n                setUserProfile(profile);\r\n            } catch (error) {\r\n                console.error('Error refreshing user profile:', error);\r\n            }\r\n        }\r\n    };\r\n\r\n    const handleSignInWithGoogle = async (rememberMe: boolean = false) => {\r\n        try {\r\n            await googleSignIn(rememberMe);\r\n        } catch (error: any) {\r\n            throw error;\r\n        }\r\n    };\r\n\r\n    const handleSignInWithEmail = async (\r\n        email: string,\r\n        password: string,\r\n        rememberMe: boolean = false\r\n    ) => {\r\n        try {\r\n            await emailSignIn(email, password, rememberMe);\r\n        } catch (error: any) {\r\n            throw error;\r\n        }\r\n    };\r\n\r\n    const handleSignUpWithEmail = async (\r\n        email: string,\r\n        password: string,\r\n        displayName: string,\r\n        rememberMe: boolean = false\r\n    ) => {\r\n        try {\r\n            await emailSignUp(email, password, displayName, rememberMe);\r\n        } catch (error: any) {\r\n            throw error;\r\n        }\r\n    };\r\n\r\n    const handleSignOut = async () => {\r\n        try {\r\n            await signOutUser();\r\n        } catch (error: any) {\r\n            throw error;\r\n        }\r\n    };\r\n\r\n    const handleResetPassword = async (email: string) => {\r\n        try {\r\n            await sendResetEmail(email);\r\n        } catch (error: any) {\r\n            throw error;\r\n        }\r\n    };\r\n\r\n    const value = {\r\n        user,\r\n        userProfile,\r\n        loading,\r\n        signInWithGoogle: handleSignInWithGoogle,\r\n        signInWithEmail: handleSignInWithEmail,\r\n        signUpWithEmail: handleSignUpWithEmail,\r\n        signOut: handleSignOut,\r\n        resetPassword: handleResetPassword,\r\n        refreshUserProfile,\r\n    };\r\n\r\n    return <AuthContext.Provider value={value}>{children}</AuthContext.Provider>;\r\n}\r\n\r\nexport function useAuth() {\r\n    const context = useContext(AuthContext);\r\n    if (context === undefined) {\r\n        throw new Error('useAuth must be used within an AuthProvider');\r\n    }\r\n    return context;\r\n}\r\n"],"names":["c","_c","createContext","useContext","useEffect","useState","ReactNode","User","onAuthStateChanged","auth","signInWithGoogle","googleSignIn","signInWithEmail","emailSignIn","signUpWithEmail","emailSignUp","signOutUser","resetPassword","sendResetEmail","syncUserProfile","getUserProfile","UserProfile","AuthContextType","user","userProfile","loading","rememberMe","Promise","email","password","displayName","signOut","refreshUserProfile","AuthContext","undefined","AuthProvider","t0","$","$i","Symbol","for","children","setUser","setUserProfile","setLoading","t1","t2","AuthProvider[useEffect()]","unsubscribe","user_0","profile","t3","error","console","AuthProvider[refreshUserProfile]","profile_0","uid","t4","handleSignInWithGoogle","_AuthProviderHandleSignInWithGoogle","handleSignInWithEmail","_AuthProviderHandleSignInWithEmail","handleSignUpWithEmail","_AuthProviderHandleSignUpWithEmail","handleSignOut","_AuthProviderHandleSignOut","handleResetPassword","_AuthProviderHandleResetPassword","value","t5","email_1","email_0","password_0","rememberMe_1","rememberMe_0","useAuth","context","Error"],"mappings":"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","ignoreList":[]}},
    {"offset": {"line": 650, "column": 0}, "map": {"version":3,"sources":["C:/Users/90538/Desktop/fabula/benim-hikaye-uygulamasi/src/contexts/ThemeContext.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { createContext, useContext, useEffect, useState, ReactNode } from 'react';\r\n\r\ntype Theme = 'light' | 'dark';\r\n\r\ninterface ThemeContextType {\r\n    theme: Theme;\r\n    toggleTheme: () => void;\r\n}\r\n\r\nconst ThemeContext = createContext<ThemeContextType | undefined>(undefined);\r\n\r\nexport function ThemeProvider({ children }: { children: ReactNode }) {\r\n    const [theme, setTheme] = useState<Theme>('light');\r\n    const [mounted, setMounted] = useState(false);\r\n\r\n    // Load theme from localStorage on mount\r\n    useEffect(() => {\r\n        setMounted(true);\r\n        const savedTheme = localStorage.getItem('fabula-theme') as Theme;\r\n\r\n        if (savedTheme) {\r\n            setTheme(savedTheme);\r\n        } else {\r\n            // Check system preference\r\n            const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;\r\n            setTheme(prefersDark ? 'dark' : 'light');\r\n        }\r\n    }, []);\r\n\r\n    // Update document when theme changes\r\n    useEffect(() => {\r\n        if (mounted) {\r\n            document.documentElement.setAttribute('data-theme', theme);\r\n            localStorage.setItem('fabula-theme', theme);\r\n        }\r\n    }, [theme, mounted]);\r\n\r\n    const toggleTheme = () => {\r\n        setTheme(prev => prev === 'light' ? 'dark' : 'light');\r\n    };\r\n\r\n    // Prevent flash of wrong theme\r\n    if (!mounted) {\r\n        return <>{children}</>;\r\n    }\r\n\r\n    return (\r\n        <ThemeContext.Provider value={{ theme, toggleTheme }}>\r\n            {children}\r\n        </ThemeContext.Provider>\r\n    );\r\n}\r\n\r\nexport function useTheme() {\r\n    const context = useContext(ThemeContext);\r\n    // Return null instead of throwing during SSR\r\n    return context || null;\r\n}\r\n"],"names":["c","_c","createContext","useContext","useEffect","useState","ReactNode","Theme","ThemeContextType","theme","toggleTheme","ThemeContext","undefined","ThemeProvider","t0","$","$i","Symbol","for","children","setTheme","mounted","setMounted","t1","t2","ThemeProvider[useEffect()]","savedTheme","localStorage","getItem","prefersDark","window","matchMedia","matches","t3","t4","document","documentElement","setAttribute","setItem","t5","ThemeProvider[toggleTheme]","_ThemeProviderToggleThemeSetTheme","t6","t7","prev","useTheme","context"],"mappings":"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","ignoreList":[]}},
    {"offset": {"line": 805, "column": 0}, "map": {"version":3,"sources":["C:/Users/90538/Desktop/fabula/benim-hikaye-uygulamasi/src/app/components/Badge.tsx"],"sourcesContent":["import { Badge as BadgeType } from '@/interfaces/Badge';\r\n\r\ninterface BadgeProps {\r\n    badge: BadgeType;\r\n    size?: 'small' | 'medium' | 'large';\r\n    showName?: boolean;\r\n    showTooltip?: boolean;\r\n}\r\n\r\nexport default function Badge({\r\n    badge,\r\n    size = 'small',\r\n    showName = false,\r\n    showTooltip = true\r\n}: BadgeProps) {\r\n    const sizeClasses = {\r\n        small: 'badge-small',\r\n        medium: 'badge-medium',\r\n        large: 'badge-large'\r\n    };\r\n\r\n    return (\r\n        <div\r\n            className={`badge ${sizeClasses[size]}`}\r\n            title={showTooltip ? `${badge.name} - ${badge.description}` : undefined}\r\n        >\r\n            <span className=\"badge-emoji\">{badge.emoji}</span>\r\n            {showName && <span className=\"badge-name\">{badge.name}</span>}\r\n        </div>\r\n    );\r\n}\r\n"],"names":["Badge","BadgeType","BadgeProps","badge","size","showName","showTooltip","t0","$","_c","$i","Symbol","for","t1","t2","t3","undefined","t4","small","medium","large","sizeClasses","t5","t6","name","description","t7","emoji","t8","t9"],"mappings":"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","ignoreList":[]}},
    {"offset": {"line": 904, "column": 0}, "map": {"version":3,"sources":["C:/Users/90538/Desktop/fabula/benim-hikaye-uygulamasi/src/app/components/UserMenu.tsx"],"sourcesContent":["/* eslint-disable @next/next/no-img-element */\r\n'use client';\r\n\r\nimport { useState, useRef, useEffect } from 'react';\r\nimport { useAuth } from '@/contexts/AuthContext';\r\nimport { getUserBadge, getXPToNextBadge } from '@/interfaces/Badge';\r\nimport Badge from './Badge';\r\nimport Link from 'next/link';\r\n\r\nexport default function UserMenu() {\r\n    const { user, userProfile, signOut } = useAuth();\r\n    const [isOpen, setIsOpen] = useState(false);\r\n    const menuRef = useRef<HTMLDivElement>(null);\r\n\r\n    useEffect(() => {\r\n        function handleClickOutside(event: MouseEvent) {\r\n            if (menuRef.current && !menuRef.current.contains(event.target as Node)) {\r\n                setIsOpen(false);\r\n            }\r\n        }\r\n\r\n        document.addEventListener('mousedown', handleClickOutside);\r\n        return () => document.removeEventListener('mousedown', handleClickOutside);\r\n    }, []);\r\n\r\n    const handleSignOut = async () => {\r\n        try {\r\n            await signOut();\r\n            setIsOpen(false);\r\n        } catch (error) {\r\n            console.error('Sign out error:', error);\r\n        }\r\n    };\r\n\r\n    if (!user) return null;\r\n\r\n    const displayName = user.displayName || 'Kullanƒ±cƒ±';\r\n    const avatar = user.photoURL || 'üë§';\r\n    const userXP = userProfile ? (userProfile.xp || 0) : 0;\r\n    const currentBadge = userProfile ? getUserBadge(userXP) : null;\r\n    const nextBadgeInfo = userProfile ? getXPToNextBadge(userXP) : null;\r\n\r\n    return (\r\n        <div className=\"user-menu\" ref={menuRef}>\r\n            <button className=\"user-menu-button\" onClick={() => setIsOpen(!isOpen)}>\r\n                {user.photoURL ? (\r\n                    <img src={avatar} alt={displayName} className=\"user-avatar-img\" />\r\n                ) : (\r\n                    <span className=\"user-avatar-emoji\">{avatar}</span>\r\n                )}\r\n                <span className=\"user-name\">{displayName}</span>\r\n                {currentBadge && <span className=\"user-badge-icon\">{currentBadge.emoji}</span>}\r\n                <span className={`dropdown-arrow ${isOpen ? 'open' : ''}`}>‚ñº</span>\r\n            </button>\r\n\r\n            {isOpen && (\r\n                <div className=\"user-menu-dropdown\">\r\n                    <div className=\"user-menu-header\">\r\n                        <div className=\"user-menu-info\">\r\n                            <strong>{displayName}</strong>\r\n                            <small>{user.email}</small>\r\n                        </div>\r\n                        {currentBadge && userProfile && (\r\n                            <div className=\"user-menu-badge\">\r\n                                <Badge badge={currentBadge} size=\"medium\" showName />\r\n                                <div className=\"user-stats\">\r\n                                    <span className=\"stat-item\">\r\n                                        <span className=\"stat-icon\">‚ú®</span>\r\n                                        {userXP} XP\r\n                                    </span>\r\n                                    {nextBadgeInfo && nextBadgeInfo.nextBadge && (\r\n                                        <span className=\"stat-item next-badge\">\r\n                                            <span className=\"stat-icon\">‚≠ê</span>\r\n                                            {nextBadgeInfo.remainingXP} XP sonraki rozete\r\n                                        </span>\r\n                                    )}\r\n                                </div>\r\n                            </div>\r\n                        )}\r\n                    </div>\r\n\r\n                    <div className=\"user-menu-divider\"></div>\r\n\r\n                    <Link href=\"/profile\" className=\"user-menu-item\" onClick={() => setIsOpen(false)}>\r\n                        <span>üë§</span>\r\n                        Profilim\r\n                    </Link>\r\n\r\n                    <Link href=\"/my-stories\" className=\"user-menu-item\" onClick={() => setIsOpen(false)}>\r\n                        <span>üìö</span>\r\n                        Hikayelerim\r\n                    </Link>\r\n\r\n                    <Link href=\"/favorites\" className=\"user-menu-item\" onClick={() => setIsOpen(false)}>\r\n                        <span>‚≠ê</span>\r\n                        Favorilerim\r\n                    </Link>\r\n\r\n                    <Link href=\"/settings\" className=\"user-menu-item\" onClick={() => setIsOpen(false)}>\r\n                        <span>‚öôÔ∏è</span>\r\n                        Ayarlar\r\n                    </Link>\r\n\r\n                    <div className=\"user-menu-divider\"></div>\r\n\r\n                    <button className=\"user-menu-item logout\" onClick={handleSignOut}>\r\n                        <span>üö™</span>\r\n                        √áƒ±kƒ±≈ü Yap\r\n                    </button>\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n}\r\n"],"names":["c","_c","useState","useRef","useEffect","useAuth","getUserBadge","getXPToNextBadge","Badge","Link","UserMenu","$","$i","Symbol","for","user","userProfile","signOut","isOpen","setIsOpen","menuRef","t0","t1","UserMenu[useEffect()]","handleClickOutside","event","current","contains","target","Node","document","addEventListener","removeEventListener","t2","UserMenu[handleSignOut]","t3","error","console","handleSignOut","displayName","avatar","photoURL","userXP","xp","currentBadge","t4","nextBadgeInfo","t5","UserMenu[<button>.onClick]","t6","t7","t8","emoji","t9","t10","t11","t12","email","nextBadge","remainingXP","UserMenu[<Link>.onClick]","t13"],"mappings":"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","ignoreList":[]}},
    {"offset": {"line": 1383, "column": 0}, "map": {"version":3,"sources":["C:/Users/90538/Desktop/fabula/benim-hikaye-uygulamasi/src/app/components/AuthModal.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useState } from 'react';\r\nimport { useAuth } from '@/contexts/AuthContext';\r\n\r\ninterface AuthModalProps {\r\n    isOpen: boolean;\r\n    onClose: () => void;\r\n}\r\n\r\nexport default function AuthModal({ isOpen, onClose }: AuthModalProps) {\r\n    const [isLogin, setIsLogin] = useState(true);\r\n    const [email, setEmail] = useState('');\r\n    const [password, setPassword] = useState('');\r\n    const [displayName, setDisplayName] = useState('');\r\n    const [rememberMe, setRememberMe] = useState(false);\r\n    const [showPassword, setShowPassword] = useState(false);\r\n    const [error, setError] = useState('');\r\n    const [loading, setLoading] = useState(false);\r\n    const [resetEmailSent, setResetEmailSent] = useState(false);\r\n    const [showResetPassword, setShowResetPassword] = useState(false);\r\n\r\n    const { signInWithGoogle, signInWithEmail, signUpWithEmail, resetPassword } = useAuth();\r\n\r\n    if (!isOpen) return null;\r\n\r\n    const handleGoogleSignIn = async () => {\r\n        setLoading(true);\r\n        setError('');\r\n        try {\r\n            await signInWithGoogle(rememberMe);\r\n            onClose();\r\n        } catch (err: any) {\r\n            setError(err.message);\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    const handleEmailAuth = async (e: React.FormEvent) => {\r\n        e.preventDefault();\r\n        setLoading(true);\r\n        setError('');\r\n\r\n        try {\r\n            if (isLogin) {\r\n                await signInWithEmail(email, password, rememberMe);\r\n            } else {\r\n                if (!displayName.trim()) {\r\n                    setError('L√ºtfen adƒ±nƒ±zƒ± girin.');\r\n                    setLoading(false);\r\n                    return;\r\n                }\r\n                await signUpWithEmail(email, password, displayName, rememberMe);\r\n            }\r\n            onClose();\r\n            resetForm();\r\n        } catch (err: any) {\r\n            setError(err.message);\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    const handleResetPassword = async (e: React.FormEvent) => {\r\n        e.preventDefault();\r\n        setLoading(true);\r\n        setError('');\r\n\r\n        try {\r\n            await resetPassword(email);\r\n            setResetEmailSent(true);\r\n            setTimeout(() => {\r\n                setShowResetPassword(false);\r\n                setResetEmailSent(false);\r\n            }, 3000);\r\n        } catch (err: any) {\r\n            setError(err.message);\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    const resetForm = () => {\r\n        setEmail('');\r\n        setPassword('');\r\n        setDisplayName('');\r\n        setError('');\r\n        setShowPassword(false);\r\n        setResetEmailSent(false);\r\n        setShowResetPassword(false);\r\n    };\r\n\r\n    const switchMode = () => {\r\n        setIsLogin(!isLogin);\r\n        resetForm();\r\n    };\r\n\r\n    return (\r\n        <div className=\"modal-overlay\" onClick={onClose}>\r\n            <div className=\"modal-content\" onClick={(e) => e.stopPropagation()}>\r\n                <button className=\"modal-close\" onClick={onClose}>\r\n                    ‚úï\r\n                </button>\r\n\r\n                {showResetPassword ? (\r\n                    <div className=\"auth-container\">\r\n                        <h2 className=\"auth-title\">≈ûifre Sƒ±fƒ±rlama</h2>\r\n                        <p className=\"auth-subtitle\">\r\n                            Email adresinize ≈üifre sƒ±fƒ±rlama baƒülantƒ±sƒ± g√∂ndereceƒüiz.\r\n                        </p>\r\n\r\n                        {resetEmailSent ? (\r\n                            <div className=\"success-message\">\r\n                                ‚úÖ ≈ûifre sƒ±fƒ±rlama emaili g√∂nderildi! Email kutunuzu kontrol edin.\r\n                            </div>\r\n                        ) : (\r\n                            <form onSubmit={handleResetPassword} className=\"auth-form\">\r\n                                <div className=\"form-group\">\r\n                                    <label>Email</label>\r\n                                    <input\r\n                                        type=\"email\"\r\n                                        value={email}\r\n                                        onChange={(e) => setEmail(e.target.value)}\r\n                                        placeholder=\"ornek@email.com\"\r\n                                        required\r\n                                        disabled={loading}\r\n                                    />\r\n                                </div>\r\n\r\n                                {error && <div className=\"error-message\">{error}</div>}\r\n\r\n                                <button type=\"submit\" className=\"auth-button primary\" disabled={loading}>\r\n                                    {loading ? 'G√∂nderiliyor...' : '≈ûifre Sƒ±fƒ±rlama Linki G√∂nder'}\r\n                                </button>\r\n\r\n                                <button\r\n                                    type=\"button\"\r\n                                    className=\"text-button\"\r\n                                    onClick={() => setShowResetPassword(false)}\r\n                                >\r\n                                    ‚Üê Geri D√∂n\r\n                                </button>\r\n                            </form>\r\n                        )}\r\n                    </div>\r\n                ) : (\r\n                    <div className=\"auth-container\">\r\n                        <h2 className=\"auth-title\">{isLogin ? 'Giri≈ü Yap' : 'Kayƒ±t Ol'}</h2>\r\n                        <p className=\"auth-subtitle\">\r\n                            {isLogin\r\n                                ? 'Hikayelerinize devam etmek i√ßin giri≈ü yapƒ±n'\r\n                                : 'Yeni bir hesap olu≈üturun ve hikayelere katƒ±lƒ±n'}\r\n                        </p>\r\n\r\n                        <button\r\n                            className=\"google-button\"\r\n                            onClick={handleGoogleSignIn}\r\n                            disabled={loading}\r\n                        >\r\n                            <span className=\"google-icon\">üîµ</span>\r\n                            Google ile {isLogin ? 'Giri≈ü Yap' : 'Kayƒ±t Ol'}\r\n                        </button>\r\n\r\n                        <div className=\"divider\">\r\n                            <span>veya</span>\r\n                        </div>\r\n\r\n                        <form onSubmit={handleEmailAuth} className=\"auth-form\">\r\n                            {!isLogin && (\r\n                                <div className=\"form-group\">\r\n                                    <label>Adƒ±nƒ±z</label>\r\n                                    <input\r\n                                        type=\"text\"\r\n                                        value={displayName}\r\n                                        onChange={(e) => setDisplayName(e.target.value)}\r\n                                        placeholder=\"Adƒ±nƒ±z Soyadƒ±nƒ±z\"\r\n                                        required={!isLogin}\r\n                                        disabled={loading}\r\n                                    />\r\n                                </div>\r\n                            )}\r\n\r\n                            <div className=\"form-group\">\r\n                                <label>Email</label>\r\n                                <input\r\n                                    type=\"email\"\r\n                                    value={email}\r\n                                    onChange={(e) => setEmail(e.target.value)}\r\n                                    placeholder=\"ornek@email.com\"\r\n                                    required\r\n                                    disabled={loading}\r\n                                />\r\n                            </div>\r\n\r\n                            <div className=\"form-group\">\r\n                                <label>≈ûifre</label>\r\n                                <div className=\"password-input\">\r\n                                    <input\r\n                                        type={showPassword ? 'text' : 'password'}\r\n                                        value={password}\r\n                                        onChange={(e) => setPassword(e.target.value)}\r\n                                        placeholder=\"‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢\"\r\n                                        required\r\n                                        minLength={6}\r\n                                        disabled={loading}\r\n                                    />\r\n                                    <button\r\n                                        type=\"button\"\r\n                                        className=\"password-toggle\"\r\n                                        onClick={() => setShowPassword(!showPassword)}\r\n                                    >\r\n                                        {showPassword ? 'üëÅÔ∏è' : 'üëÅÔ∏è‚Äçüó®Ô∏è'}\r\n                                    </button>\r\n                                </div>\r\n                                {!isLogin && (\r\n                                    <small className=\"form-hint\">En az 6 karakter olmalƒ±</small>\r\n                                )}\r\n                            </div>\r\n\r\n                            <div className=\"form-options\">\r\n                                <label className=\"checkbox-label\">\r\n                                    <input\r\n                                        type=\"checkbox\"\r\n                                        checked={rememberMe}\r\n                                        onChange={(e) => setRememberMe(e.target.checked)}\r\n                                        disabled={loading}\r\n                                    />\r\n                                    <span>Beni Hatƒ±rla (30 g√ºn)</span>\r\n                                </label>\r\n\r\n                                {isLogin && (\r\n                                    <button\r\n                                        type=\"button\"\r\n                                        className=\"text-button\"\r\n                                        onClick={() => setShowResetPassword(true)}\r\n                                    >\r\n                                        ≈ûifremi Unuttum\r\n                                    </button>\r\n                                )}\r\n                            </div>\r\n\r\n                            {error && <div className=\"error-message\">{error}</div>}\r\n\r\n                            <button type=\"submit\" className=\"auth-button primary\" disabled={loading}>\r\n                                {loading\r\n                                    ? 'ƒ∞≈üleniyor...'\r\n                                    : isLogin\r\n                                        ? 'Giri≈ü Yap'\r\n                                        : 'Kayƒ±t Ol'}\r\n                            </button>\r\n                        </form>\r\n\r\n                        <div className=\"auth-switch\">\r\n                            {isLogin ? 'Hesabƒ±nƒ±z yok mu?' : 'Zaten hesabƒ±nƒ±z var mƒ±?'}\r\n                            <button className=\"text-button\" onClick={switchMode} disabled={loading}>\r\n                                {isLogin ? 'Kayƒ±t Ol' : 'Giri≈ü Yap'}\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                )}\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n"],"names":["useState","useAuth","AuthModalProps","isOpen","onClose","AuthModal","isLogin","setIsLogin","email","setEmail","password","setPassword","displayName","setDisplayName","rememberMe","setRememberMe","showPassword","setShowPassword","error","setError","loading","setLoading","resetEmailSent","setResetEmailSent","showResetPassword","setShowResetPassword","signInWithGoogle","signInWithEmail","signUpWithEmail","resetPassword","handleGoogleSignIn","err","message","handleEmailAuth","e","React","FormEvent","preventDefault","trim","resetForm","handleResetPassword","setTimeout","switchMode","stopPropagation","target","value","checked"],"mappings":"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","ignoreList":[]}},
    {"offset": {"line": 1879, "column": 0}, "map": {"version":3,"sources":["C:/Users/90538/Desktop/fabula/benim-hikaye-uygulamasi/src/app/components/ThemeToggle.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useTheme } from '@/contexts/ThemeContext';\r\n\r\nexport default function ThemeToggle() {\r\n    const themeContext = useTheme();\r\n\r\n    // Return null during SSR or if context is not available\r\n    if (!themeContext) {\r\n        return null;\r\n    }\r\n\r\n    const { theme, toggleTheme } = themeContext;\r\n\r\n    return (\r\n        <button\r\n            className=\"theme-toggle\"\r\n            onClick={toggleTheme}\r\n            title={theme === 'light' ? 'Karanlƒ±k moda ge√ß' : 'Aydƒ±nlƒ±k moda ge√ß'}\r\n            aria-label=\"Tema deƒüi≈ütir\"\r\n        >\r\n            <span className=\"theme-icon\">\r\n                {theme === 'light' ? 'üåô' : '‚òÄÔ∏è'}\r\n            </span>\r\n        </button>\r\n    );\r\n}\r\n"],"names":["c","_c","useTheme","ThemeToggle","$","$i","Symbol","for","themeContext","theme","toggleTheme","t0","t1","t2","t3"],"mappings":";;;;;AAAa,SAAAA,CAAA,IAAAC,EAAA;AAEb,SAASC,QAAQ,QAAQ,yBAAyB;;;AAFlD,YAAY;;;AAIG;;IAAA,MAAAE,CAAA,OAAAH,gLAAA,EAAA;IAAA,IAAAG,CAAA,CAAA,EAAA,KAAA,oEAAA;QAAA,IAAA,IAAAC,EAAA,GAAA,GAAAA,EAAA,GAAA,GAAAA,EAAA,IAAA,EAAA;YAAAD,CAAA,CAAAC,EAAA,CAAA,GAAAC,MAAA,CAAAC,GAAA,CAAA;QAAA;QAAAH,CAAA,CAAA,EAAA,GAAA;IAAA;IACX,MAAAI,YAAA;IAGA,IAAI,CAACA,YAAY,EAAA;QAAA,OACN,IAAI;IAAA;IAGf,MAAA,EAAAC,KAAA,EAAAC,WAAAA,EAAA,GAA+BF,YAAY;IAM5B,MAAAG,EAAA,GAAAF,KAAK,KAAK,OAAmD,GAA7D,2BAA6D,GAA7D,gCAA6D;IAI/D,MAAAG,EAAA,GAAAH,KAAK,KAAK,OAAqB,GAA/B,cAA+B,GAA/B,cAA+B;IAAA,IAAAI,EAAA;IAAA,IAAAT,CAAA,CAAA,EAAA,KAAAQ,EAAA,EAAA;QADpCC,EAAA,iBAAA,6LAAA,IAEO;YAFS,SAAY,EAAZ,YAAY,CACvB;sBAAAD,EAA8B,CACnC,EAFA,IAEO;;;;;;QAAAR,CAAA,CAAA,EAAA,GAAAQ,EAAA;QAAAR,CAAA,CAAA,EAAA,GAAAS,EAAA;IAAA,OAAA;QAAAA,EAAA,GAAAT,CAAA,CAAA,EAAA;IAAA;IAAA,IAAAU,EAAA;IAAA,IAAAV,CAAA,CAAA,EAAA,KAAAO,EAAA,IAAAP,CAAA,CAAA,EAAA,KAAAS,EAAA,IAAAT,CAAA,CAAA,EAAA,KAAAM,WAAA,EAAA;QARXI,EAAA,iBAAA,6LAAA,MASS;YARK,SAAc,EAAd,cAAc;YACfJ,OAAW,CAAXA,CAAAA,WAAU,CAAC;YACb,KAA6D,CAA7D,CAAAC,EAA4D,CAAC;YACzD,UAAe,CAAf,GAAA,yBAAc,CAAC,CAE1B;sBAAAE,EAEM,CACV,EATA,MASS;;;;;;QAAAT,CAAA,CAAA,EAAA,GAAAO,EAAA;QAAAP,CAAA,CAAA,EAAA,GAAAS,EAAA;QAAAT,CAAA,CAAA,EAAA,GAAAM,WAAA;QAAAN,CAAA,CAAA,EAAA,GAAAU,EAAA;IAAA,OAAA;QAAAA,EAAA,GAAAV,CAAA,CAAA,EAAA;IAAA;IAAA,OATTU,EASS;AAAA;;;QAnBQZ,+IAAQ,CAAC,CAAC;;;KADpBC,YAAA","ignoreList":[]}},
    {"offset": {"line": 1959, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/90538/Desktop/fabula/benim-hikaye-uygulamasi/src/lib/notificationService.ts"],"sourcesContent":["import {\r\n    collection,\r\n    doc,\r\n    addDoc,\r\n    getDoc,\r\n    getDocs,\r\n    updateDoc,\r\n    deleteDoc,\r\n    query,\r\n    where,\r\n    orderBy,\r\n    limit,\r\n    Timestamp,\r\n    onSnapshot,\r\n    Unsubscribe\r\n} from 'firebase/firestore';\r\nimport { db } from './firebase';\r\n\r\n// Bildirim tipleri\r\nexport type NotificationType =\r\n    | 'comment'\r\n    | 'reply'\r\n    | 'like'\r\n    | 'favorite'\r\n    | 'new_follower'\r\n    | 'badge_earned'\r\n    | 'story_published';\r\n\r\nexport interface Notification {\r\n    id: string;\r\n    userId: string;          // Bildirimi alacak kullanƒ±cƒ±\r\n    type: NotificationType;\r\n    actorId?: string;        // ƒ∞≈ülemi yapan kullanƒ±cƒ± (opsiyonel)\r\n    actorName?: string;\r\n    actorAvatar?: string;\r\n    storyId?: string;\r\n    storyTitle?: string;\r\n    commentId?: string;      // Yorum bildirimleri i√ßin\r\n    badgeName?: string;      // Rozet bildirimleri i√ßin\r\n    message: string;\r\n    read: boolean;\r\n    createdAt: Date;\r\n    actionUrl?: string;      // Tƒ±klanƒ±nca gidilecek URL\r\n    icon?: string;           // Emoji icon\r\n}\r\n\r\n// Firestore koleksiyon referansƒ±\r\nconst notificationsCollection = collection(db, 'notifications');\r\n\r\n// Yeni bildirim olu≈ütur\r\nexport async function createNotification(data: Omit<Notification, 'id' | 'createdAt' | 'read'>): Promise<string> {\r\n    try {\r\n        // Kendi kendine bildirim g√∂nderme\r\n        if (data.userId === data.actorId) {\r\n            return '';\r\n        }\r\n\r\n        const docRef = await addDoc(notificationsCollection, {\r\n            ...data,\r\n            read: false,\r\n            createdAt: Timestamp.now()\r\n        });\r\n\r\n        return docRef.id;\r\n    } catch (error) {\r\n        console.error('Error creating notification:', error);\r\n        throw error;\r\n    }\r\n}\r\n\r\n// Kullanƒ±cƒ±nƒ±n bildirimlerini getir\r\nexport async function getUserNotifications(userId: string, limitCount: number = 20): Promise<Notification[]> {\r\n    try {\r\n        const q = query(\r\n            notificationsCollection,\r\n            where('userId', '==', userId),\r\n            orderBy('createdAt', 'desc'),\r\n            limit(limitCount)\r\n        );\r\n\r\n        const querySnapshot = await getDocs(q);\r\n        return querySnapshot.docs.map(doc => ({\r\n            id: doc.id,\r\n            ...doc.data(),\r\n            createdAt: doc.data().createdAt?.toDate() || new Date()\r\n        })) as Notification[];\r\n    } catch (error) {\r\n        console.error('Error fetching notifications:', error);\r\n        return [];\r\n    }\r\n}\r\n\r\n// Bildirimi okundu i≈üaretle\r\nexport async function markAsRead(notificationId: string): Promise<void> {\r\n    try {\r\n        const notificationRef = doc(db, 'notifications', notificationId);\r\n        await updateDoc(notificationRef, {\r\n            read: true\r\n        });\r\n    } catch (error) {\r\n        console.error('Error marking notification as read:', error);\r\n        throw error;\r\n    }\r\n}\r\n\r\n// T√ºm bildirimleri okundu i≈üaretle\r\nexport async function markAllAsRead(userId: string): Promise<void> {\r\n    try {\r\n        const q = query(\r\n            notificationsCollection,\r\n            where('userId', '==', userId),\r\n            where('read', '==', false)\r\n        );\r\n\r\n        const querySnapshot = await getDocs(q);\r\n        const updatePromises = querySnapshot.docs.map(doc =>\r\n            updateDoc(doc.ref, { read: true })\r\n        );\r\n\r\n        await Promise.all(updatePromises);\r\n    } catch (error) {\r\n        console.error('Error marking all notifications as read:', error);\r\n        throw error;\r\n    }\r\n}\r\n\r\n// Okunmamƒ±≈ü bildirim sayƒ±sƒ±nƒ± getir\r\nexport async function getUnreadCount(userId: string): Promise<number> {\r\n    try {\r\n        const q = query(\r\n            notificationsCollection,\r\n            where('userId', '==', userId),\r\n            where('read', '==', false)\r\n        );\r\n\r\n        const querySnapshot = await getDocs(q);\r\n        return querySnapshot.size;\r\n    } catch (error) {\r\n        console.error('Error getting unread count:', error);\r\n        return 0;\r\n    }\r\n}\r\n\r\n// Bildirimi sil\r\nexport async function deleteNotification(notificationId: string): Promise<void> {\r\n    try {\r\n        const notificationRef = doc(db, 'notifications', notificationId);\r\n        await deleteDoc(notificationRef);\r\n    } catch (error) {\r\n        console.error('Error deleting notification:', error);\r\n        throw error;\r\n    }\r\n}\r\n\r\n// Real-time bildirim dinleyicisi\r\nexport function subscribeToNotifications(\r\n    userId: string,\r\n    callback: (notifications: Notification[]) => void\r\n): Unsubscribe {\r\n    const q = query(\r\n        notificationsCollection,\r\n        where('userId', '==', userId),\r\n        orderBy('createdAt', 'desc'),\r\n        limit(20)\r\n    );\r\n\r\n    return onSnapshot(q, (querySnapshot) => {\r\n        const notifications = querySnapshot.docs.map(doc => ({\r\n            id: doc.id,\r\n            ...doc.data(),\r\n            createdAt: doc.data().createdAt?.toDate() || new Date()\r\n        })) as Notification[];\r\n\r\n        callback(notifications);\r\n    }, (error) => {\r\n        console.error('Error in notification subscription:', error);\r\n    });\r\n}\r\n\r\n// G√∂receli zaman formatƒ± (√∂rn: \"5 dakika √∂nce\")\r\nexport function getRelativeTime(date: Date): string {\r\n    const now = new Date();\r\n    const diffInSeconds = Math.floor((now.getTime() - date.getTime()) / 1000);\r\n\r\n    if (diffInSeconds < 60) {\r\n        return 'Az √∂nce';\r\n    }\r\n\r\n    const diffInMinutes = Math.floor(diffInSeconds / 60);\r\n    if (diffInMinutes < 60) {\r\n        return `${diffInMinutes} dakika √∂nce`;\r\n    }\r\n\r\n    const diffInHours = Math.floor(diffInMinutes / 60);\r\n    if (diffInHours < 24) {\r\n        return `${diffInHours} saat √∂nce`;\r\n    }\r\n\r\n    const diffInDays = Math.floor(diffInHours / 24);\r\n    if (diffInDays < 7) {\r\n        return `${diffInDays} g√ºn √∂nce`;\r\n    }\r\n\r\n    const diffInWeeks = Math.floor(diffInDays / 7);\r\n    if (diffInWeeks < 4) {\r\n        return `${diffInWeeks} hafta √∂nce`;\r\n    }\r\n\r\n    const diffInMonths = Math.floor(diffInDays / 30);\r\n    if (diffInMonths < 12) {\r\n        return `${diffInMonths} ay √∂nce`;\r\n    }\r\n\r\n    const diffInYears = Math.floor(diffInDays / 365);\r\n    return `${diffInYears} yƒ±l √∂nce`;\r\n}\r\n\r\n// ============================================\r\n// NOTIFICATION HELPERS\r\n// ============================================\r\n\r\n/**\r\n * Takip bildirimi olu≈ütur\r\n */\r\nexport async function createFollowNotification(\r\n    followedUserId: string,\r\n    followerId: string,\r\n    followerName: string,\r\n    followerAvatar: string\r\n): Promise<string> {\r\n    return createNotification({\r\n        userId: followedUserId,\r\n        type: 'new_follower',\r\n        actorId: followerId,\r\n        actorName: followerName,\r\n        actorAvatar: followerAvatar,\r\n        message: `${followerName} sizi takip etmeye ba≈üladƒ±`,\r\n        actionUrl: `/profile/${followerId}`,\r\n        icon: 'üë•'\r\n    });\r\n}\r\n\r\n/**\r\n * Rozet kazanma bildirimi olu≈ütur\r\n */\r\nexport async function createBadgeNotification(\r\n    userId: string,\r\n    badgeName: string,\r\n    badgeEmoji: string\r\n): Promise<string> {\r\n    return createNotification({\r\n        userId,\r\n        type: 'badge_earned',\r\n        badgeName,\r\n        message: `Tebrikler! \"${badgeName}\" rozetini kazandƒ±nƒ±z!`,\r\n        actionUrl: `/profile/${userId}`,\r\n        icon: badgeEmoji\r\n    });\r\n}\r\n\r\n/**\r\n * Hikaye yayƒ±nlama bildirimi (takip√ßilere)\r\n */\r\nexport async function notifyFollowersAboutNewStory(\r\n    authorId: string,\r\n    authorName: string,\r\n    authorAvatar: string,\r\n    storyId: string,\r\n    storyTitle: string,\r\n    followerIds: string[]\r\n): Promise<void> {\r\n    try {\r\n        const promises = followerIds.map(followerId =>\r\n            createNotification({\r\n                userId: followerId,\r\n                type: 'story_published',\r\n                actorId: authorId,\r\n                actorName: authorName,\r\n                actorAvatar: authorAvatar,\r\n                storyId,\r\n                storyTitle,\r\n                message: `${authorName} yeni bir hikaye yayƒ±nladƒ±: \"${storyTitle}\"`,\r\n                actionUrl: `/story/${storyId}`,\r\n                icon: 'üìö'\r\n            })\r\n        );\r\n\r\n        await Promise.all(promises);\r\n    } catch (error) {\r\n        console.error('Error notifying followers:', error);\r\n    }\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2154, "column": 0}, "map": {"version":3,"sources":["C:/Users/90538/Desktop/fabula/benim-hikaye-uygulamasi/src/app/components/NotificationItem.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useRouter } from 'next/navigation';\r\nimport { Notification } from '@/lib/notificationService';\r\nimport { getRelativeTime } from '@/lib/notificationService';\r\n\r\ninterface NotificationItemProps {\r\n    notification: Notification;\r\n    onRead: (id: string) => void;\r\n}\r\n\r\nexport default function NotificationItem({ notification, onRead }: NotificationItemProps) {\r\n    const router = useRouter();\r\n\r\n    // Bildirim tipine g√∂re icon\r\n    const getNotificationIcon = () => {\r\n        if (notification.icon) {\r\n            return notification.icon;\r\n        }\r\n\r\n        switch (notification.type) {\r\n            case 'comment':\r\n            case 'reply':\r\n                return 'üí¨';\r\n            case 'like':\r\n                return '‚ù§Ô∏è';\r\n            case 'favorite':\r\n                return '‚≠ê';\r\n            case 'new_follower':\r\n                return 'üë•';\r\n            case 'badge_earned':\r\n                return 'üèÜ';\r\n            case 'story_published':\r\n                return 'üìö';\r\n            default:\r\n                return 'üîî';\r\n        }\r\n    };\r\n\r\n    const handleClick = () => {\r\n        // Okunmadƒ±ysa okundu i≈üaretle\r\n        if (!notification.read) {\r\n            onRead(notification.id);\r\n        }\r\n\r\n        // Action URL'e git\r\n        if (notification.actionUrl) {\r\n            router.push(notification.actionUrl);\r\n        } else if (notification.storyId) {\r\n            router.push(`/story/${notification.storyId}`);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div\r\n            className={`notification-item ${notification.read ? 'read' : 'unread'}`}\r\n            onClick={handleClick}\r\n        >\r\n            <div className=\"notification-icon\">\r\n                {getNotificationIcon()}\r\n            </div>\r\n\r\n            <div className=\"notification-content\">\r\n                <div className=\"notification-header\">\r\n                    {notification.actorAvatar && (\r\n                        <img\r\n                            src={notification.actorAvatar}\r\n                            alt={notification.actorName || ''}\r\n                            className=\"notification-avatar\"\r\n                        />\r\n                    )}\r\n                    <span className=\"notification-actor\">{notification.actorName}</span>\r\n                </div>\r\n\r\n                <p className=\"notification-message\">{notification.message}</p>\r\n\r\n                {notification.storyTitle && (\r\n                    <span className=\"notification-story-title\">\r\n                        \"{notification.storyTitle}\"\r\n                    </span>\r\n                )}\r\n\r\n                <span className=\"notification-time\">\r\n                    {getRelativeTime(notification.createdAt)}\r\n                </span>\r\n            </div>\r\n\r\n            {!notification.read && (\r\n                <div className=\"notification-unread-indicator\"></div>\r\n            )}\r\n        </div>\r\n    );\r\n}\r\n"],"names":["c","_c","useRouter","Notification","getRelativeTime","NotificationItemProps","notification","onRead","id","NotificationItem","t0","$","$i","Symbol","for","router","t1","icon","type","NotificationItem[getNotificationIcon]","getNotificationIcon","t2","actionUrl","read","storyId","NotificationItem[handleClick]","push","handleClick","t3","t4","t5","t6","actorAvatar","actorName","t7","t8","t9","message","t10","storyTitle","t11","createdAt","t12","t13","t14","t15"],"mappings":";;;;;AAAa,SAAAA,CAAA,IAAAC,EAAA;AAEb,SAASC,SAAS,QAAQ,iBAAiB;AAE3C,SAASE,eAAe,QAAQ,2BAA2B;;;AAJ3D,YAAY;;;;AAWG,0BAAAM,EAAA;;IAAA,MAAAC,CAAA,OAAAV,gLAAA,EAAA;IAAA,IAAAU,CAAA,CAAA,EAAA,KAAA,oEAAA;QAAA,IAAA,IAAAC,EAAA,GAAA,GAAAA,EAAA,GAAA,IAAAA,EAAA,IAAA,EAAA;YAAAD,CAAA,CAAAC,EAAA,CAAA,GAAAC,MAAA,CAAAC,GAAA,CAAA;QAAA;QAAAH,CAAA,CAAA,EAAA,GAAA;IAAA;IAA0B,MAAA,EAAAL,YAAA,EAAAC,MAAAA,EAAA,GAAAG,EAA+C;IACpF,MAAAK,MAAA;IAA2B,IAAAC,EAAA;IAAA,IAAAL,CAAA,CAAA,EAAA,KAAAL,YAAA,CAAAW,IAAA,IAAAN,CAAA,CAAA,EAAA,KAAAL,YAAA,CAAAY,IAAA,EAAA;QAGCF,EAAA,GAAA,CAAA;YAAA,yCAAAG,CAAA;gBACxB,IAAIb,YAAY,CAAAW,IAAK,EAAA;oBAAA,OACVX,YAAY,CAAAW,IAAK;gBAAA;gBAG5B,OAAQX,YAAY,CAAAY,IAAK;oBAAA,KAChB,SAAS;oBAAA,KACT,OAAO;wBAAA;4BAAA,OACD,cAAI;wBAAA;oBAAA,KACV,MAAM;wBAAA;4BAAA,OACA,cAAI;wBAAA;oBAAA,KACV,UAAU;wBAAA;4BAAA,OACJ,QAAG;wBAAA;oBAAA,KACT,cAAc;wBAAA;4BAAA,OACR,cAAI;wBAAA;oBAAA,KACV,cAAc;wBAAA;4BAAA,OACR,cAAI;wBAAA;oBAAA,KACV,iBAAiB;wBAAA;4BAAA,OACX,cAAI;wBAAA;oBAAA;wBAAA;4BAAA,OAEJ,cAAI;wBAAA;gBACnB;YAAC;SAAA,CAAA,CAAA,wCACJ;QAAAP,CAAA,CAAA,EAAA,GAAAL,YAAA,CAAAW,IAAA;QAAAN,CAAA,CAAA,EAAA,GAAAL,YAAA,CAAAY,IAAA;QAAAP,CAAA,CAAA,EAAA,GAAAK,EAAA;IAAA,OAAA;QAAAA,EAAA,GAAAL,CAAA,CAAA,EAAA;IAAA;IAtBD,MAAAS,mBAAA,GAA4BJ,EAsB3B;IAAC,IAAAK,EAAA;IAAA,IAAAV,CAAA,CAAA,EAAA,KAAAL,YAAA,CAAAgB,SAAA,IAAAX,CAAA,CAAA,EAAA,KAAAL,YAAA,CAAAE,EAAA,IAAAG,CAAA,CAAA,EAAA,KAAAL,YAAA,CAAAiB,IAAA,IAAAZ,CAAA,CAAA,EAAA,KAAAL,YAAA,CAAAkB,OAAA,IAAAb,CAAA,CAAA,EAAA,KAAAJ,MAAA,IAAAI,CAAA,CAAA,EAAA,KAAAI,MAAA,EAAA;QAEkBM,EAAA,GAAA,CAAA;YAAA,iCAAAI,CAAA;gBAEhB,IAAI,CAACnB,YAAY,CAAAiB,IAAK,EAAA;oBAClBhB,MAAM,CAACD,YAAY,CAAAE,EAAG,CAAC;gBAAA;gBAI3B,IAAIF,YAAY,CAAAgB,SAAU,EAAA;oBACtBP,MAAM,CAAAW,IAAK,CAACpB,YAAY,CAAAgB,SAAU,CAAC;gBAAA,OAAA;oBAChC,IAAIhB,YAAY,CAAAkB,OAAQ,EAAA;wBAC3BT,MAAM,CAAAW,IAAK,CAAC,CAAA,OAAA,EAAUpB,YAAY,CAAAkB,OAAQ,EAAE,CAAC;oBAAA;gBAChD;YAAA;SAAA,CAAA,CAAA,gCACJ;QAAAb,CAAA,CAAA,EAAA,GAAAL,YAAA,CAAAgB,SAAA;QAAAX,CAAA,CAAA,EAAA,GAAAL,YAAA,CAAAE,EAAA;QAAAG,CAAA,CAAA,EAAA,GAAAL,YAAA,CAAAiB,IAAA;QAAAZ,CAAA,CAAA,EAAA,GAAAL,YAAA,CAAAkB,OAAA;QAAAb,CAAA,CAAA,EAAA,GAAAJ,MAAA;QAAAI,CAAA,CAAA,EAAA,GAAAI,MAAA;QAAAJ,CAAA,CAAA,GAAA,GAAAU,EAAA;IAAA,OAAA;QAAAA,EAAA,GAAAV,CAAA,CAAA,GAAA;IAAA;IAZD,MAAAgB,WAAA,GAAoBN,EAYnB;IAIkB,MAAAO,EAAA,GAAA,CAAA,kBAAA,EAAqBtB,YAAY,CAAAiB,IAAyB,GAArC,MAAqC,GAArC,QAAqC,EAAE;IAAA,IAAAM,EAAA;IAAA,IAAAlB,CAAA,CAAA,GAAA,KAAAS,mBAAA,EAAA;QAIlES,EAAA,GAAAT,mBAAmB,CAAC,CAAC;QAAAT,CAAA,CAAA,GAAA,GAAAS,mBAAA;QAAAT,CAAA,CAAA,GAAA,GAAAkB,EAAA;IAAA,OAAA;QAAAA,EAAA,GAAAlB,CAAA,CAAA,GAAA;IAAA;IAAA,IAAAmB,EAAA;IAAA,IAAAnB,CAAA,CAAA,GAAA,KAAAkB,EAAA,EAAA;QAD1BC,EAAA,iBAAA,6LAAA,GAEM;YAFS,SAAmB,EAAnB,mBAAmB,CAC7B;sBAAAD,EAAoB,CACzB,EAFA,GAEM;;;;;;QAAAlB,CAAA,CAAA,GAAA,GAAAkB,EAAA;QAAAlB,CAAA,CAAA,GAAA,GAAAmB,EAAA;IAAA,OAAA;QAAAA,EAAA,GAAAnB,CAAA,CAAA,GAAA;IAAA;IAAA,IAAAoB,EAAA;IAAA,IAAApB,CAAA,CAAA,GAAA,KAAAL,YAAA,CAAA0B,WAAA,IAAArB,CAAA,CAAA,GAAA,KAAAL,YAAA,CAAA2B,SAAA,EAAA;QAIGF,EAAA,GAAAzB,YAAY,CAAA0B,WAMZ,kBALG,6LAAA,GAIE;YAHO,GAAwB,CAAxB,CAAA1B,YAAY,CAAA0B,WAAW,CAAC;YACxB,GAA4B,CAA5B,CAAA1B,YAAY,CAAA2B,SAAgB,IAA5B,EAA2B,CAAC;YACvB,SAAqB,EAArB,qBAAqB,GAEtC;;;;;;QAAAtB,CAAA,CAAA,GAAA,GAAAL,YAAA,CAAA0B,WAAA;QAAArB,CAAA,CAAA,GAAA,GAAAL,YAAA,CAAA2B,SAAA;QAAAtB,CAAA,CAAA,GAAA,GAAAoB,EAAA;IAAA,OAAA;QAAAA,EAAA,GAAApB,CAAA,CAAA,GAAA;IAAA;IAAA,IAAAuB,EAAA;IAAA,IAAAvB,CAAA,CAAA,GAAA,KAAAL,YAAA,CAAA2B,SAAA,EAAA;QACDC,EAAA,iBAAA,6LAAA,IAAoE;YAApD,SAAoB,EAApB,oBAAoB,CAAE;sBAAA5B,YAAY,CAAA2B,SAAS,CAAE,EAA7D,IAAoE;;;;;;QAAAtB,CAAA,CAAA,GAAA,GAAAL,YAAA,CAAA2B,SAAA;QAAAtB,CAAA,CAAA,GAAA,GAAAuB,EAAA;IAAA,OAAA;QAAAA,EAAA,GAAAvB,CAAA,CAAA,GAAA;IAAA;IAAA,IAAAwB,EAAA;IAAA,IAAAxB,CAAA,CAAA,GAAA,KAAAoB,EAAA,IAAApB,CAAA,CAAA,GAAA,KAAAuB,EAAA,EAAA;QARxEC,EAAA,iBAAA,6LAAA,GASM;YATS,SAAqB,EAArB,qBAAqB,CAC/B;;gBAAAJ,EAMD,CACA;gBAAAG,EAAmE,CACvE,EATA,GASM;;;;;;;QAAAvB,CAAA,CAAA,GAAA,GAAAoB,EAAA;QAAApB,CAAA,CAAA,GAAA,GAAAuB,EAAA;QAAAvB,CAAA,CAAA,GAAA,GAAAwB,EAAA;IAAA,OAAA;QAAAA,EAAA,GAAAxB,CAAA,CAAA,GAAA;IAAA;IAAA,IAAAyB,EAAA;IAAA,IAAAzB,CAAA,CAAA,GAAA,KAAAL,YAAA,CAAA+B,OAAA,EAAA;QAEND,EAAA,iBAAA,6LAAA,CAA8D;YAAjD,SAAsB,EAAtB,sBAAsB,CAAE;sBAAA9B,YAAY,CAAA+B,OAAO,CAAE,EAA1D,CAA8D;;;;;;QAAA1B,CAAA,CAAA,GAAA,GAAAL,YAAA,CAAA+B,OAAA;QAAA1B,CAAA,CAAA,GAAA,GAAAyB,EAAA;IAAA,OAAA;QAAAA,EAAA,GAAAzB,CAAA,CAAA,GAAA;IAAA;IAAA,IAAA2B,GAAA;IAAA,IAAA3B,CAAA,CAAA,GAAA,KAAAL,YAAA,CAAAiC,UAAA,EAAA;QAE7DD,GAAA,GAAAhC,YAAY,CAAAiC,UAIZ,kBAHG,6LAAA,IAEO;YAFS,SAA0B,EAA1B,0BAA0B;;gBAAC,CACrC;gBAAAjC,YAAY,CAAAiC,UAAU;gBAAE,CAC9B,EAFA,IAEO,CACV;;;;;;;QAAA5B,CAAA,CAAA,GAAA,GAAAL,YAAA,CAAAiC,UAAA;QAAA5B,CAAA,CAAA,GAAA,GAAA2B,GAAA;IAAA,OAAA;QAAAA,GAAA,GAAA3B,CAAA,CAAA,GAAA;IAAA;IAAA,IAAA6B,GAAA;IAAA,IAAA7B,CAAA,CAAA,GAAA,KAAAL,YAAA,CAAAmC,SAAA,EAAA;QAGID,GAAA,OAAApC,uJAAe,EAACE,YAAY,CAAAmC,SAAU,CAAC;QAAA9B,CAAA,CAAA,GAAA,GAAAL,YAAA,CAAAmC,SAAA;QAAA9B,CAAA,CAAA,GAAA,GAAA6B,GAAA;IAAA,OAAA;QAAAA,GAAA,GAAA7B,CAAA,CAAA,GAAA;IAAA;IAAA,IAAA+B,GAAA;IAAA,IAAA/B,CAAA,CAAA,GAAA,KAAA6B,GAAA,EAAA;QAD5CE,GAAA,iBAAA,6LAAA,IAEO;YAFS,SAAmB,EAAnB,mBAAmB,CAC9B;sBAAAF,GAAsC,CAC3C,EAFA,IAEO;;;;;;QAAA7B,CAAA,CAAA,GAAA,GAAA6B,GAAA;QAAA7B,CAAA,CAAA,GAAA,GAAA+B,GAAA;IAAA,OAAA;QAAAA,GAAA,GAAA/B,CAAA,CAAA,GAAA;IAAA;IAAA,IAAAgC,GAAA;IAAA,IAAAhC,CAAA,CAAA,GAAA,KAAA2B,GAAA,IAAA3B,CAAA,CAAA,GAAA,KAAA+B,GAAA,IAAA/B,CAAA,CAAA,GAAA,KAAAwB,EAAA,IAAAxB,CAAA,CAAA,GAAA,KAAAyB,EAAA,EAAA;QAtBXO,GAAA,iBAAA,6LAAA,GAuBM;YAvBS,SAAsB,EAAtB,sBAAsB,CACjC;;gBAAAR,EASK,CAEL;gBAAAC,EAA6D,CAE5D;gBAAAE,GAID,CAEA;gBAAAI,GAEM,CACV,EAvBA,GAuBM;;;;;;;QAAA/B,CAAA,CAAA,GAAA,GAAA2B,GAAA;QAAA3B,CAAA,CAAA,GAAA,GAAA+B,GAAA;QAAA/B,CAAA,CAAA,GAAA,GAAAwB,EAAA;QAAAxB,CAAA,CAAA,GAAA,GAAAyB,EAAA;QAAAzB,CAAA,CAAA,GAAA,GAAAgC,GAAA;IAAA,OAAA;QAAAA,GAAA,GAAAhC,CAAA,CAAA,GAAA;IAAA;IAAA,IAAAiC,GAAA;IAAA,IAAAjC,CAAA,CAAA,GAAA,KAAAL,YAAA,CAAAiB,IAAA,EAAA;QAELqB,GAAA,GAAA,CAACtC,YAAY,CAAAiB,IAEb,kBADG,6LAAA,GAAqD;YAAtC,SAA+B,EAA/B,+BAA+B,GACjD;;;;;;QAAAZ,CAAA,CAAA,GAAA,GAAAL,YAAA,CAAAiB,IAAA;QAAAZ,CAAA,CAAA,GAAA,GAAAiC,GAAA;IAAA,OAAA;QAAAA,GAAA,GAAAjC,CAAA,CAAA,GAAA;IAAA;IAAA,IAAAkC,GAAA;IAAA,IAAAlC,CAAA,CAAA,GAAA,KAAAgB,WAAA,IAAAhB,CAAA,CAAA,GAAA,KAAAgC,GAAA,IAAAhC,CAAA,CAAA,GAAA,KAAAiC,GAAA,IAAAjC,CAAA,CAAA,GAAA,KAAAiB,EAAA,IAAAjB,CAAA,CAAA,GAAA,KAAAmB,EAAA,EAAA;QAnCLe,GAAA,iBAAA,6LAAA,GAoCM;YAnCS,SAA4D,CAA5D,CAAAjB,EAA2D,CAAC;YAC9DD,OAAW,CAAXA,CAAAA,WAAU,CAAC,CAEpB;;gBAAAG,EAEK,CAEL;gBAAAa,GAuBK,CAEJ;gBAAAC,GAED,CACJ,EApCA,GAoCM;;;;;;;QAAAjC,CAAA,CAAA,GAAA,GAAAgB,WAAA;QAAAhB,CAAA,CAAA,GAAA,GAAAgC,GAAA;QAAAhC,CAAA,CAAA,GAAA,GAAAiC,GAAA;QAAAjC,CAAA,CAAA,GAAA,GAAAiB,EAAA;QAAAjB,CAAA,CAAA,GAAA,GAAAmB,EAAA;QAAAnB,CAAA,CAAA,GAAA,GAAAkC,GAAA;IAAA,OAAA;QAAAA,GAAA,GAAAlC,CAAA,CAAA,GAAA;IAAA;IAAA,OApCNkC,GAoCM;AAAA;;;QA9EK3C,kJAAS,CAAC,CAAC;;;KADfO","ignoreList":[]}},
    {"offset": {"line": 2463, "column": 0}, "map": {"version":3,"sources":["C:/Users/90538/Desktop/fabula/benim-hikaye-uygulamasi/src/app/components/NotificationPanel.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useEffect, useState } from 'react';\r\nimport { Notification, markAsRead, markAllAsRead } from '@/lib/notificationService';\r\nimport NotificationItem from './NotificationItem';\r\n\r\ninterface NotificationPanelProps {\r\n    notifications: Notification[];\r\n    onClose: () => void;\r\n    onNotificationsUpdate: () => void;\r\n}\r\n\r\nexport default function NotificationPanel({ notifications, onClose, onNotificationsUpdate }: NotificationPanelProps) {\r\n    const [isMarkingAll, setIsMarkingAll] = useState(false);\r\n\r\n    const handleMarkAsRead = async (notificationId: string) => {\r\n        try {\r\n            await markAsRead(notificationId);\r\n            onNotificationsUpdate();\r\n        } catch (error) {\r\n            console.error('Error marking notification as read:', error);\r\n        }\r\n    };\r\n\r\n    const handleMarkAllAsRead = async () => {\r\n        if (isMarkingAll) return;\r\n\r\n        setIsMarkingAll(true);\r\n        try {\r\n            const userId = notifications[0]?.userId;\r\n            if (userId) {\r\n                await markAllAsRead(userId);\r\n                onNotificationsUpdate();\r\n            }\r\n        } catch (error) {\r\n            console.error('Error marking all as read:', error);\r\n        } finally {\r\n            setIsMarkingAll(false);\r\n        }\r\n    };\r\n\r\n    const unreadCount = notifications.filter(n => !n.read).length;\r\n\r\n    return (\r\n        <div className=\"notification-panel\">\r\n            <div className=\"notification-panel-header\">\r\n                <h3>Bildirimler</h3>\r\n                {unreadCount > 0 && (\r\n                    <button\r\n                        className=\"mark-all-read-button\"\r\n                        onClick={handleMarkAllAsRead}\r\n                        disabled={isMarkingAll}\r\n                    >\r\n                        {isMarkingAll ? 'ƒ∞≈üleniyor...' : 'T√ºm√ºn√º okundu i≈üaretle'}\r\n                    </button>\r\n                )}\r\n            </div>\r\n\r\n            <div className=\"notification-list\">\r\n                {notifications.length === 0 ? (\r\n                    <div className=\"empty-notifications\">\r\n                        <span className=\"empty-icon\">üîî</span>\r\n                        <p>Hen√ºz bildiriminiz yok</p>\r\n                    </div>\r\n                ) : (\r\n                    notifications.map((notification) => (\r\n                        <NotificationItem\r\n                            key={notification.id}\r\n                            notification={notification}\r\n                            onRead={handleMarkAsRead}\r\n                        />\r\n                    ))\r\n                )}\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n"],"names":["useEffect","useState","Notification","markAsRead","markAllAsRead","NotificationItem","NotificationPanelProps","notifications","onClose","onNotificationsUpdate","NotificationPanel","isMarkingAll","setIsMarkingAll","handleMarkAsRead","notificationId","error","console","handleMarkAllAsRead","userId","unreadCount","filter","n","read","length","map","notification","id"],"mappings":";;;;;AAEA,SAASA,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAC3C,SAASC,YAAY,EAAEC,UAAU,EAAEC,aAAa,QAAQ,2BAA2B;AACnF,OAAOC,gBAAgB,MAAM,oBAAoB;;;AAJjD,YAAY;;;;AAYG,2BAA2B,EAAEE,aAAa,EAAEC,OAAO,EAAEC,qBAAAA,EAA+C,EAAE;;IACjH,MAAM,CAACE,YAAY,EAAEC,eAAe,CAAC,OAAGX,yKAAQ,EAAC,KAAK,CAAC;IAEvD,MAAMY,gBAAgB,GAAG,MAAAA,CAAOC,cAAc,EAAE,MAAM,KAAK;QACvD,IAAI;YACA,MAAMX,sJAAU,EAACW,cAAc,CAAC;YAChCL,qBAAqB,CAAC,CAAC;QAC3B,CAAC,CAAC,OAAOM,KAAK,EAAE;YACZC,OAAO,CAACD,KAAK,CAAC,qCAAqC,EAAEA,KAAK,CAAC;QAC/D;IACJ,CAAC;IAED,MAAME,mBAAmB,GAAG,MAAAA,CAAA,KAAY;QACpC,IAAIN,YAAY,EAAE;QAElBC,eAAe,CAAC,IAAI,CAAC;QACrB,IAAI;YACA,MAAMM,MAAM,GAAGX,aAAa,CAAC,CAAC,CAAC,EAAEW,MAAM;YACvC,IAAIA,MAAM,EAAE;gBACR,UAAMd,qJAAa,EAACc,MAAM,CAAC;gBAC3BT,qBAAqB,CAAC,CAAC;YAC3B;QACJ,CAAC,CAAC,OAAOM,OAAK,EAAE;YACZC,OAAO,CAACD,KAAK,CAAC,4BAA4B,EAAEA,OAAK,CAAC;QACtD,CAAC,QAAS;YACNH,eAAe,CAAC,KAAK,CAAC;QAC1B;IACJ,CAAC;IAED,MAAMO,WAAW,GAAGZ,aAAa,CAACa,MAAM,EAACC,CAAC,GAAI,CAACA,CAAC,CAACC,IAAI,CAAC,CAACC,MAAM;IAE7D,qBACI,6LAAC,GAAG;QAAC,SAAS,EAAC,oBAAoB,CAAC;;0BAChC,6LAAC,GAAG;gBAAC,SAAS,EAAC,2BAA2B,CAAC;;kCACvC,6LAAC,EAAE;kCAAC,WAAW,EAAE,EAAE,CAAC;;;;;;oBACnBJ,WAAW,GAAG,CAAC,kBACZ,6LAAC,MAAM;wBACH,SAAS,EAAC,sBAAsB;wBAChC,OAAO,CAAC,CAACF,mBAAmB,CAAC;wBAC7B,QAAQ,CAAC,CAACN,YAAY,CAAC,CAC1B;kCACIA,YAAY,GAAG,cAAc,GAAG,wBAAwB,CAAC;;;;;;;;;;;;0BAKtE,6LAAC,GAAG;gBAAC,SAAS,EAAC,mBAAmB,CAAC;0BAC9BJ,aAAa,CAACgB,MAAM,KAAK,CAAC,iBACvB,6LAAC,GAAG;oBAAC,SAAS,EAAC,qBAAqB,CAAC;;sCACjC,6LAAC,IAAI;4BAAC,SAAS,EAAC,YAAY;sCAAC,EAAE,EAAE,IAAI,CAAC;;;;;;sCACtC,6LAAC,CAAC;sCAAC,sBAAsB,EAAE,CAAC,CAAC;;;;;;;;;;;2BAGjChB,aAAa,CAACiB,GAAG,EAAEC,YAAY,iBAC3B,6LAAC,2JAAgB,CACb,GAAG,CAAC;wBACJ,YAAY,CAAC,CAACA,YAAY,CAAC;wBAC3B,MAAM,CAAC,CAACZ,gBAAgB,CAAC,GAEhC,CACJ,CAAC;uBALeY,YAAY,CAACC,EAAE,CAAC;;;;;;;;;;;;;;;;AASjD;;KAhEwBhB,iBAAiBA","ignoreList":[]}},
    {"offset": {"line": 2589, "column": 0}, "map": {"version":3,"sources":["C:/Users/90538/Desktop/fabula/benim-hikaye-uygulamasi/src/app/components/NotificationBell.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useState, useEffect, useRef } from 'react';\r\nimport { useAuth } from '@/contexts/AuthContext';\r\nimport { Notification, subscribeToNotifications, getUnreadCount } from '@/lib/notificationService';\r\nimport NotificationPanel from './NotificationPanel';\r\n\r\nexport default function NotificationBell() {\r\n    const { user } = useAuth();\r\n    const [notifications, setNotifications] = useState<Notification[]>([]);\r\n    const [unreadCount, setUnreadCount] = useState(0);\r\n    const [showPanel, setShowPanel] = useState(false);\r\n    const panelRef = useRef<HTMLDivElement>(null);\r\n\r\n    // Real-time bildirim dinleyicisi\r\n    useEffect(() => {\r\n        if (!user) {\r\n            setNotifications([]);\r\n            setUnreadCount(0);\r\n            return;\r\n        }\r\n\r\n        const unsubscribe = subscribeToNotifications(user.uid, (newNotifications) => {\r\n            setNotifications(newNotifications);\r\n            const unread = newNotifications.filter(n => !n.read).length;\r\n            setUnreadCount(unread);\r\n        });\r\n\r\n        return () => unsubscribe();\r\n    }, [user]);\r\n\r\n    // Panel dƒ±≈üƒ±na tƒ±klandƒ±ƒüƒ±nda kapat\r\n    useEffect(() => {\r\n        function handleClickOutside(event: MouseEvent) {\r\n            if (panelRef.current && !panelRef.current.contains(event.target as Node)) {\r\n                setShowPanel(false);\r\n            }\r\n        }\r\n\r\n        if (showPanel) {\r\n            document.addEventListener('mousedown', handleClickOutside);\r\n            return () => document.removeEventListener('mousedown', handleClickOutside);\r\n        }\r\n    }, [showPanel]);\r\n\r\n    const handleNotificationsUpdate = async () => {\r\n        // Bildirimleri yeniden y√ºkle\r\n        if (user) {\r\n            const count = await getUnreadCount(user.uid);\r\n            setUnreadCount(count);\r\n        }\r\n    };\r\n\r\n    if (!user) return null;\r\n\r\n    return (\r\n        <div className=\"notification-bell-wrapper\" ref={panelRef}>\r\n            <button\r\n                className=\"notification-bell\"\r\n                onClick={() => setShowPanel(!showPanel)}\r\n                title=\"Bildirimler\"\r\n            >\r\n                <span className=\"bell-icon\">üîî</span>\r\n                {unreadCount > 0 && (\r\n                    <span className=\"notification-badge\">{unreadCount > 9 ? '9+' : unreadCount}</span>\r\n                )}\r\n            </button>\r\n\r\n            {showPanel && (\r\n                <NotificationPanel\r\n                    notifications={notifications}\r\n                    onClose={() => setShowPanel(false)}\r\n                    onNotificationsUpdate={handleNotificationsUpdate}\r\n                />\r\n            )}\r\n        </div>\r\n    );\r\n}\r\n"],"names":["c","_c","useState","useEffect","useRef","useAuth","Notification","subscribeToNotifications","getUnreadCount","NotificationPanel","NotificationBell","$","$i","Symbol","for","user","t0","notifications","setNotifications","unreadCount","setUnreadCount","showPanel","setShowPanel","panelRef","t1","t2","NotificationBell[useEffect()]","unsubscribe","uid","newNotifications","unread","filter","_NotificationBellUseEffectSubscribeToNotificationsNewNotificationsFilter","length","t3","t4","handleClickOutside","event","current","contains","target","Node","document","addEventListener","removeEventListener","t5","NotificationBell[handleNotificationsUpdate]","count","handleNotificationsUpdate","t6","NotificationBell[<button>.onClick]","t7","t8","t9","t10","NotificationBell[<NotificationPanel>.onClose]","t11","n","read"],"mappings":"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","ignoreList":[]}},
    {"offset": {"line": 2825, "column": 0}, "map": {"version":3,"sources":["C:/Users/90538/Desktop/fabula/benim-hikaye-uygulamasi/src/app/components/Header.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useState } from 'react';\r\nimport Link from 'next/link';\r\nimport { useAuth } from '@/contexts/AuthContext';\r\nimport UserMenu from './UserMenu';\r\nimport AuthModal from './AuthModal';\r\nimport ThemeToggle from './ThemeToggle';\r\nimport NotificationBell from './NotificationBell';\r\n\r\nexport default function Header() {\r\n    const { user, loading } = useAuth();\r\n    const [showAuthModal, setShowAuthModal] = useState(false);\r\n\r\n    return (\r\n        <>\r\n            <header className=\"app-header\">\r\n                <div className=\"header-container\">\r\n                    <Link href=\"/\" className=\"header-logo\">\r\n                        <span className=\"logo-icon\">üìñ</span>\r\n                        <span className=\"logo-text\">Fabula</span>\r\n                    </Link>\r\n\r\n                    <nav className=\"header-nav\">\r\n                        <Link href=\"/\" className=\"nav-link\">\r\n                            Ana Sayfa\r\n                        </Link>\r\n                        <Link href=\"/stories\" className=\"nav-link\">\r\n                            Hikayeler\r\n                        </Link>\r\n                        {user && (\r\n                            <>\r\n                                <Link href=\"/drafts\" className=\"nav-link\">\r\n                                    <span className=\"nav-icon\">üìù</span>\r\n                                    Taslaklar\r\n                                </Link>\r\n                                <Link href=\"/favorites\" className=\"nav-link\">\r\n                                    <span className=\"nav-icon\">‚≠ê</span>\r\n                                    Favoriler\r\n                                </Link>\r\n                            </>\r\n                        )}\r\n                    </nav>\r\n\r\n                    <div className=\"header-actions\">\r\n                        <ThemeToggle />\r\n                        {user && <NotificationBell />}\r\n                        {loading ? (\r\n                            <span className=\"auth-loading\">Y√ºkleniyor...</span>\r\n                        ) : user ? (\r\n                            <UserMenu />\r\n                        ) : (\r\n                            <button\r\n                                className=\"login-button\"\r\n                                onClick={() => setShowAuthModal(true)}\r\n                            >\r\n                                <span>üîê</span>\r\n                                Giri≈ü Yap\r\n                            </button>\r\n                        )}\r\n                    </div>\r\n                </div>\r\n            </header>\r\n            <AuthModal isOpen={showAuthModal} onClose={() => setShowAuthModal(false)} />\r\n        </>\r\n    );\r\n}\r\n"],"names":["c","_c","useState","Link","useAuth","UserMenu","AuthModal","ThemeToggle","NotificationBell","Header","$","$i","Symbol","for","user","loading","showAuthModal","setShowAuthModal","t0","t1","t2","t3","t4","t5","t6","t7","Header[<button>.onClick]","t8","t9","t10","Header[<AuthModal>.onClose]","t11","t12"],"mappings":"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","ignoreList":[]}},
    {"offset": {"line": 3151, "column": 0}, "map": {"version":3,"sources":["C:/Users/90538/Desktop/fabula/benim-hikaye-uygulamasi/src/app/components/LevelUpToast.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useEffect, useState } from 'react';\r\nimport { useAuth } from '@/contexts/AuthContext';\r\nimport { subscribeToNotifications, Notification } from '@/lib/notificationService';\r\n\r\nexport default function LevelUpToast() {\r\n    const { user } = useAuth();\r\n    const [toast, setToast] = useState<{ visible: boolean; message: string; badgeName?: string; icon?: string } | null>(null);\r\n\r\n    useEffect(() => {\r\n        if (!user) return;\r\n\r\n        // Subscribe to notifications to catch 'badge_earned'\r\n        const unsubscribe = subscribeToNotifications(user.uid, (notifications) => {\r\n            // Check if the most recent notification is a badge_earned and is unread\r\n            // We only want to show toast for very recent ones to avoid spam on page load\r\n            // But for simplicity, let's just check the top one if it's new\r\n\r\n            const latest = notifications[0];\r\n            if (latest && latest.type === 'badge_earned' && !latest.read) {\r\n                // Check if this notification was created in the last 10 seconds\r\n                const now = new Date();\r\n                const diff = now.getTime() - latest.createdAt.getTime();\r\n\r\n                if (diff < 10000) { // 10 seconds\r\n                    setToast({\r\n                        visible: true,\r\n                        message: latest.message,\r\n                        badgeName: latest.badgeName,\r\n                        icon: latest.icon\r\n                    });\r\n\r\n                    // Hide after 5 seconds\r\n                    setTimeout(() => {\r\n                        setToast(null);\r\n                    }, 5000);\r\n                }\r\n            }\r\n        });\r\n\r\n        return () => unsubscribe();\r\n    }, [user]);\r\n\r\n    if (!toast || !toast.visible) return null;\r\n\r\n    return (\r\n        <div className=\"fixed bottom-8 right-8 z-50 animate-bounce-in\">\r\n            <div className=\"bg-gradient-to-r from-yellow-400 to-orange-500 text-white p-6 rounded-xl shadow-2xl flex items-center gap-4 border-4 border-white/30 backdrop-blur-sm\">\r\n                <div className=\"text-4xl animate-pulse\">\r\n                    {toast.icon || 'üèÜ'}\r\n                </div>\r\n                <div>\r\n                    <h4 className=\"font-bold text-lg uppercase tracking-wider text-yellow-100\">Seviye Atladƒ±n!</h4>\r\n                    <p className=\"font-medium text-white text-lg\">{toast.badgeName}</p>\r\n                </div>\r\n                <div className=\"absolute -top-2 -right-2 bg-red-500 text-white text-xs font-bold px-2 py-1 rounded-full animate-ping\">\r\n                    YENƒ∞!\r\n                </div>\r\n            </div>\r\n            {/* Confetti effect could be added here via CSS or a library */}\r\n        </div>\r\n    );\r\n}\r\n"],"names":["c","_c","useEffect","useState","useAuth","subscribeToNotifications","Notification","LevelUpToast","$","$i","Symbol","for","user","toast","setToast","t0","t1","LevelUpToast[useEffect()]","unsubscribe","uid","notifications","latest","type","read","now","Date","diff","getTime","createdAt","visible","message","badgeName","icon","setTimeout","LevelUpToast[useEffect() > subscribeToNotifications() > setTimeout()]","t2","t3","t4","t5","t6","t7"],"mappings":"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","ignoreList":[]}}]
}