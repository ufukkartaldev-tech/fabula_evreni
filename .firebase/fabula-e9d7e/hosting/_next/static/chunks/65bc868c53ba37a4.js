(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,13979,e=>{"use strict";var a=e.i(43476),s=e.i(71645),t=e.i(932),l=e.i(22016),r=e.i(66741);function c(e){let s=(0,t.c)(98),{rank:c,type:n,data:d}=e,o=i;if("story"===n){let e,t,r,i,n,m,h,u,p,N,j,x,y,b,v,g,f,k=`/story/${d.id}`,w=o(c);return s[0]!==w?(e=(0,a.jsx)("div",{className:"rank-badge",children:w}),s[0]=w,s[1]=e):e=s[1],s[2]!==d.title?(t=(0,a.jsx)("h3",{className:"card-title",children:d.title}),s[2]=d.title,s[3]=t):t=s[3],s[4]===Symbol.for("react.memo_cache_sentinel")?(r=(0,a.jsx)("span",{className:"meta-icon",children:"ðŸ‘¤"}),s[4]=r):r=s[4],s[5]!==d.author.name?(i=(0,a.jsxs)("span",{className:"meta-item",children:[r,d.author.name]}),s[5]=d.author.name,s[6]=i):i=s[6],s[7]===Symbol.for("react.memo_cache_sentinel")?(n=(0,a.jsx)("span",{className:"meta-icon",children:"ðŸ“"}),s[7]=n):n=s[7],s[8]!==d.category?(m=(0,a.jsxs)("span",{className:"meta-item",children:[n,d.category]}),s[8]=d.category,s[9]=m):m=s[9],s[10]!==i||s[11]!==m?(h=(0,a.jsxs)("div",{className:"card-meta",children:[i,m]}),s[10]=i,s[11]=m,s[12]=h):h=s[12],s[13]!==t||s[14]!==h?(u=(0,a.jsxs)("div",{className:"card-content",children:[t,h]}),s[13]=t,s[14]=h,s[15]=u):u=s[15],s[16]===Symbol.for("react.memo_cache_sentinel")?(p=(0,a.jsx)("span",{className:"stat-icon",children:"ðŸ‘ï¸"}),s[16]=p):p=s[16],s[17]!==d.stats.views?(N=d.stats.views.toLocaleString(),s[17]=d.stats.views,s[18]=N):N=s[18],s[19]!==N?(j=(0,a.jsxs)("div",{className:"stat-item",children:[p,(0,a.jsx)("span",{className:"stat-value",children:N})]}),s[19]=N,s[20]=j):j=s[20],s[21]===Symbol.for("react.memo_cache_sentinel")?(x=(0,a.jsx)("span",{className:"stat-icon",children:"ðŸ’¬"}),s[21]=x):x=s[21],s[22]!==d.stats.comments?(y=(0,a.jsxs)("div",{className:"stat-item",children:[x,(0,a.jsx)("span",{className:"stat-value",children:d.stats.comments})]}),s[22]=d.stats.comments,s[23]=y):y=s[23],s[24]===Symbol.for("react.memo_cache_sentinel")?(b=(0,a.jsx)("span",{className:"stat-icon",children:"â¤ï¸"}),s[24]=b):b=s[24],s[25]!==d.stats.likes?(v=(0,a.jsxs)("div",{className:"stat-item",children:[b,(0,a.jsx)("span",{className:"stat-value",children:d.stats.likes})]}),s[25]=d.stats.likes,s[26]=v):v=s[26],s[27]!==j||s[28]!==y||s[29]!==v?(g=(0,a.jsxs)("div",{className:"card-stats",children:[j,y,v]}),s[27]=j,s[28]=y,s[29]=v,s[30]=g):g=s[30],s[31]!==k||s[32]!==u||s[33]!==g||s[34]!==e?(f=(0,a.jsxs)(l.default,{href:k,className:"leaderboard-card",children:[e,u,g]}),s[31]=k,s[32]=u,s[33]=g,s[34]=e,s[35]=f):f=s[35],f}if("author"===n){let e,t,l,i,n,m,h,u,p,N,j,x,y,b,v=d.xp||0;s[36]!==v?(e=(0,r.getUserBadge)(v),s[36]=v,s[37]=e):e=s[37];let g=e,f=o(c);return s[38]!==f?(t=(0,a.jsx)("div",{className:"rank-badge",children:f}),s[38]=f,s[39]=t):t=s[39],s[40]!==d.displayName||s[41]!==d.photoURL?(l=d.photoURL?(0,a.jsx)("img",{src:d.photoURL,alt:d.displayName}):"\uD83D\uDC64",s[40]=d.displayName,s[41]=d.photoURL,s[42]=l):l=s[42],s[43]!==l?(i=(0,a.jsx)("span",{className:"author-avatar",children:l}),s[43]=l,s[44]=i):i=s[44],s[45]!==d.displayName?(n=(0,a.jsx)("h3",{className:"card-title",children:d.displayName}),s[45]=d.displayName,s[46]=n):n=s[46],s[47]!==g?(m=g&&(0,a.jsxs)("span",{className:"author-badge",children:[g.emoji," ",g.name]}),s[47]=g,s[48]=m):m=s[48],s[49]!==n||s[50]!==m?(h=(0,a.jsxs)("div",{children:[n,m]}),s[49]=n,s[50]=m,s[51]=h):h=s[51],s[52]!==i||s[53]!==h?(u=(0,a.jsx)("div",{className:"card-content",children:(0,a.jsxs)("div",{className:"author-header",children:[i,h]})}),s[52]=i,s[53]=h,s[54]=u):u=s[54],s[55]===Symbol.for("react.memo_cache_sentinel")?(p=(0,a.jsx)("span",{className:"stat-icon",children:"âœ¨"}),s[55]=p):p=s[55],s[56]!==v?(N=v.toLocaleString(),s[56]=v,s[57]=N):N=s[57],s[58]!==N?(j=(0,a.jsx)("span",{className:"stat-value",children:N}),s[58]=N,s[59]=j):j=s[59],s[60]===Symbol.for("react.memo_cache_sentinel")?(x=(0,a.jsx)("span",{className:"stat-label",children:"XP"}),s[60]=x):x=s[60],s[61]!==j?(y=(0,a.jsx)("div",{className:"card-stats",children:(0,a.jsxs)("div",{className:"stat-item",children:[p,j,x]})}),s[61]=j,s[62]=y):y=s[62],s[63]!==y||s[64]!==t||s[65]!==u?(b=(0,a.jsxs)("div",{className:"leaderboard-card",children:[t,u,y]}),s[63]=y,s[64]=t,s[65]=u,s[66]=b):b=s[66],b}if("badge"===n){let e,t,l,i,n,m,h,u,p,N,j,x,y,b,v=d.xp||0;s[67]!==v?(e=(0,r.getUserBadge)(v),s[67]=v,s[68]=e):e=s[68];let g=e,f=o(c);return s[69]!==f?(t=(0,a.jsx)("div",{className:"rank-badge",children:f}),s[69]=f,s[70]=t):t=s[70],s[71]!==d.displayName||s[72]!==d.photoURL?(l=d.photoURL?(0,a.jsx)("img",{src:d.photoURL,alt:d.displayName}):"\uD83D\uDC64",s[71]=d.displayName,s[72]=d.photoURL,s[73]=l):l=s[73],s[74]!==l?(i=(0,a.jsx)("span",{className:"author-avatar",children:l}),s[74]=l,s[75]=i):i=s[75],s[76]!==d.displayName?(n=(0,a.jsx)("h3",{className:"card-title",children:d.displayName}),s[76]=d.displayName,s[77]=n):n=s[77],s[78]!==g?(m=g&&(0,a.jsxs)("span",{className:"author-badge badge-highlight",children:[g.emoji," ",g.name]}),s[78]=g,s[79]=m):m=s[79],s[80]!==n||s[81]!==m?(h=(0,a.jsxs)("div",{children:[n,m]}),s[80]=n,s[81]=m,s[82]=h):h=s[82],s[83]!==i||s[84]!==h?(u=(0,a.jsx)("div",{className:"card-content",children:(0,a.jsxs)("div",{className:"author-header",children:[i,h]})}),s[83]=i,s[84]=h,s[85]=u):u=s[85],s[86]===Symbol.for("react.memo_cache_sentinel")?(p=(0,a.jsx)("span",{className:"stat-icon",children:"âœ¨"}),s[86]=p):p=s[86],s[87]!==v?(N=v.toLocaleString(),s[87]=v,s[88]=N):N=s[88],s[89]!==N?(j=(0,a.jsx)("span",{className:"stat-value",children:N}),s[89]=N,s[90]=j):j=s[90],s[91]===Symbol.for("react.memo_cache_sentinel")?(x=(0,a.jsx)("span",{className:"stat-label",children:"Toplam XP"}),s[91]=x):x=s[91],s[92]!==j?(y=(0,a.jsx)("div",{className:"card-stats",children:(0,a.jsxs)("div",{className:"stat-item",children:[p,j,x]})}),s[92]=j,s[93]=y):y=s[93],s[94]!==y||s[95]!==t||s[96]!==u?(b=(0,a.jsxs)("div",{className:"leaderboard-card",children:[t,u,y]}),s[94]=y,s[95]=t,s[96]=u,s[97]=b):b=s[97],b}return null}function i(e){switch(e){case 1:return"\uD83E\uDD47";case 2:return"\uD83E\uDD48";case 3:return"\uD83E\uDD49";default:return`${e}.`}}e.i(36180);var n=e.i(98925),d=e.i(53699);async function o(e="all",a=10){try{let s=(0,n.collection)(d.db,"stories"),t=(0,n.query)(s,(0,n.orderBy)("createdAt","desc")),l=(await (0,n.getDocs)(t)).docs.map(e=>{let a=e.data();return{id:e.id,...a,createdAt:a.createdAt?.toDate()||new Date}});if("all"!==e){let a,s=new Date;switch(e){case"today":a=new Date(s.getFullYear(),s.getMonth(),s.getDate());break;case"week":a=new Date(s.getTime()-6048e5);break;case"month":a=new Date(s.getFullYear(),s.getMonth(),1);break;default:a=new Date(0)}l=l.filter(e=>e.createdAt>=a)}return l.sort((e,a)=>(a.stats?.views||0)-(e.stats?.views||0)).slice(0,a).map((e,a)=>({...e,rank:a+1}))}catch(e){return console.error("Error fetching top stories:",e),[]}}async function m(e=10){try{let a=(0,n.collection)(d.db,"users"),s=(0,n.query)(a,(0,n.orderBy)("totalWins","desc"),(0,n.limit)(e));return(await (0,n.getDocs)(s)).docs.map((e,a)=>{let s=e.data();return{uid:e.id,displayName:s.displayName||"Anonim",photoURL:s.photoURL||null,totalViews:s.totalViews||0,storiesCount:s.storiesCount||0,currentBadge:s.currentBadge||"ðŸŒ±",rank:a+1}})}catch(e){return console.error("Error fetching top authors:",e),[]}}async function h(e=10){try{let a=(0,n.collection)(d.db,"users"),s=(0,n.query)(a,(0,n.orderBy)("totalWins","desc"),(0,n.limit)(e));return(await (0,n.getDocs)(s)).docs.map((e,a)=>{let s=e.data();return{uid:e.id,email:s.email||"",displayName:s.displayName||"Anonim",photoURL:s.photoURL||null,totalWins:s.totalWins||0,currentBadge:s.currentBadge||"ðŸŒ±",createdAt:s.createdAt||n.Timestamp.now(),lastUpdated:s.lastUpdated||n.Timestamp.now(),rank:a+1}})}catch(e){return console.error("Error fetching top badge holders:",e),[]}}function u(){let[e,t]=(0,s.useState)("stories"),[l,r]=(0,s.useState)("all"),[i,n]=(0,s.useState)(!0),[d,u]=(0,s.useState)([]),[p,N]=(0,s.useState)([]),[j,x]=(0,s.useState)([]);(0,s.useEffect)(()=>{y()},[e,l]);let y=async()=>{n(!0);try{if("stories"===e){let e=await o(l,10);u(e)}else if("authors"===e){let e=await m(10);N(e)}else if("badges"===e){let e=await h(10);x(e)}}catch(e){console.error("Error fetching leaderboard data:",e)}finally{n(!1)}};return(0,a.jsx)("div",{className:"leaderboard-page",children:(0,a.jsxs)("div",{className:"leaderboard-container",children:[(0,a.jsxs)("div",{className:"leaderboard-header",children:[(0,a.jsxs)("h1",{className:"page-title",children:[(0,a.jsx)("span",{className:"title-icon",children:"ðŸ†"}),"Liderlik Tablosu"]}),(0,a.jsx)("p",{className:"page-subtitle",children:"En baÅŸarÄ±lÄ± hikayeler, yazarlar ve rozet sahipleri"})]}),(0,a.jsxs)("div",{className:"leaderboard-tabs",children:[(0,a.jsxs)("button",{className:`tab-button ${"stories"===e?"active":""}`,onClick:()=>t("stories"),children:[(0,a.jsx)("span",{className:"tab-icon",children:"ðŸ“–"}),"En Ã‡ok Okunan"]}),(0,a.jsxs)("button",{className:`tab-button ${"authors"===e?"active":""}`,onClick:()=>t("authors"),children:[(0,a.jsx)("span",{className:"tab-icon",children:"âœï¸"}),"Aktif Yazarlar"]}),(0,a.jsxs)("button",{className:`tab-button ${"badges"===e?"active":""}`,onClick:()=>t("badges"),children:[(0,a.jsx)("span",{className:"tab-icon",children:"ðŸŽ–ï¸"}),"Rozet SÄ±ralamasÄ±"]})]}),"stories"===e&&(0,a.jsxs)("div",{className:"time-filters",children:[(0,a.jsx)("button",{className:`filter-button ${"today"===l?"active":""}`,onClick:()=>r("today"),children:"BugÃ¼n"}),(0,a.jsx)("button",{className:`filter-button ${"week"===l?"active":""}`,onClick:()=>r("week"),children:"Bu Hafta"}),(0,a.jsx)("button",{className:`filter-button ${"month"===l?"active":""}`,onClick:()=>r("month"),children:"Bu Ay"}),(0,a.jsx)("button",{className:`filter-button ${"all"===l?"active":""}`,onClick:()=>r("all"),children:"TÃ¼m Zamanlar"})]}),(0,a.jsx)("div",{className:"leaderboard-content",children:i?(0,a.jsxs)("div",{className:"loading-state",children:[(0,a.jsx)("div",{className:"spinner"}),(0,a.jsx)("p",{children:"Liderlik tablosu yÃ¼kleniyor..."})]}):"stories"===e?0===d.length?(0,a.jsxs)("div",{className:"empty-state",children:[(0,a.jsx)("span",{className:"empty-icon",children:"ðŸ“š"}),(0,a.jsx)("p",{children:"HenÃ¼z hikaye yok."})]}):d.map(e=>(0,a.jsx)(c,{rank:e.rank,type:"story",data:e},e.id)):"authors"===e?0===p.length?(0,a.jsxs)("div",{className:"empty-state",children:[(0,a.jsx)("span",{className:"empty-icon",children:"ðŸ‘¥"}),(0,a.jsx)("p",{children:"HenÃ¼z yazar yok."})]}):p.map(e=>(0,a.jsx)(c,{rank:e.rank,type:"author",data:e},e.uid)):"badges"===e?0===j.length?(0,a.jsxs)("div",{className:"empty-state",children:[(0,a.jsx)("span",{className:"empty-icon",children:"ðŸ†"}),(0,a.jsx)("p",{children:"HenÃ¼z rozet sahibi yok."})]}):j.map(e=>(0,a.jsx)(c,{rank:e.rank,type:"badge",data:e},e.uid)):void 0})]})})}e.s(["default",()=>u],13979)}]);