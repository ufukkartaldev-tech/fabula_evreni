{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["C:/Users/90538/Desktop/fabula/benim-hikaye-uygulamasi/src/app/components/StoryCard.tsx"],"sourcesContent":["import Link from 'next/link';\r\nimport { Story } from '@/interfaces/Story';\r\n\r\ninterface StoryCardProps {\r\n    story: Story;\r\n}\r\n\r\nexport default function StoryCard({ story }: StoryCardProps) {\r\n    const formatDate = (date: Date) => {\r\n        return date.toLocaleDateString('tr-TR', {\r\n            year: 'numeric',\r\n            month: 'long',\r\n            day: 'numeric'\r\n        });\r\n    };\r\n\r\n    const formatNumber = (num: number) => {\r\n        if (num >= 1000) {\r\n            return `${(num / 1000).toFixed(1)}k`;\r\n        }\r\n        return num.toString();\r\n    };\r\n\r\n    return (\r\n        <Link href={`/story/${story.id}`} className=\"story-card\">\r\n            <div className=\"story-card-header\">\r\n                <span className=\"category-badge\">{story.category}</span>\r\n                <span className=\"story-date\">{formatDate(story.createdAt)}</span>\r\n            </div>\r\n\r\n            <h3 className=\"story-title\">{story.title}</h3>\r\n            <p className=\"story-excerpt\">{story.excerpt}</p>\r\n\r\n            <div className=\"story-footer\">\r\n                <div className=\"author-info\">\r\n                    <span className=\"author-avatar\">{story.author.avatar}</span>\r\n                    <span className=\"author-name\">{story.author.name}</span>\r\n                </div>\r\n\r\n                <div className=\"story-stats\">\r\n                    <span className=\"stat\">\r\n                        <span className=\"stat-icon\">üëÅÔ∏è</span>\r\n                        {formatNumber(story.stats.views)}\r\n                    </span>\r\n                    <span className=\"stat\">\r\n                        <span className=\"stat-icon\">üí¨</span>\r\n                        {formatNumber(story.stats.comments)}\r\n                    </span>\r\n                    <span className=\"stat\">\r\n                        <span className=\"stat-icon\">‚ù§Ô∏è</span>\r\n                        {formatNumber(story.stats.likes)}\r\n                    </span>\r\n                </div>\r\n            </div>\r\n        </Link>\r\n    );\r\n}\r\n"],"names":["Link","Story","StoryCardProps","story","StoryCard","t0","$","_c","$i","Symbol","for","formatDate","_StoryCardFormatDate","formatNumber","_StoryCardFormatNumber","t1","id","t2","category","t3","createdAt","t4","t5","t6","title","t7","excerpt","t8","author","avatar","t9","name","t10","t11","t12","stats","views","t13","t14","t15","comments","t16","t17","t18","likes","t19","t20","t21","t22","num","toFixed","toString","date","toLocaleDateString","year","month","day"],"mappings":"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","ignoreList":[]}},
    {"offset": {"line": 372, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/90538/Desktop/fabula/benim-hikaye-uygulamasi/src/lib/firestore.ts"],"sourcesContent":["import {\r\n    collection,\r\n    addDoc,\r\n    getDocs,\r\n    getDoc,\r\n    doc,\r\n    query,\r\n    where,\r\n    orderBy,\r\n    Timestamp,\r\n    DocumentData,\r\n    runTransaction,\r\n    increment\r\n} from 'firebase/firestore';\r\nimport { db } from './firebase';\r\nimport { Story } from '@/interfaces/Story';\r\nimport { Comment } from '@/interfaces/Comment';\r\n\r\n// Firestore koleksiyon referanslarƒ±\r\nconst storiesCollection = collection(db, 'stories');\r\nconst commentsCollection = collection(db, 'comments');\r\n\r\n// Hikayeleri getir\r\nexport async function getStories(): Promise<Story[]> {\r\n    try {\r\n        const q = query(storiesCollection, orderBy('createdAt', 'desc'));\r\n        const querySnapshot = await getDocs(q);\r\n\r\n        return querySnapshot.docs.map(doc => {\r\n            const data = doc.data();\r\n            return {\r\n                id: doc.id,\r\n                ...data,\r\n                createdAt: data.createdAt?.toDate() || new Date(),\r\n            } as Story;\r\n        });\r\n    } catch (error) {\r\n        console.error('Error fetching stories:', error);\r\n        return [];\r\n    }\r\n}\r\n\r\n// Tek bir hikaye getir\r\nexport async function getStoryById(id: string): Promise<Story | null> {\r\n    try {\r\n        const stories = await getStories();\r\n        return stories.find(story => story.id === id) || null;\r\n    } catch (error) {\r\n        console.error('Error fetching story:', error);\r\n        return null;\r\n    }\r\n}\r\n\r\n// Bir hikayeye ait yorumlarƒ± getir\r\nexport async function getCommentsByStoryId(storyId: string): Promise<Comment[]> {\r\n    try {\r\n        const q = query(\r\n            commentsCollection,\r\n            where('storyId', '==', storyId),\r\n            orderBy('createdAt', 'desc')\r\n        );\r\n        const querySnapshot = await getDocs(q);\r\n\r\n        const comments = querySnapshot.docs.map(doc => {\r\n            const data = doc.data();\r\n            return {\r\n                id: doc.id,\r\n                ...data,\r\n                createdAt: data.createdAt?.toDate() || new Date(),\r\n            } as Comment;\r\n        });\r\n\r\n        // Nested yorumlarƒ± organize et\r\n        return organizeComments(comments);\r\n    } catch (error) {\r\n        console.error('Error fetching comments:', error);\r\n        return [];\r\n    }\r\n}\r\n\r\n// Yorumlarƒ± nested yapƒ±ya d√∂n√º≈üt√ºr\r\nfunction organizeComments(comments: Comment[]): Comment[] {\r\n    const commentMap = new Map<string, Comment>();\r\n    const rootComments: Comment[] = [];\r\n\r\n    // T√ºm yorumlarƒ± map'e ekle\r\n    comments.forEach(comment => {\r\n        commentMap.set(comment.id, { ...comment, replies: [] });\r\n    });\r\n\r\n    // Nested yapƒ±yƒ± olu≈ütur\r\n    comments.forEach(comment => {\r\n        const commentWithReplies = commentMap.get(comment.id);\r\n        if (commentWithReplies) {\r\n            // Eƒüer parent yoksa root comment\r\n            rootComments.push(commentWithReplies);\r\n        }\r\n    });\r\n\r\n    return rootComments;\r\n}\r\n\r\n// Yeni yorum ekle\r\nexport async function addComment(comment: Omit<Comment, 'id' | 'createdAt'>): Promise<string> {\r\n    try {\r\n        const docRef = await addDoc(commentsCollection, {\r\n            ...comment,\r\n            createdAt: Timestamp.now(),\r\n        });\r\n        return docRef.id;\r\n    } catch (error) {\r\n        console.error('Error adding comment:', error);\r\n        throw error;\r\n    }\r\n}\r\n\r\n// Yeni hikaye ekle\r\nexport async function addStory(story: Omit<Story, 'id' | 'createdAt'>): Promise<string> {\r\n    try {\r\n        const docRef = await addDoc(storiesCollection, {\r\n            ...story,\r\n            createdAt: Timestamp.now(),\r\n        });\r\n        return docRef.id;\r\n    } catch (error) {\r\n        console.error('Error adding story:', error);\r\n        throw error;\r\n    }\r\n}\r\n\r\n// Hikaye g√∂r√ºnt√ºlenme sayƒ±sƒ±nƒ± artƒ±r (Transaction ile g√ºvenli artƒ±rma)\r\nexport async function incrementStoryViews(storyId: string): Promise<void> {\r\n    try {\r\n        const storyRef = doc(db, 'stories', storyId);\r\n\r\n        await runTransaction(db, async (transaction) => {\r\n            const storyDoc = await transaction.get(storyRef);\r\n\r\n            if (!storyDoc.exists()) {\r\n                throw new Error('Story does not exist!');\r\n            }\r\n\r\n            // stats.views deƒüerini 1 artƒ±r\r\n            transaction.update(storyRef, {\r\n                'stats.views': increment(1)\r\n            });\r\n        });\r\n    } catch (error) {\r\n        console.error('Error incrementing story views:', error);\r\n        // View count artƒ±rma hatasƒ± uygulamayƒ± durdurmamalƒ±\r\n        // Sadece log'la ve devam et\r\n    }\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 510, "column": 0}, "map": {"version":3,"sources":["C:/Users/90538/Desktop/fabula/benim-hikaye-uygulamasi/src/app/page.tsx"],"sourcesContent":["'use client';\n\nimport { useEffect, useState } from 'react';\nimport StoryCard from './components/StoryCard';\nimport { Story } from '@/interfaces/Story';\nimport { getStories } from '@/lib/firestore';\n\nexport default function Home() {\n  const [stories, setStories] = useState<Story[]>([]);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    async function fetchStories() {\n      try {\n        const fetchedStories = await getStories();\n        setStories(fetchedStories);\n      } catch (error) {\n        console.error('Error loading stories:', error);\n      } finally {\n        setLoading(false);\n      }\n    }\n\n    fetchStories();\n  }, []);\n\n  return (\n    <div className=\"home-page\">\n      <div className=\"hero-section\">\n        <div className=\"hero-content\">\n          <h1 className=\"hero-title\">\n            <span className=\"gradient-text\">Fabula</span>\n          </h1>\n          <p className=\"hero-subtitle\">\n            Hikayelerin bulu≈üma noktasƒ±. Oku, yorum yap, payla≈ü.\n          </p>\n        </div>\n      </div>\n\n      <main className=\"main-content\">\n        <div className=\"stories-header\">\n          <h2>‚ú® Pop√ºler Hikayeler</h2>\n          <p>Topluluk tarafƒ±ndan en √ßok okunan ve beƒüenilen hikayeler</p>\n        </div>\n\n        {loading ? (\n          <div className=\"loading-state\">\n            <div className=\"spinner\"></div>\n            <p>Hikayeler y√ºkleniyor...</p>\n          </div>\n        ) : stories.length === 0 ? (\n          <div className=\"empty-state\">\n            <span className=\"empty-icon\">üìö</span>\n            <p>Hen√ºz hikaye yok. ƒ∞lk hikayeyi siz ekleyin!</p>\n          </div>\n        ) : (\n          <div className=\"stories-grid\">\n            {stories.map((story) => (\n              <StoryCard key={story.id} story={story} />\n            ))}\n          </div>\n        )}\n      </main>\n    </div>\n  );\n}\n\n"],"names":["useEffect","useState","StoryCard","Story","getStories","Home","stories","setStories","loading","setLoading","fetchStories","fetchedStories","error","console","length","map","story","id"],"mappings":";;;;;AAEA,SAASA,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAC3C,OAAOC,SAAS,MAAM,wBAAwB;AAE9C,SAASE,UAAU,QAAQ,iBAAiB;;;AAL5C,YAAY;;;;AAOG;;IACb,MAAM,CAACE,OAAO,EAAEC,UAAU,CAAC,OAAGN,yKAAQ,CAACE,CAAS,EAAE,CAAC,CAAP,EAAE,CAAC;IAC/C,MAAM,CAACK,OAAO,EAAEC,UAAU,CAAC,GAAGR,6KAAQ,EAAC,IAAI,CAAC;IAE5CD,8KAAS;0BAAC,MAAM;YACd,eAAeU,YAAYA,CAAA,EAAG;gBAC5B,IAAI;oBACF,MAAMC,cAAc,GAAG,UAAMP,wIAAU,CAAC,CAAC;oBACzCG,UAAU,CAACI,cAAc,CAAC;gBAC5B,CAAC,CAAC,OAAOC,KAAK,EAAE;oBACdC,OAAO,CAACD,KAAK,CAAC,wBAAwB,EAAEA,KAAK,CAAC;gBAChD,CAAC,QAAS;oBACRH,UAAU,CAAC,KAAK,CAAC;gBACnB;YACF;YAEAC,YAAY,CAAC,CAAC;QAChB,CAAC;yBAAE,EAAE,CAAC;IAEN,qBACE,6LAAC,GAAG;QAAC,SAAS,EAAC,WAAW;;0BACxB,6LAAC,GAAG;gBAAC,SAAS,EAAC,cAAc;wCAC3B,6LAAC,GAAG;oBAAC,SAAS,EAAC,cAAc;;sCAC3B,6LAAC,EAAE;4BAAC,SAAS,EAAC,YAAY;oDACxB,6LAAC,IAAI;gCAAC,SAAS,EAAC,eAAe;0CAAC,MAAM,EAAE,IAAI;;;;;;;;;;;sCAE9C,6LAAC,CAAC;4BAAC,SAAS,EAAC,eAAe;sCAAA;;;;;;;;;;;;;;;;;0BAMhC,6LAAC,IAAI;gBAAC,SAAS,EAAC,cAAc;;kCAC5B,6LAAC,GAAG;wBAAC,SAAS,EAAC,gBAAgB;;0CAC7B,6LAAC,EAAE;0CAAC,mBAAmB,EAAE,EAAE;;;;;;0CAC3B,6LAAC,CAAC;0CAAC,wDAAwD,EAAE,CAAC;;;;;;;;;;;;oBAG/DF,OAAO,iBACN,6LAAC,GAAG;wBAAC,SAAS,EAAC,eAAe;;0CAC5B,6LAAC,GAAG;gCAAC,SAAS,EAAC,SAAS,CAAC,EAAE,GAAG;;;;;;0CAC9B,6LAAC,CAAC;0CAAC,uBAAuB,EAAE,CAAC;;;;;;;;;;;+BAE7BF,OAAO,CAACQ,MAAM,KAAK,CAAC,iBACtB,6LAAC,GAAG;wBAAC,SAAS,EAAC,aAAa;;0CAC1B,6LAAC,IAAI;gCAAC,SAAS,EAAC,YAAY;0CAAC,EAAE,EAAE,IAAI;;;;;;0CACrC,6LAAC,CAAC;0CAAC,2CAA2C,EAAE,CAAC;;;;;;;;;;;6CAGnD,6LAAC,GAAG;wBAAC,SAAS,EAAC,cAAc;kCAC1BR,OAAO,CAACS,GAAG,EAAEC,KAAK,iBACjB,6LAAC,oJAAS,CAAC,GAAG,CAAC;gCAAW,KAAK,CAAC,CAACA,KAAK,CAAC,GACxC,CAAC;+BADgBA,KAAK,CAACC,EAAE,CAAC;;;;;;;;;;;;;;;;;;;;;;AAOvC;;KA1DwBZ,IAAIA,CAAA,EAAG","ignoreList":[]}}]
}