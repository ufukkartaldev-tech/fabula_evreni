module.exports=[87452,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(11642),e=a.i(38246);function f(){let{user:a}=(0,d.useAuth)(),[f,g]=(0,c.useState)([]),[h,i]=(0,c.useState)(!0),[j,k]=(0,c.useState)(null);(0,c.useEffect)(()=>{l()},[a]);let l=async()=>{if(a)try{let b=await a.getIdToken(),c=await fetch("/api/admin/stories",{headers:{Authorization:`Bearer ${b}`}}),d=await c.json();d.stories&&g(d.stories)}catch(a){console.error("Error fetching stories:",a)}finally{i(!1)}},m=async b=>{if(confirm("Bu hikayeyi silmek istediÄŸinize emin misiniz? Bu iÅŸlem geri alÄ±namaz.")&&a){k(b);try{let c=await a.getIdToken();(await fetch(`/api/admin/stories/${b}`,{method:"DELETE",headers:{Authorization:`Bearer ${c}`}})).ok?g(f.filter(a=>a.id!==b)):alert("Silme iÅŸlemi baÅŸarÄ±sÄ±z oldu.")}catch(a){console.error("Error deleting story:",a),alert("Bir hata oluÅŸtu.")}finally{k(null)}}};return h?(0,b.jsx)("div",{className:"p-8 text-center",children:"YÃ¼kleniyor..."}):(0,b.jsxs)("div",{className:"admin-stories-page",children:[(0,b.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,b.jsx)("h1",{className:"text-2xl font-bold text-gray-800 dark:text-white",children:"Hikaye YÃ¶netimi"}),(0,b.jsx)("button",{onClick:l,className:"px-4 py-2 bg-gray-100 dark:bg-gray-700 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors",children:"ðŸ”„ Yenile"})]}),(0,b.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm overflow-hidden",children:[(0,b.jsx)("div",{className:"overflow-x-auto",children:(0,b.jsxs)("table",{className:"w-full text-left",children:[(0,b.jsx)("thead",{className:"bg-gray-50 dark:bg-gray-700/50",children:(0,b.jsxs)("tr",{children:[(0,b.jsx)("th",{className:"p-4 font-medium text-gray-500 dark:text-gray-400",children:"BaÅŸlÄ±k"}),(0,b.jsx)("th",{className:"p-4 font-medium text-gray-500 dark:text-gray-400",children:"Yazar"}),(0,b.jsx)("th",{className:"p-4 font-medium text-gray-500 dark:text-gray-400",children:"Ä°statistikler"}),(0,b.jsx)("th",{className:"p-4 font-medium text-gray-500 dark:text-gray-400",children:"Tarih"}),(0,b.jsx)("th",{className:"p-4 font-medium text-gray-500 dark:text-gray-400 text-right",children:"Ä°ÅŸlemler"})]})}),(0,b.jsx)("tbody",{className:"divide-y divide-gray-100 dark:divide-gray-700",children:f.map(a=>(0,b.jsxs)("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700/30 transition-colors",children:[(0,b.jsx)("td",{className:"p-4",children:(0,b.jsx)(e.default,{href:`/story/${a.id}`,target:"_blank",className:"font-medium text-indigo-600 dark:text-indigo-400 hover:underline",children:a.title})}),(0,b.jsx)("td",{className:"p-4",children:(0,b.jsx)("div",{className:"flex items-center gap-2",children:(0,b.jsx)("span",{className:"text-sm",children:a.author.name})})}),(0,b.jsxs)("td",{className:"p-4 text-sm text-gray-500",children:["ðŸ‘ï¸ ",a.stats?.views||0," â€¢ â¤ï¸ ",a.stats?.likes||0]}),(0,b.jsx)("td",{className:"p-4 text-sm text-gray-500",children:new Date(a.createdAt).toLocaleDateString("tr-TR")}),(0,b.jsx)("td",{className:"p-4 text-right",children:(0,b.jsx)("button",{onClick:()=>m(a.id),disabled:j===a.id,className:"text-red-500 hover:text-red-700 hover:bg-red-50 dark:hover:bg-red-900/20 px-3 py-1 rounded-lg transition-colors text-sm font-medium disabled:opacity-50",children:j===a.id?"Siliniyor...":"Sil"})})]},a.id))})]})}),0===f.length&&(0,b.jsx)("div",{className:"p-8 text-center text-gray-500",children:"HenÃ¼z hiÃ§ hikaye yok."})]})]})}a.s(["default",()=>f])}];

//# sourceMappingURL=src_app_admin_stories_page_tsx_cac8a67b._.js.map