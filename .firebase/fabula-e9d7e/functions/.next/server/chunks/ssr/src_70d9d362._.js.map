{"version":3,"sources":["../../../../src/contexts/ThemeContext.tsx","../../../../src/app/components/Header.tsx","../../../../src/app/components/UserMenu.tsx","../../../../src/app/components/Badge.tsx","../../../../src/app/components/AuthModal.tsx","../../../../src/app/components/ThemeToggle.tsx","../../../../src/app/components/NotificationBell.tsx","../../../../src/app/components/NotificationItem.tsx","../../../../src/app/components/NotificationPanel.tsx","../../../../src/app/components/LevelUpToast.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { createContext, useContext, useEffect, useState, ReactNode } from 'react';\r\n\r\ntype Theme = 'light' | 'dark';\r\n\r\ninterface ThemeContextType {\r\n    theme: Theme;\r\n    toggleTheme: () => void;\r\n}\r\n\r\nconst ThemeContext = createContext<ThemeContextType | undefined>(undefined);\r\n\r\nexport function ThemeProvider({ children }: { children: ReactNode }) {\r\n    const [theme, setTheme] = useState<Theme>('light');\r\n    const [mounted, setMounted] = useState(false);\r\n\r\n    // Load theme from localStorage on mount\r\n    useEffect(() => {\r\n        setMounted(true);\r\n        const savedTheme = localStorage.getItem('fabula-theme') as Theme;\r\n\r\n        if (savedTheme) {\r\n            setTheme(savedTheme);\r\n        } else {\r\n            // Check system preference\r\n            const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;\r\n            setTheme(prefersDark ? 'dark' : 'light');\r\n        }\r\n    }, []);\r\n\r\n    // Update document when theme changes\r\n    useEffect(() => {\r\n        if (mounted) {\r\n            document.documentElement.setAttribute('data-theme', theme);\r\n            localStorage.setItem('fabula-theme', theme);\r\n        }\r\n    }, [theme, mounted]);\r\n\r\n    const toggleTheme = () => {\r\n        setTheme(prev => prev === 'light' ? 'dark' : 'light');\r\n    };\r\n\r\n    // Prevent flash of wrong theme\r\n    if (!mounted) {\r\n        return <>{children}</>;\r\n    }\r\n\r\n    return (\r\n        <ThemeContext.Provider value={{ theme, toggleTheme }}>\r\n            {children}\r\n        </ThemeContext.Provider>\r\n    );\r\n}\r\n\r\nexport function useTheme() {\r\n    const context = useContext(ThemeContext);\r\n    // Return null instead of throwing during SSR\r\n    return context || null;\r\n}\r\n","'use client';\r\n\r\nimport { useState } from 'react';\r\nimport Link from 'next/link';\r\nimport { useAuth } from '@/contexts/AuthContext';\r\nimport UserMenu from './UserMenu';\r\nimport AuthModal from './AuthModal';\r\nimport ThemeToggle from './ThemeToggle';\r\nimport NotificationBell from './NotificationBell';\r\n\r\nexport default function Header() {\r\n    const { user, loading } = useAuth();\r\n    const [showAuthModal, setShowAuthModal] = useState(false);\r\n\r\n    return (\r\n        <>\r\n            <header className=\"app-header\">\r\n                <div className=\"header-container\">\r\n                    <Link href=\"/\" className=\"header-logo\">\r\n                        <span className=\"logo-icon\">üìñ</span>\r\n                        <span className=\"logo-text\">Fabula</span>\r\n                    </Link>\r\n\r\n                    <nav className=\"header-nav\">\r\n                        <Link href=\"/\" className=\"nav-link\">\r\n                            Ana Sayfa\r\n                        </Link>\r\n                        <Link href=\"/stories\" className=\"nav-link\">\r\n                            Hikayeler\r\n                        </Link>\r\n                        {user && (\r\n                            <>\r\n                                <Link href=\"/drafts\" className=\"nav-link\">\r\n                                    <span className=\"nav-icon\">üìù</span>\r\n                                    Taslaklar\r\n                                </Link>\r\n                                <Link href=\"/favorites\" className=\"nav-link\">\r\n                                    <span className=\"nav-icon\">‚≠ê</span>\r\n                                    Favoriler\r\n                                </Link>\r\n                            </>\r\n                        )}\r\n                    </nav>\r\n\r\n                    <div className=\"header-actions\">\r\n                        <ThemeToggle />\r\n                        {user && <NotificationBell />}\r\n                        {loading ? (\r\n                            <span className=\"auth-loading\">Y√ºkleniyor...</span>\r\n                        ) : user ? (\r\n                            <UserMenu />\r\n                        ) : (\r\n                            <button\r\n                                className=\"login-button\"\r\n                                onClick={() => setShowAuthModal(true)}\r\n                            >\r\n                                <span>üîê</span>\r\n                                Giri≈ü Yap\r\n                            </button>\r\n                        )}\r\n                    </div>\r\n                </div>\r\n            </header>\r\n            <AuthModal isOpen={showAuthModal} onClose={() => setShowAuthModal(false)} />\r\n        </>\r\n    );\r\n}\r\n","/* eslint-disable @next/next/no-img-element */\r\n'use client';\r\n\r\nimport { useState, useRef, useEffect } from 'react';\r\nimport { useAuth } from '@/contexts/AuthContext';\r\nimport { getUserBadge, getXPToNextBadge } from '@/interfaces/Badge';\r\nimport Badge from './Badge';\r\nimport Link from 'next/link';\r\n\r\nexport default function UserMenu() {\r\n    const { user, userProfile, signOut } = useAuth();\r\n    const [isOpen, setIsOpen] = useState(false);\r\n    const menuRef = useRef<HTMLDivElement>(null);\r\n\r\n    useEffect(() => {\r\n        function handleClickOutside(event: MouseEvent) {\r\n            if (menuRef.current && !menuRef.current.contains(event.target as Node)) {\r\n                setIsOpen(false);\r\n            }\r\n        }\r\n\r\n        document.addEventListener('mousedown', handleClickOutside);\r\n        return () => document.removeEventListener('mousedown', handleClickOutside);\r\n    }, []);\r\n\r\n    const handleSignOut = async () => {\r\n        try {\r\n            await signOut();\r\n            setIsOpen(false);\r\n        } catch (error) {\r\n            console.error('Sign out error:', error);\r\n        }\r\n    };\r\n\r\n    if (!user) return null;\r\n\r\n    const displayName = user.displayName || 'Kullanƒ±cƒ±';\r\n    const avatar = user.photoURL || 'üë§';\r\n    const userXP = userProfile ? (userProfile.xp || 0) : 0;\r\n    const currentBadge = userProfile ? getUserBadge(userXP) : null;\r\n    const nextBadgeInfo = userProfile ? getXPToNextBadge(userXP) : null;\r\n\r\n    return (\r\n        <div className=\"user-menu\" ref={menuRef}>\r\n            <button className=\"user-menu-button\" onClick={() => setIsOpen(!isOpen)}>\r\n                {user.photoURL ? (\r\n                    <img src={avatar} alt={displayName} className=\"user-avatar-img\" />\r\n                ) : (\r\n                    <span className=\"user-avatar-emoji\">{avatar}</span>\r\n                )}\r\n                <span className=\"user-name\">{displayName}</span>\r\n                {currentBadge && <span className=\"user-badge-icon\">{currentBadge.emoji}</span>}\r\n                <span className={`dropdown-arrow ${isOpen ? 'open' : ''}`}>‚ñº</span>\r\n            </button>\r\n\r\n            {isOpen && (\r\n                <div className=\"user-menu-dropdown\">\r\n                    <div className=\"user-menu-header\">\r\n                        <div className=\"user-menu-info\">\r\n                            <strong>{displayName}</strong>\r\n                            <small>{user.email}</small>\r\n                        </div>\r\n                        {currentBadge && userProfile && (\r\n                            <div className=\"user-menu-badge\">\r\n                                <Badge badge={currentBadge} size=\"medium\" showName />\r\n                                <div className=\"user-stats\">\r\n                                    <span className=\"stat-item\">\r\n                                        <span className=\"stat-icon\">‚ú®</span>\r\n                                        {userXP} XP\r\n                                    </span>\r\n                                    {nextBadgeInfo && nextBadgeInfo.nextBadge && (\r\n                                        <span className=\"stat-item next-badge\">\r\n                                            <span className=\"stat-icon\">‚≠ê</span>\r\n                                            {nextBadgeInfo.remainingXP} XP sonraki rozete\r\n                                        </span>\r\n                                    )}\r\n                                </div>\r\n                            </div>\r\n                        )}\r\n                    </div>\r\n\r\n                    <div className=\"user-menu-divider\"></div>\r\n\r\n                    <Link href=\"/profile\" className=\"user-menu-item\" onClick={() => setIsOpen(false)}>\r\n                        <span>üë§</span>\r\n                        Profilim\r\n                    </Link>\r\n\r\n                    <Link href=\"/my-stories\" className=\"user-menu-item\" onClick={() => setIsOpen(false)}>\r\n                        <span>üìö</span>\r\n                        Hikayelerim\r\n                    </Link>\r\n\r\n                    <Link href=\"/favorites\" className=\"user-menu-item\" onClick={() => setIsOpen(false)}>\r\n                        <span>‚≠ê</span>\r\n                        Favorilerim\r\n                    </Link>\r\n\r\n                    <Link href=\"/collections\" className=\"user-menu-item\" onClick={() => setIsOpen(false)}>\r\n                        <span>üìÇ</span>\r\n                        Okuma Listelerim\r\n                    </Link>\r\n\r\n                    <Link href=\"/settings\" className=\"user-menu-item\" onClick={() => setIsOpen(false)}>\r\n                        <span>‚öôÔ∏è</span>\r\n                        Ayarlar\r\n                    </Link>\r\n\r\n                    <div className=\"user-menu-divider\"></div>\r\n\r\n                    <button className=\"user-menu-item logout\" onClick={handleSignOut}>\r\n                        <span>üö™</span>\r\n                        √áƒ±kƒ±≈ü Yap\r\n                    </button>\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n}\r\n","import { Badge as BadgeType } from '@/interfaces/Badge';\r\n\r\ninterface BadgeProps {\r\n    badge: BadgeType;\r\n    size?: 'small' | 'medium' | 'large';\r\n    showName?: boolean;\r\n    showTooltip?: boolean;\r\n}\r\n\r\nexport default function Badge({\r\n    badge,\r\n    size = 'small',\r\n    showName = false,\r\n    showTooltip = true\r\n}: BadgeProps) {\r\n    const sizeClasses = {\r\n        small: 'badge-small',\r\n        medium: 'badge-medium',\r\n        large: 'badge-large'\r\n    };\r\n\r\n    return (\r\n        <div\r\n            className={`badge ${sizeClasses[size]}`}\r\n            title={showTooltip ? `${badge.name} - ${badge.description}` : undefined}\r\n        >\r\n            <span className=\"badge-emoji\">{badge.emoji}</span>\r\n            {showName && <span className=\"badge-name\">{badge.name}</span>}\r\n        </div>\r\n    );\r\n}\r\n","'use client';\r\n\r\nimport { useState } from 'react';\r\nimport { useAuth } from '@/contexts/AuthContext';\r\n\r\ninterface AuthModalProps {\r\n    isOpen: boolean;\r\n    onClose: () => void;\r\n}\r\n\r\nexport default function AuthModal({ isOpen, onClose }: AuthModalProps) {\r\n    const [isLogin, setIsLogin] = useState(true);\r\n    const [email, setEmail] = useState('');\r\n    const [password, setPassword] = useState('');\r\n    const [displayName, setDisplayName] = useState('');\r\n    const [rememberMe, setRememberMe] = useState(false);\r\n    const [showPassword, setShowPassword] = useState(false);\r\n    const [error, setError] = useState('');\r\n    const [loading, setLoading] = useState(false);\r\n    const [resetEmailSent, setResetEmailSent] = useState(false);\r\n    const [showResetPassword, setShowResetPassword] = useState(false);\r\n\r\n    const { signInWithGoogle, signInWithEmail, signUpWithEmail, resetPassword } = useAuth();\r\n\r\n    if (!isOpen) return null;\r\n\r\n    const handleGoogleSignIn = async () => {\r\n        setLoading(true);\r\n        setError('');\r\n        try {\r\n            await signInWithGoogle(rememberMe);\r\n            onClose();\r\n        } catch (err: any) {\r\n            setError(err.message);\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    const handleEmailAuth = async (e: React.FormEvent) => {\r\n        e.preventDefault();\r\n        setLoading(true);\r\n        setError('');\r\n\r\n        try {\r\n            if (isLogin) {\r\n                await signInWithEmail(email, password, rememberMe);\r\n            } else {\r\n                if (!displayName.trim()) {\r\n                    setError('L√ºtfen adƒ±nƒ±zƒ± girin.');\r\n                    setLoading(false);\r\n                    return;\r\n                }\r\n                await signUpWithEmail(email, password, displayName, rememberMe);\r\n            }\r\n            onClose();\r\n            resetForm();\r\n        } catch (err: any) {\r\n            setError(err.message);\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    const handleResetPassword = async (e: React.FormEvent) => {\r\n        e.preventDefault();\r\n        setLoading(true);\r\n        setError('');\r\n\r\n        try {\r\n            await resetPassword(email);\r\n            setResetEmailSent(true);\r\n            setTimeout(() => {\r\n                setShowResetPassword(false);\r\n                setResetEmailSent(false);\r\n            }, 3000);\r\n        } catch (err: any) {\r\n            setError(err.message);\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    const resetForm = () => {\r\n        setEmail('');\r\n        setPassword('');\r\n        setDisplayName('');\r\n        setError('');\r\n        setShowPassword(false);\r\n        setResetEmailSent(false);\r\n        setShowResetPassword(false);\r\n    };\r\n\r\n    const switchMode = () => {\r\n        setIsLogin(!isLogin);\r\n        resetForm();\r\n    };\r\n\r\n    return (\r\n        <div className=\"modal-overlay\" onClick={onClose}>\r\n            <div className=\"modal-content\" onClick={(e) => e.stopPropagation()}>\r\n                <button className=\"modal-close\" onClick={onClose}>\r\n                    ‚úï\r\n                </button>\r\n\r\n                {showResetPassword ? (\r\n                    <div className=\"auth-container\">\r\n                        <h2 className=\"auth-title\">≈ûifre Sƒ±fƒ±rlama</h2>\r\n                        <p className=\"auth-subtitle\">\r\n                            Email adresinize ≈üifre sƒ±fƒ±rlama baƒülantƒ±sƒ± g√∂ndereceƒüiz.\r\n                        </p>\r\n\r\n                        {resetEmailSent ? (\r\n                            <div className=\"success-message\">\r\n                                ‚úÖ ≈ûifre sƒ±fƒ±rlama emaili g√∂nderildi! Email kutunuzu kontrol edin.\r\n                            </div>\r\n                        ) : (\r\n                            <form onSubmit={handleResetPassword} className=\"auth-form\">\r\n                                <div className=\"form-group\">\r\n                                    <label>Email</label>\r\n                                    <input\r\n                                        type=\"email\"\r\n                                        value={email}\r\n                                        onChange={(e) => setEmail(e.target.value)}\r\n                                        placeholder=\"ornek@email.com\"\r\n                                        required\r\n                                        disabled={loading}\r\n                                    />\r\n                                </div>\r\n\r\n                                {error && <div className=\"error-message\">{error}</div>}\r\n\r\n                                <button type=\"submit\" className=\"auth-button primary\" disabled={loading}>\r\n                                    {loading ? 'G√∂nderiliyor...' : '≈ûifre Sƒ±fƒ±rlama Linki G√∂nder'}\r\n                                </button>\r\n\r\n                                <button\r\n                                    type=\"button\"\r\n                                    className=\"text-button\"\r\n                                    onClick={() => setShowResetPassword(false)}\r\n                                >\r\n                                    ‚Üê Geri D√∂n\r\n                                </button>\r\n                            </form>\r\n                        )}\r\n                    </div>\r\n                ) : (\r\n                    <div className=\"auth-container\">\r\n                        <h2 className=\"auth-title\">{isLogin ? 'Giri≈ü Yap' : 'Kayƒ±t Ol'}</h2>\r\n                        <p className=\"auth-subtitle\">\r\n                            {isLogin\r\n                                ? 'Hikayelerinize devam etmek i√ßin giri≈ü yapƒ±n'\r\n                                : 'Yeni bir hesap olu≈üturun ve hikayelere katƒ±lƒ±n'}\r\n                        </p>\r\n\r\n                        <button\r\n                            className=\"google-button\"\r\n                            onClick={handleGoogleSignIn}\r\n                            disabled={loading}\r\n                        >\r\n                            <span className=\"google-icon\">üîµ</span>\r\n                            Google ile {isLogin ? 'Giri≈ü Yap' : 'Kayƒ±t Ol'}\r\n                        </button>\r\n\r\n                        <div className=\"divider\">\r\n                            <span>veya</span>\r\n                        </div>\r\n\r\n                        <form onSubmit={handleEmailAuth} className=\"auth-form\">\r\n                            {!isLogin && (\r\n                                <div className=\"form-group\">\r\n                                    <label>Adƒ±nƒ±z</label>\r\n                                    <input\r\n                                        type=\"text\"\r\n                                        value={displayName}\r\n                                        onChange={(e) => setDisplayName(e.target.value)}\r\n                                        placeholder=\"Adƒ±nƒ±z Soyadƒ±nƒ±z\"\r\n                                        required={!isLogin}\r\n                                        disabled={loading}\r\n                                    />\r\n                                </div>\r\n                            )}\r\n\r\n                            <div className=\"form-group\">\r\n                                <label>Email</label>\r\n                                <input\r\n                                    type=\"email\"\r\n                                    value={email}\r\n                                    onChange={(e) => setEmail(e.target.value)}\r\n                                    placeholder=\"ornek@email.com\"\r\n                                    required\r\n                                    disabled={loading}\r\n                                />\r\n                            </div>\r\n\r\n                            <div className=\"form-group\">\r\n                                <label>≈ûifre</label>\r\n                                <div className=\"password-input\">\r\n                                    <input\r\n                                        type={showPassword ? 'text' : 'password'}\r\n                                        value={password}\r\n                                        onChange={(e) => setPassword(e.target.value)}\r\n                                        placeholder=\"‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢\"\r\n                                        required\r\n                                        minLength={6}\r\n                                        disabled={loading}\r\n                                    />\r\n                                    <button\r\n                                        type=\"button\"\r\n                                        className=\"password-toggle\"\r\n                                        onClick={() => setShowPassword(!showPassword)}\r\n                                    >\r\n                                        {showPassword ? 'üëÅÔ∏è' : 'üëÅÔ∏è‚Äçüó®Ô∏è'}\r\n                                    </button>\r\n                                </div>\r\n                                {!isLogin && (\r\n                                    <small className=\"form-hint\">En az 6 karakter olmalƒ±</small>\r\n                                )}\r\n                            </div>\r\n\r\n                            <div className=\"form-options\">\r\n                                <label className=\"checkbox-label\">\r\n                                    <input\r\n                                        type=\"checkbox\"\r\n                                        checked={rememberMe}\r\n                                        onChange={(e) => setRememberMe(e.target.checked)}\r\n                                        disabled={loading}\r\n                                    />\r\n                                    <span>Beni Hatƒ±rla (30 g√ºn)</span>\r\n                                </label>\r\n\r\n                                {isLogin && (\r\n                                    <button\r\n                                        type=\"button\"\r\n                                        className=\"text-button\"\r\n                                        onClick={() => setShowResetPassword(true)}\r\n                                    >\r\n                                        ≈ûifremi Unuttum\r\n                                    </button>\r\n                                )}\r\n                            </div>\r\n\r\n                            {error && <div className=\"error-message\">{error}</div>}\r\n\r\n                            <button type=\"submit\" className=\"auth-button primary\" disabled={loading}>\r\n                                {loading\r\n                                    ? 'ƒ∞≈üleniyor...'\r\n                                    : isLogin\r\n                                        ? 'Giri≈ü Yap'\r\n                                        : 'Kayƒ±t Ol'}\r\n                            </button>\r\n                        </form>\r\n\r\n                        <div className=\"auth-switch\">\r\n                            {isLogin ? 'Hesabƒ±nƒ±z yok mu?' : 'Zaten hesabƒ±nƒ±z var mƒ±?'}\r\n                            <button className=\"text-button\" onClick={switchMode} disabled={loading}>\r\n                                {isLogin ? 'Kayƒ±t Ol' : 'Giri≈ü Yap'}\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                )}\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n","'use client';\r\n\r\nimport { useTheme } from '@/contexts/ThemeContext';\r\n\r\nexport default function ThemeToggle() {\r\n    const themeContext = useTheme();\r\n\r\n    // Return null during SSR or if context is not available\r\n    if (!themeContext) {\r\n        return null;\r\n    }\r\n\r\n    const { theme, toggleTheme } = themeContext;\r\n\r\n    return (\r\n        <button\r\n            className=\"theme-toggle\"\r\n            onClick={toggleTheme}\r\n            title={theme === 'light' ? 'Karanlƒ±k moda ge√ß' : 'Aydƒ±nlƒ±k moda ge√ß'}\r\n            aria-label=\"Tema deƒüi≈ütir\"\r\n        >\r\n            <span className=\"theme-icon\">\r\n                {theme === 'light' ? 'üåô' : '‚òÄÔ∏è'}\r\n            </span>\r\n        </button>\r\n    );\r\n}\r\n","'use client';\r\n\r\nimport { useState, useEffect, useRef } from 'react';\r\nimport { useAuth } from '@/contexts/AuthContext';\r\nimport { Notification, subscribeToNotifications, getUnreadCount } from '@/lib/notificationService';\r\nimport NotificationPanel from './NotificationPanel';\r\n\r\nexport default function NotificationBell() {\r\n    const { user } = useAuth();\r\n    const [notifications, setNotifications] = useState<Notification[]>([]);\r\n    const [unreadCount, setUnreadCount] = useState(0);\r\n    const [showPanel, setShowPanel] = useState(false);\r\n    const panelRef = useRef<HTMLDivElement>(null);\r\n\r\n    // Real-time bildirim dinleyicisi\r\n    useEffect(() => {\r\n        if (!user) {\r\n            setNotifications([]);\r\n            setUnreadCount(0);\r\n            return;\r\n        }\r\n\r\n        const unsubscribe = subscribeToNotifications(user.uid, (newNotifications) => {\r\n            setNotifications(newNotifications);\r\n            const unread = newNotifications.filter(n => !n.read).length;\r\n            setUnreadCount(unread);\r\n        });\r\n\r\n        return () => unsubscribe();\r\n    }, [user]);\r\n\r\n    // Panel dƒ±≈üƒ±na tƒ±klandƒ±ƒüƒ±nda kapat\r\n    useEffect(() => {\r\n        function handleClickOutside(event: MouseEvent) {\r\n            if (panelRef.current && !panelRef.current.contains(event.target as Node)) {\r\n                setShowPanel(false);\r\n            }\r\n        }\r\n\r\n        if (showPanel) {\r\n            document.addEventListener('mousedown', handleClickOutside);\r\n            return () => document.removeEventListener('mousedown', handleClickOutside);\r\n        }\r\n    }, [showPanel]);\r\n\r\n    const handleNotificationsUpdate = async () => {\r\n        // Bildirimleri yeniden y√ºkle\r\n        if (user) {\r\n            const count = await getUnreadCount(user.uid);\r\n            setUnreadCount(count);\r\n        }\r\n    };\r\n\r\n    if (!user) return null;\r\n\r\n    return (\r\n        <div className=\"notification-bell-wrapper\" ref={panelRef}>\r\n            <button\r\n                className=\"notification-bell\"\r\n                onClick={() => setShowPanel(!showPanel)}\r\n                title=\"Bildirimler\"\r\n            >\r\n                <span className=\"bell-icon\">üîî</span>\r\n                {unreadCount > 0 && (\r\n                    <span className=\"notification-badge\">{unreadCount > 9 ? '9+' : unreadCount}</span>\r\n                )}\r\n            </button>\r\n\r\n            {showPanel && (\r\n                <NotificationPanel\r\n                    notifications={notifications}\r\n                    onClose={() => setShowPanel(false)}\r\n                    onNotificationsUpdate={handleNotificationsUpdate}\r\n                />\r\n            )}\r\n        </div>\r\n    );\r\n}\r\n","'use client';\r\n\r\nimport { useRouter } from 'next/navigation';\r\nimport { Notification } from '@/lib/notificationService';\r\nimport { getRelativeTime } from '@/lib/notificationService';\r\n\r\ninterface NotificationItemProps {\r\n    notification: Notification;\r\n    onRead: (id: string) => void;\r\n}\r\n\r\nexport default function NotificationItem({ notification, onRead }: NotificationItemProps) {\r\n    const router = useRouter();\r\n\r\n    // Bildirim tipine g√∂re icon\r\n    const getNotificationIcon = () => {\r\n        if (notification.icon) {\r\n            return notification.icon;\r\n        }\r\n\r\n        switch (notification.type) {\r\n            case 'comment':\r\n            case 'reply':\r\n                return 'üí¨';\r\n            case 'like':\r\n                return '‚ù§Ô∏è';\r\n            case 'favorite':\r\n                return '‚≠ê';\r\n            case 'new_follower':\r\n                return 'üë•';\r\n            case 'badge_earned':\r\n                return 'üèÜ';\r\n            case 'story_published':\r\n                return 'üìö';\r\n            default:\r\n                return 'üîî';\r\n        }\r\n    };\r\n\r\n    const handleClick = () => {\r\n        // Okunmadƒ±ysa okundu i≈üaretle\r\n        if (!notification.read) {\r\n            onRead(notification.id);\r\n        }\r\n\r\n        // Action URL'e git\r\n        if (notification.actionUrl) {\r\n            router.push(notification.actionUrl);\r\n        } else if (notification.storyId) {\r\n            router.push(`/story/${notification.storyId}`);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div\r\n            className={`notification-item ${notification.read ? 'read' : 'unread'}`}\r\n            onClick={handleClick}\r\n        >\r\n            <div className=\"notification-icon\">\r\n                {getNotificationIcon()}\r\n            </div>\r\n\r\n            <div className=\"notification-content\">\r\n                <div className=\"notification-header\">\r\n                    {notification.actorAvatar && (\r\n                        <img\r\n                            src={notification.actorAvatar}\r\n                            alt={notification.actorName || ''}\r\n                            className=\"notification-avatar\"\r\n                        />\r\n                    )}\r\n                    <span className=\"notification-actor\">{notification.actorName}</span>\r\n                </div>\r\n\r\n                <p className=\"notification-message\">{notification.message}</p>\r\n\r\n                {notification.storyTitle && (\r\n                    <span className=\"notification-story-title\">\r\n                        \"{notification.storyTitle}\"\r\n                    </span>\r\n                )}\r\n\r\n                <span className=\"notification-time\">\r\n                    {getRelativeTime(notification.createdAt)}\r\n                </span>\r\n            </div>\r\n\r\n            {!notification.read && (\r\n                <div className=\"notification-unread-indicator\"></div>\r\n            )}\r\n        </div>\r\n    );\r\n}\r\n","'use client';\r\n\r\nimport { useEffect, useState } from 'react';\r\nimport { Notification, markAsRead, markAllAsRead } from '@/lib/notificationService';\r\nimport NotificationItem from './NotificationItem';\r\n\r\ninterface NotificationPanelProps {\r\n    notifications: Notification[];\r\n    onClose: () => void;\r\n    onNotificationsUpdate: () => void;\r\n}\r\n\r\nexport default function NotificationPanel({ notifications, onClose, onNotificationsUpdate }: NotificationPanelProps) {\r\n    const [isMarkingAll, setIsMarkingAll] = useState(false);\r\n\r\n    const handleMarkAsRead = async (notificationId: string) => {\r\n        try {\r\n            await markAsRead(notificationId);\r\n            onNotificationsUpdate();\r\n        } catch (error) {\r\n            console.error('Error marking notification as read:', error);\r\n        }\r\n    };\r\n\r\n    const handleMarkAllAsRead = async () => {\r\n        if (isMarkingAll) return;\r\n\r\n        setIsMarkingAll(true);\r\n        try {\r\n            const userId = notifications[0]?.userId;\r\n            if (userId) {\r\n                await markAllAsRead(userId);\r\n                onNotificationsUpdate();\r\n            }\r\n        } catch (error) {\r\n            console.error('Error marking all as read:', error);\r\n        } finally {\r\n            setIsMarkingAll(false);\r\n        }\r\n    };\r\n\r\n    const unreadCount = notifications.filter(n => !n.read).length;\r\n\r\n    return (\r\n        <div className=\"notification-panel\">\r\n            <div className=\"notification-panel-header\">\r\n                <h3>Bildirimler</h3>\r\n                {unreadCount > 0 && (\r\n                    <button\r\n                        className=\"mark-all-read-button\"\r\n                        onClick={handleMarkAllAsRead}\r\n                        disabled={isMarkingAll}\r\n                    >\r\n                        {isMarkingAll ? 'ƒ∞≈üleniyor...' : 'T√ºm√ºn√º okundu i≈üaretle'}\r\n                    </button>\r\n                )}\r\n            </div>\r\n\r\n            <div className=\"notification-list\">\r\n                {notifications.length === 0 ? (\r\n                    <div className=\"empty-notifications\">\r\n                        <span className=\"empty-icon\">üîî</span>\r\n                        <p>Hen√ºz bildiriminiz yok</p>\r\n                    </div>\r\n                ) : (\r\n                    notifications.map((notification) => (\r\n                        <NotificationItem\r\n                            key={notification.id}\r\n                            notification={notification}\r\n                            onRead={handleMarkAsRead}\r\n                        />\r\n                    ))\r\n                )}\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n","'use client';\r\n\r\nimport { useEffect, useState } from 'react';\r\nimport { useAuth } from '@/contexts/AuthContext';\r\nimport { subscribeToNotifications, Notification } from '@/lib/notificationService';\r\n\r\nexport default function LevelUpToast() {\r\n    const { user } = useAuth();\r\n    const [toast, setToast] = useState<{ visible: boolean; message: string; badgeName?: string; icon?: string } | null>(null);\r\n\r\n    useEffect(() => {\r\n        if (!user) return;\r\n\r\n        // Subscribe to notifications to catch 'badge_earned'\r\n        const unsubscribe = subscribeToNotifications(user.uid, (notifications) => {\r\n            // Check if the most recent notification is a badge_earned and is unread\r\n            // We only want to show toast for very recent ones to avoid spam on page load\r\n            // But for simplicity, let's just check the top one if it's new\r\n\r\n            const latest = notifications[0];\r\n            if (latest && latest.type === 'badge_earned' && !latest.read) {\r\n                // Check if this notification was created in the last 10 seconds\r\n                const now = new Date();\r\n                const diff = now.getTime() - latest.createdAt.getTime();\r\n\r\n                if (diff < 10000) { // 10 seconds\r\n                    setToast({\r\n                        visible: true,\r\n                        message: latest.message,\r\n                        badgeName: latest.badgeName,\r\n                        icon: latest.icon\r\n                    });\r\n\r\n                    // Hide after 5 seconds\r\n                    setTimeout(() => {\r\n                        setToast(null);\r\n                    }, 5000);\r\n                }\r\n            }\r\n        });\r\n\r\n        return () => unsubscribe();\r\n    }, [user]);\r\n\r\n    if (!toast || !toast.visible) return null;\r\n\r\n    return (\r\n        <div className=\"fixed bottom-8 right-8 z-50 animate-bounce-in\">\r\n            <div className=\"bg-gradient-to-r from-yellow-400 to-orange-500 text-white p-6 rounded-xl shadow-2xl flex items-center gap-4 border-4 border-white/30 backdrop-blur-sm\">\r\n                <div className=\"text-4xl animate-pulse\">\r\n                    {toast.icon || 'üèÜ'}\r\n                </div>\r\n                <div>\r\n                    <h4 className=\"font-bold text-lg uppercase tracking-wider text-yellow-100\">Seviye Atladƒ±n!</h4>\r\n                    <p className=\"font-medium text-white text-lg\">{toast.badgeName}</p>\r\n                </div>\r\n                <div className=\"absolute -top-2 -right-2 bg-red-500 text-white text-xs font-bold px-2 py-1 rounded-full animate-ping\">\r\n                    YENƒ∞!\r\n                </div>\r\n            </div>\r\n            {/* Confetti effect could be added here via CSS or a library */}\r\n        </div>\r\n    );\r\n}\r\n"],"names":[],"mappings":"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"}