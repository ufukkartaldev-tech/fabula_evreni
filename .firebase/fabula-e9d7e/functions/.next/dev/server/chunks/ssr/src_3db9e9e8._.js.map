{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/90538/Desktop/fabula/benim-hikaye-uygulamasi/src/lib/likeService.ts"],"sourcesContent":["import {\r\n    collection,\r\n    doc,\r\n    getDoc,\r\n    setDoc,\r\n    deleteDoc,\r\n    getDocs,\r\n    query,\r\n    where,\r\n    runTransaction,\r\n    increment,\r\n    Timestamp\r\n} from 'firebase/firestore';\r\nimport { db } from './firebase';\r\n\r\n// Firestore koleksiyon referanslarƒ±\r\nconst likesCollection = collection(db, 'likes');\r\n\r\nexport interface Like {\r\n    id: string;\r\n    userId: string;\r\n    targetId: string; // storyId veya commentId\r\n    targetType: 'story' | 'comment';\r\n    createdAt: Date;\r\n}\r\n\r\n// Hikaye beƒüenme/beƒüenmeme toggle\r\nexport async function toggleStoryLike(userId: string, storyId: string): Promise<boolean> {\r\n    try {\r\n        const likeId = `${userId}_story_${storyId}`;\r\n        const likeRef = doc(db, 'likes', likeId);\r\n        const storyRef = doc(db, 'stories', storyId);\r\n\r\n        return await runTransaction(db, async (transaction) => {\r\n            const likeDoc = await transaction.get(likeRef);\r\n            const storyDoc = await transaction.get(storyRef);\r\n\r\n            if (!storyDoc.exists()) {\r\n                throw new Error('Story does not exist!');\r\n            }\r\n\r\n            if (likeDoc.exists()) {\r\n                // Beƒüeniyi kaldƒ±r\r\n                transaction.delete(likeRef);\r\n                transaction.update(storyRef, {\r\n                    'stats.likes': increment(-1)\r\n                });\r\n                return false; // Beƒüeni kaldƒ±rƒ±ldƒ±\r\n            } else {\r\n                // Beƒüeni ekle\r\n                transaction.set(likeRef, {\r\n                    userId,\r\n                    targetId: storyId,\r\n                    targetType: 'story',\r\n                    createdAt: Timestamp.now()\r\n                });\r\n                transaction.update(storyRef, {\r\n                    'stats.likes': increment(1)\r\n                });\r\n                return true; // Beƒüenildi\r\n            }\r\n        });\r\n    } catch (error) {\r\n        console.error('Error toggling story like:', error);\r\n        throw error;\r\n    }\r\n}\r\n\r\n// Yorum beƒüenme/beƒüenmeme toggle\r\nexport async function toggleCommentLike(userId: string, commentId: string): Promise<boolean> {\r\n    try {\r\n        const likeId = `${userId}_comment_${commentId}`;\r\n        const likeRef = doc(db, 'likes', likeId);\r\n        const commentRef = doc(db, 'comments', commentId);\r\n\r\n        return await runTransaction(db, async (transaction) => {\r\n            const likeDoc = await transaction.get(likeRef);\r\n            const commentDoc = await transaction.get(commentRef);\r\n\r\n            if (!commentDoc.exists()) {\r\n                throw new Error('Comment does not exist!');\r\n            }\r\n\r\n            if (likeDoc.exists()) {\r\n                // Beƒüeniyi kaldƒ±r\r\n                transaction.delete(likeRef);\r\n                transaction.update(commentRef, {\r\n                    likes: increment(-1)\r\n                });\r\n                return false;\r\n            } else {\r\n                // Beƒüeni ekle\r\n                transaction.set(likeRef, {\r\n                    userId,\r\n                    targetId: commentId,\r\n                    targetType: 'comment',\r\n                    createdAt: Timestamp.now()\r\n                });\r\n                transaction.update(commentRef, {\r\n                    likes: increment(1)\r\n                });\r\n                return true;\r\n            }\r\n        });\r\n    } catch (error) {\r\n        console.error('Error toggling comment like:', error);\r\n        throw error;\r\n    }\r\n}\r\n\r\n// Kullanƒ±cƒ±nƒ±n bir hikayeyi beƒüenip beƒüenmediƒüini kontrol et\r\nexport async function isStoryLiked(userId: string, storyId: string): Promise<boolean> {\r\n    try {\r\n        const likeId = `${userId}_story_${storyId}`;\r\n        const likeRef = doc(db, 'likes', likeId);\r\n        const likeDoc = await getDoc(likeRef);\r\n        return likeDoc.exists();\r\n    } catch (error) {\r\n        console.error('Error checking story like:', error);\r\n        return false;\r\n    }\r\n}\r\n\r\n// Kullanƒ±cƒ±nƒ±n bir yorumu beƒüenip beƒüenmediƒüini kontrol et\r\nexport async function isCommentLiked(userId: string, commentId: string): Promise<boolean> {\r\n    try {\r\n        const likeId = `${userId}_comment_${commentId}`;\r\n        const likeRef = doc(db, 'likes', likeId);\r\n        const likeDoc = await getDoc(likeRef);\r\n        return likeDoc.exists();\r\n    } catch (error) {\r\n        console.error('Error checking comment like:', error);\r\n        return false;\r\n    }\r\n}\r\n\r\n// Kullanƒ±cƒ±nƒ±n beƒüendiƒüi hikayeleri getir\r\nexport async function getUserLikedStories(userId: string): Promise<string[]> {\r\n    try {\r\n        const q = query(\r\n            likesCollection,\r\n            where('userId', '==', userId),\r\n            where('targetType', '==', 'story')\r\n        );\r\n        const querySnapshot = await getDocs(q);\r\n        return querySnapshot.docs.map(doc => doc.data().targetId);\r\n    } catch (error) {\r\n        console.error('Error fetching user liked stories:', error);\r\n        return [];\r\n    }\r\n}\r\n\r\n// Kullanƒ±cƒ±nƒ±n beƒüendiƒüi yorumlarƒ± getir\r\nexport async function getUserLikedComments(userId: string): Promise<string[]> {\r\n    try {\r\n        const q = query(\r\n            likesCollection,\r\n            where('userId', '==', userId),\r\n            where('targetType', '==', 'comment')\r\n        );\r\n        const querySnapshot = await getDocs(q);\r\n        return querySnapshot.docs.map(doc => doc.data().targetId);\r\n    } catch (error) {\r\n        console.error('Error fetching user liked comments:', error);\r\n        return [];\r\n    }\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 145, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/90538/Desktop/fabula/benim-hikaye-uygulamasi/src/app/components/LikeButton.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useState, useEffect } from 'react';\r\nimport { useAuth } from '@/contexts/AuthContext';\r\nimport { toggleStoryLike, toggleCommentLike, isStoryLiked, isCommentLiked } from '@/lib/likeService';\r\n\r\ninterface LikeButtonProps {\r\n    targetId: string;\r\n    targetType: 'story' | 'comment';\r\n    initialLikeCount: number;\r\n    size?: 'small' | 'medium' | 'large';\r\n}\r\n\r\nexport default function LikeButton({ targetId, targetType, initialLikeCount, size = 'medium' }: LikeButtonProps) {\r\n    const { user } = useAuth();\r\n    const [isLiked, setIsLiked] = useState(false);\r\n    const [likeCount, setLikeCount] = useState(initialLikeCount);\r\n    const [isLoading, setIsLoading] = useState(false);\r\n    const [isChecking, setIsChecking] = useState(true);\r\n\r\n    // Kullanƒ±cƒ±nƒ±n beƒüenip beƒüenmediƒüini kontrol et\r\n    useEffect(() => {\r\n        if (!user) {\r\n            setIsChecking(false);\r\n            return;\r\n        }\r\n\r\n        async function checkLikeStatus() {\r\n            try {\r\n                const liked = targetType === 'story'\r\n                    ? await isStoryLiked(user.uid, targetId)\r\n                    : await isCommentLiked(user.uid, targetId);\r\n                setIsLiked(liked);\r\n            } catch (error) {\r\n                console.error('Error checking like status:', error);\r\n            } finally {\r\n                setIsChecking(false);\r\n            }\r\n        }\r\n\r\n        checkLikeStatus();\r\n    }, [user, targetId, targetType]);\r\n\r\n    const handleLike = async () => {\r\n        if (!user || isLoading) return;\r\n\r\n        setIsLoading(true);\r\n\r\n        // Optimistic UI update\r\n        const newIsLiked = !isLiked;\r\n        const newLikeCount = newIsLiked ? likeCount + 1 : likeCount - 1;\r\n        setIsLiked(newIsLiked);\r\n        setLikeCount(newLikeCount);\r\n\r\n        try {\r\n            const result = targetType === 'story'\r\n                ? await toggleStoryLike(user.uid, targetId)\r\n                : await toggleCommentLike(user.uid, targetId);\r\n\r\n            // Sunucudan gelen sonu√ßla g√ºncelle\r\n            setIsLiked(result);\r\n        } catch (error) {\r\n            console.error('Error toggling like:', error);\r\n            // Hata durumunda geri al\r\n            setIsLiked(!newIsLiked);\r\n            setLikeCount(likeCount);\r\n        } finally {\r\n            setIsLoading(false);\r\n        }\r\n    };\r\n\r\n    if (isChecking) {\r\n        return null; // veya skeleton loader\r\n    }\r\n\r\n    const sizeClasses = {\r\n        small: 'like-button-small',\r\n        medium: 'like-button-medium',\r\n        large: 'like-button-large'\r\n    };\r\n\r\n    return (\r\n        <button\r\n            className={`like-button ${sizeClasses[size]} ${isLiked ? 'liked' : ''} ${!user ? 'disabled' : ''}`}\r\n            onClick={handleLike}\r\n            disabled={!user || isLoading}\r\n            title={user ? (isLiked ? 'Beƒüeniyi kaldƒ±r' : 'Beƒüen') : 'Beƒüenmek i√ßin giri≈ü yapƒ±n'}\r\n        >\r\n            <span className=\"like-icon\">\r\n                {isLiked ? '‚ù§Ô∏è' : 'ü§ç'}\r\n            </span>\r\n            <span className=\"like-count\">{likeCount}</span>\r\n        </button>\r\n    );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAJA;;;;;AAae,SAAS,WAAW,EAAE,QAAQ,EAAE,UAAU,EAAE,gBAAgB,EAAE,OAAO,QAAQ,EAAmB;IAC3G,MAAM,EAAE,IAAI,EAAE,GAAG,IAAA,0IAAO;IACxB,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAC;IACvC,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,iNAAQ,EAAC;IAC3C,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,iNAAQ,EAAC;IAC3C,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,iNAAQ,EAAC;IAE7C,gDAAgD;IAChD,IAAA,kNAAS,EAAC;QACN,IAAI,CAAC,MAAM;YACP,cAAc;YACd;QACJ;QAEA,eAAe;YACX,IAAI;gBACA,MAAM,QAAQ,eAAe,UACvB,MAAM,IAAA,yIAAY,EAAC,KAAK,GAAG,EAAE,YAC7B,MAAM,IAAA,2IAAc,EAAC,KAAK,GAAG,EAAE;gBACrC,WAAW;YACf,EAAE,OAAO,OAAO;gBACZ,QAAQ,KAAK,CAAC,+BAA+B;YACjD,SAAU;gBACN,cAAc;YAClB;QACJ;QAEA;IACJ,GAAG;QAAC;QAAM;QAAU;KAAW;IAE/B,MAAM,aAAa;QACf,IAAI,CAAC,QAAQ,WAAW;QAExB,aAAa;QAEb,uBAAuB;QACvB,MAAM,aAAa,CAAC;QACpB,MAAM,eAAe,aAAa,YAAY,IAAI,YAAY;QAC9D,WAAW;QACX,aAAa;QAEb,IAAI;YACA,MAAM,SAAS,eAAe,UACxB,MAAM,IAAA,4IAAe,EAAC,KAAK,GAAG,EAAE,YAChC,MAAM,IAAA,8IAAiB,EAAC,KAAK,GAAG,EAAE;YAExC,mCAAmC;YACnC,WAAW;QACf,EAAE,OAAO,OAAO;YACZ,QAAQ,KAAK,CAAC,wBAAwB;YACtC,yBAAyB;YACzB,WAAW,CAAC;YACZ,aAAa;QACjB,SAAU;YACN,aAAa;QACjB;IACJ;IAEA,IAAI,YAAY;QACZ,OAAO,MAAM,uBAAuB;IACxC;IAEA,MAAM,cAAc;QAChB,OAAO;QACP,QAAQ;QACR,OAAO;IACX;IAEA,qBACI,8OAAC;QACG,WAAW,CAAC,YAAY,EAAE,WAAW,CAAC,KAAK,CAAC,CAAC,EAAE,UAAU,UAAU,GAAG,CAAC,EAAE,CAAC,OAAO,aAAa,IAAI;QAClG,SAAS;QACT,UAAU,CAAC,QAAQ;QACnB,OAAO,OAAQ,UAAU,oBAAoB,UAAW;;0BAExD,8OAAC;gBAAK,WAAU;0BACX,UAAU,OAAO;;;;;;0BAEtB,8OAAC;gBAAK,WAAU;0BAAc;;;;;;;;;;;;AAG1C"}},
    {"offset": {"line": 248, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/90538/Desktop/fabula/benim-hikaye-uygulamasi/src/lib/firestore.ts"],"sourcesContent":["import {\r\n    collection,\r\n    addDoc,\r\n    getDocs,\r\n    getDoc,\r\n    doc,\r\n    query,\r\n    where,\r\n    orderBy,\r\n    Timestamp,\r\n    DocumentData,\r\n    runTransaction,\r\n    increment\r\n} from 'firebase/firestore';\r\nimport { db } from './firebase';\r\nimport { Story } from '@/interfaces/Story';\r\nimport { Comment } from '@/interfaces/Comment';\r\n\r\n// Firestore koleksiyon referanslarƒ±\r\nconst storiesCollection = collection(db, 'stories');\r\nconst commentsCollection = collection(db, 'comments');\r\n\r\n// Hikayeleri getir\r\nexport async function getStories(): Promise<Story[]> {\r\n    try {\r\n        const q = query(storiesCollection, orderBy('createdAt', 'desc'));\r\n        const querySnapshot = await getDocs(q);\r\n\r\n        return querySnapshot.docs.map(doc => {\r\n            const data = doc.data();\r\n            return {\r\n                id: doc.id,\r\n                ...data,\r\n                createdAt: data.createdAt?.toDate() || new Date(),\r\n            } as Story;\r\n        });\r\n    } catch (error) {\r\n        console.error('Error fetching stories:', error);\r\n        return [];\r\n    }\r\n}\r\n\r\n// Tek bir hikaye getir\r\nexport async function getStoryById(id: string): Promise<Story | null> {\r\n    try {\r\n        const stories = await getStories();\r\n        return stories.find(story => story.id === id) || null;\r\n    } catch (error) {\r\n        console.error('Error fetching story:', error);\r\n        return null;\r\n    }\r\n}\r\n\r\n// Bir hikayeye ait yorumlarƒ± getir\r\nexport async function getCommentsByStoryId(storyId: string): Promise<Comment[]> {\r\n    try {\r\n        const q = query(\r\n            commentsCollection,\r\n            where('storyId', '==', storyId),\r\n            orderBy('createdAt', 'desc')\r\n        );\r\n        const querySnapshot = await getDocs(q);\r\n\r\n        const comments = querySnapshot.docs.map(doc => {\r\n            const data = doc.data();\r\n            return {\r\n                id: doc.id,\r\n                ...data,\r\n                createdAt: data.createdAt?.toDate() || new Date(),\r\n            } as Comment;\r\n        });\r\n\r\n        // Nested yorumlarƒ± organize et\r\n        return organizeComments(comments);\r\n    } catch (error) {\r\n        console.error('Error fetching comments:', error);\r\n        return [];\r\n    }\r\n}\r\n\r\n// Yorumlarƒ± nested yapƒ±ya d√∂n√º≈üt√ºr\r\nfunction organizeComments(comments: Comment[]): Comment[] {\r\n    const commentMap = new Map<string, Comment>();\r\n    const rootComments: Comment[] = [];\r\n\r\n    // T√ºm yorumlarƒ± map'e ekle\r\n    comments.forEach(comment => {\r\n        commentMap.set(comment.id, { ...comment, replies: [] });\r\n    });\r\n\r\n    // Nested yapƒ±yƒ± olu≈ütur\r\n    comments.forEach(comment => {\r\n        const commentWithReplies = commentMap.get(comment.id);\r\n        if (commentWithReplies) {\r\n            // Eƒüer parent yoksa root comment\r\n            rootComments.push(commentWithReplies);\r\n        }\r\n    });\r\n\r\n    return rootComments;\r\n}\r\n\r\n// Yeni yorum ekle\r\nexport async function addComment(comment: Omit<Comment, 'id' | 'createdAt'>): Promise<string> {\r\n    try {\r\n        const docRef = await addDoc(commentsCollection, {\r\n            ...comment,\r\n            createdAt: Timestamp.now(),\r\n        });\r\n        return docRef.id;\r\n    } catch (error) {\r\n        console.error('Error adding comment:', error);\r\n        throw error;\r\n    }\r\n}\r\n\r\n// Yeni hikaye ekle\r\nexport async function addStory(story: Omit<Story, 'id' | 'createdAt'>): Promise<string> {\r\n    try {\r\n        const docRef = await addDoc(storiesCollection, {\r\n            ...story,\r\n            createdAt: Timestamp.now(),\r\n        });\r\n        return docRef.id;\r\n    } catch (error) {\r\n        console.error('Error adding story:', error);\r\n        throw error;\r\n    }\r\n}\r\n\r\n// Hikaye g√∂r√ºnt√ºlenme sayƒ±sƒ±nƒ± artƒ±r (Transaction ile g√ºvenli artƒ±rma)\r\nexport async function incrementStoryViews(storyId: string): Promise<void> {\r\n    try {\r\n        const storyRef = doc(db, 'stories', storyId);\r\n\r\n        await runTransaction(db, async (transaction) => {\r\n            const storyDoc = await transaction.get(storyRef);\r\n\r\n            if (!storyDoc.exists()) {\r\n                throw new Error('Story does not exist!');\r\n            }\r\n\r\n            // stats.views deƒüerini 1 artƒ±r\r\n            transaction.update(storyRef, {\r\n                'stats.views': increment(1)\r\n            });\r\n        });\r\n    } catch (error) {\r\n        console.error('Error incrementing story views:', error);\r\n        // View count artƒ±rma hatasƒ± uygulamayƒ± durdurmamalƒ±\r\n        // Sadece log'la ve devam et\r\n    }\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 383, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/90538/Desktop/fabula/benim-hikaye-uygulamasi/src/lib/favoriteService.ts"],"sourcesContent":["import {\r\n    collection,\r\n    doc,\r\n    getDoc,\r\n    setDoc,\r\n    deleteDoc,\r\n    getDocs,\r\n    query,\r\n    where,\r\n    Timestamp\r\n} from 'firebase/firestore';\r\nimport { db } from './firebase';\r\nimport { Story } from '@/interfaces/Story';\r\nimport { getStories } from './firestore';\r\n\r\n// Firestore koleksiyon referanslarƒ±\r\nconst favoritesCollection = collection(db, 'favorites');\r\n\r\nexport interface Favorite {\r\n    id: string;\r\n    userId: string;\r\n    storyId: string;\r\n    createdAt: Date;\r\n}\r\n\r\n// Favorilere ekleme/√ßƒ±karma toggle\r\nexport async function toggleFavorite(userId: string, storyId: string): Promise<boolean> {\r\n    try {\r\n        const favoriteId = `${userId}_${storyId}`;\r\n        const favoriteRef = doc(db, 'favorites', favoriteId);\r\n        const favoriteDoc = await getDoc(favoriteRef);\r\n\r\n        if (favoriteDoc.exists()) {\r\n            // Favorilerden √ßƒ±kar\r\n            await deleteDoc(favoriteRef);\r\n            return false; // Favorilerden kaldƒ±rƒ±ldƒ±\r\n        } else {\r\n            // Favorilere ekle\r\n            await setDoc(favoriteRef, {\r\n                userId,\r\n                storyId,\r\n                createdAt: Timestamp.now()\r\n            });\r\n            return true; // Favorilere eklendi\r\n        }\r\n    } catch (error) {\r\n        console.error('Error toggling favorite:', error);\r\n        throw error;\r\n    }\r\n}\r\n\r\n// Kullanƒ±cƒ±nƒ±n bir hikayeyi favorilere ekleyip eklemediƒüini kontrol et\r\nexport async function isFavorited(userId: string, storyId: string): Promise<boolean> {\r\n    try {\r\n        const favoriteId = `${userId}_${storyId}`;\r\n        const favoriteRef = doc(db, 'favorites', favoriteId);\r\n        const favoriteDoc = await getDoc(favoriteRef);\r\n        return favoriteDoc.exists();\r\n    } catch (error) {\r\n        console.error('Error checking favorite:', error);\r\n        return false;\r\n    }\r\n}\r\n\r\n// Kullanƒ±cƒ±nƒ±n favori hikayelerini getir\r\nexport async function getUserFavorites(userId: string): Promise<Story[]> {\r\n    try {\r\n        const q = query(\r\n            favoritesCollection,\r\n            where('userId', '==', userId)\r\n        );\r\n        const querySnapshot = await getDocs(q);\r\n        const favoriteStoryIds = querySnapshot.docs.map(doc => doc.data().storyId);\r\n\r\n        if (favoriteStoryIds.length === 0) {\r\n            return [];\r\n        }\r\n\r\n        // T√ºm hikayeleri getir ve favorileri filtrele\r\n        const allStories = await getStories();\r\n        const favoriteStories = allStories.filter(story =>\r\n            favoriteStoryIds.includes(story.id)\r\n        );\r\n\r\n        // Favorilere eklenme tarihine g√∂re sƒ±rala (en yeni √∂nce)\r\n        const favoritesMap = new Map(\r\n            querySnapshot.docs.map(doc => [\r\n                doc.data().storyId,\r\n                doc.data().createdAt?.toDate() || new Date()\r\n            ])\r\n        );\r\n\r\n        return favoriteStories.sort((a, b) => {\r\n            const dateA = favoritesMap.get(a.id) || new Date(0);\r\n            const dateB = favoritesMap.get(b.id) || new Date(0);\r\n            return dateB.getTime() - dateA.getTime();\r\n        });\r\n    } catch (error) {\r\n        console.error('Error fetching user favorites:', error);\r\n        return [];\r\n    }\r\n}\r\n\r\n// Kullanƒ±cƒ±nƒ±n favori hikaye ID'lerini getir\r\nexport async function getUserFavoriteIds(userId: string): Promise<string[]> {\r\n    try {\r\n        const q = query(\r\n            favoritesCollection,\r\n            where('userId', '==', userId)\r\n        );\r\n        const querySnapshot = await getDocs(q);\r\n        return querySnapshot.docs.map(doc => doc.data().storyId);\r\n    } catch (error) {\r\n        console.error('Error fetching user favorite IDs:', error);\r\n        return [];\r\n    }\r\n}\r\n"],"names":[],"mappings":";;;;;;;;;;AAAA;AAAA;AAWA;AAEA;;;;AAEA,oCAAoC;AACpC,MAAM,sBAAsB,IAAA,+KAAU,EAAC,4IAAE,EAAE;AAUpC,eAAe,eAAe,MAAc,EAAE,OAAe;IAChE,IAAI;QACA,MAAM,aAAa,GAAG,OAAO,CAAC,EAAE,SAAS;QACzC,MAAM,cAAc,IAAA,wKAAG,EAAC,4IAAE,EAAE,aAAa;QACzC,MAAM,cAAc,MAAM,IAAA,2KAAM,EAAC;QAEjC,IAAI,YAAY,MAAM,IAAI;YACtB,qBAAqB;YACrB,MAAM,IAAA,8KAAS,EAAC;YAChB,OAAO,OAAO,0BAA0B;QAC5C,OAAO;YACH,kBAAkB;YAClB,MAAM,IAAA,2KAAM,EAAC,aAAa;gBACtB;gBACA;gBACA,WAAW,8KAAS,CAAC,GAAG;YAC5B;YACA,OAAO,MAAM,qBAAqB;QACtC;IACJ,EAAE,OAAO,OAAO;QACZ,QAAQ,KAAK,CAAC,4BAA4B;QAC1C,MAAM;IACV;AACJ;AAGO,eAAe,YAAY,MAAc,EAAE,OAAe;IAC7D,IAAI;QACA,MAAM,aAAa,GAAG,OAAO,CAAC,EAAE,SAAS;QACzC,MAAM,cAAc,IAAA,wKAAG,EAAC,4IAAE,EAAE,aAAa;QACzC,MAAM,cAAc,MAAM,IAAA,2KAAM,EAAC;QACjC,OAAO,YAAY,MAAM;IAC7B,EAAE,OAAO,OAAO;QACZ,QAAQ,KAAK,CAAC,4BAA4B;QAC1C,OAAO;IACX;AACJ;AAGO,eAAe,iBAAiB,MAAc;IACjD,IAAI;QACA,MAAM,IAAI,IAAA,0KAAK,EACX,qBACA,IAAA,0KAAK,EAAC,UAAU,MAAM;QAE1B,MAAM,gBAAgB,MAAM,IAAA,4KAAO,EAAC;QACpC,MAAM,mBAAmB,cAAc,IAAI,CAAC,GAAG,CAAC,CAAA,MAAO,IAAI,IAAI,GAAG,OAAO;QAEzE,IAAI,iBAAiB,MAAM,KAAK,GAAG;YAC/B,OAAO,EAAE;QACb;QAEA,8CAA8C;QAC9C,MAAM,aAAa,MAAM,IAAA,qIAAU;QACnC,MAAM,kBAAkB,WAAW,MAAM,CAAC,CAAA,QACtC,iBAAiB,QAAQ,CAAC,MAAM,EAAE;QAGtC,yDAAyD;QACzD,MAAM,eAAe,IAAI,IACrB,cAAc,IAAI,CAAC,GAAG,CAAC,CAAA,MAAO;gBAC1B,IAAI,IAAI,GAAG,OAAO;gBAClB,IAAI,IAAI,GAAG,SAAS,EAAE,YAAY,IAAI;aACzC;QAGL,OAAO,gBAAgB,IAAI,CAAC,CAAC,GAAG;YAC5B,MAAM,QAAQ,aAAa,GAAG,CAAC,EAAE,EAAE,KAAK,IAAI,KAAK;YACjD,MAAM,QAAQ,aAAa,GAAG,CAAC,EAAE,EAAE,KAAK,IAAI,KAAK;YACjD,OAAO,MAAM,OAAO,KAAK,MAAM,OAAO;QAC1C;IACJ,EAAE,OAAO,OAAO;QACZ,QAAQ,KAAK,CAAC,kCAAkC;QAChD,OAAO,EAAE;IACb;AACJ;AAGO,eAAe,mBAAmB,MAAc;IACnD,IAAI;QACA,MAAM,IAAI,IAAA,0KAAK,EACX,qBACA,IAAA,0KAAK,EAAC,UAAU,MAAM;QAE1B,MAAM,gBAAgB,MAAM,IAAA,4KAAO,EAAC;QACpC,OAAO,cAAc,IAAI,CAAC,GAAG,CAAC,CAAA,MAAO,IAAI,IAAI,GAAG,OAAO;IAC3D,EAAE,OAAO,OAAO;QACZ,QAAQ,KAAK,CAAC,qCAAqC;QACnD,OAAO,EAAE;IACb;AACJ"}},
    {"offset": {"line": 476, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/90538/Desktop/fabula/benim-hikaye-uygulamasi/src/app/components/FavoriteButton.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useState, useEffect } from 'react';\r\nimport { useAuth } from '@/contexts/AuthContext';\r\nimport { toggleFavorite, isFavorited } from '@/lib/favoriteService';\r\n\r\ninterface FavoriteButtonProps {\r\n    storyId: string;\r\n    size?: 'small' | 'medium' | 'large';\r\n}\r\n\r\nexport default function FavoriteButton({ storyId, size = 'medium' }: FavoriteButtonProps) {\r\n    const { user } = useAuth();\r\n    const [isFavorite, setIsFavorite] = useState(false);\r\n    const [isLoading, setIsLoading] = useState(false);\r\n    const [isChecking, setIsChecking] = useState(true);\r\n\r\n    // Kullanƒ±cƒ±nƒ±n favorilediƒüini kontrol et\r\n    useEffect(() => {\r\n        if (!user) {\r\n            setIsChecking(false);\r\n            return;\r\n        }\r\n\r\n        async function checkFavoriteStatus() {\r\n            try {\r\n                const favorited = await isFavorited(user.uid, storyId);\r\n                setIsFavorite(favorited);\r\n            } catch (error) {\r\n                console.error('Error checking favorite status:', error);\r\n            } finally {\r\n                setIsChecking(false);\r\n            }\r\n        }\r\n\r\n        checkFavoriteStatus();\r\n    }, [user, storyId]);\r\n\r\n    const handleFavorite = async (e: React.MouseEvent) => {\r\n        e.stopPropagation(); // Parent click'i engelle\r\n\r\n        if (!user || isLoading) return;\r\n\r\n        setIsLoading(true);\r\n\r\n        // Optimistic UI update\r\n        const newIsFavorite = !isFavorite;\r\n        setIsFavorite(newIsFavorite);\r\n\r\n        try {\r\n            const result = await toggleFavorite(user.uid, storyId);\r\n            setIsFavorite(result);\r\n        } catch (error) {\r\n            console.error('Error toggling favorite:', error);\r\n            // Hata durumunda geri al\r\n            setIsFavorite(!newIsFavorite);\r\n        } finally {\r\n            setIsLoading(false);\r\n        }\r\n    };\r\n\r\n    if (isChecking) {\r\n        return null;\r\n    }\r\n\r\n    const sizeClasses = {\r\n        small: 'favorite-button-small',\r\n        medium: 'favorite-button-medium',\r\n        large: 'favorite-button-large'\r\n    };\r\n\r\n    return (\r\n        <button\r\n            className={`favorite-button ${sizeClasses[size]} ${isFavorite ? 'favorited' : ''} ${!user ? 'disabled' : ''}`}\r\n            onClick={handleFavorite}\r\n            disabled={!user || isLoading}\r\n            title={user ? (isFavorite ? 'Favorilerden √ßƒ±kar' : 'Favorilere ekle') : 'Favori eklemek i√ßin giri≈ü yapƒ±n'}\r\n        >\r\n            <span className=\"favorite-icon\">\r\n                {isFavorite ? '‚≠ê' : '‚òÜ'}\r\n            </span>\r\n        </button>\r\n    );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAJA;;;;;AAWe,SAAS,eAAe,EAAE,OAAO,EAAE,OAAO,QAAQ,EAAuB;IACpF,MAAM,EAAE,IAAI,EAAE,GAAG,IAAA,0IAAO;IACxB,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,iNAAQ,EAAC;IAC7C,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,iNAAQ,EAAC;IAC3C,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,iNAAQ,EAAC;IAE7C,yCAAyC;IACzC,IAAA,kNAAS,EAAC;QACN,IAAI,CAAC,MAAM;YACP,cAAc;YACd;QACJ;QAEA,eAAe;YACX,IAAI;gBACA,MAAM,YAAY,MAAM,IAAA,4IAAW,EAAC,KAAK,GAAG,EAAE;gBAC9C,cAAc;YAClB,EAAE,OAAO,OAAO;gBACZ,QAAQ,KAAK,CAAC,mCAAmC;YACrD,SAAU;gBACN,cAAc;YAClB;QACJ;QAEA;IACJ,GAAG;QAAC;QAAM;KAAQ;IAElB,MAAM,iBAAiB,OAAO;QAC1B,EAAE,eAAe,IAAI,yBAAyB;QAE9C,IAAI,CAAC,QAAQ,WAAW;QAExB,aAAa;QAEb,uBAAuB;QACvB,MAAM,gBAAgB,CAAC;QACvB,cAAc;QAEd,IAAI;YACA,MAAM,SAAS,MAAM,IAAA,+IAAc,EAAC,KAAK,GAAG,EAAE;YAC9C,cAAc;QAClB,EAAE,OAAO,OAAO;YACZ,QAAQ,KAAK,CAAC,4BAA4B;YAC1C,yBAAyB;YACzB,cAAc,CAAC;QACnB,SAAU;YACN,aAAa;QACjB;IACJ;IAEA,IAAI,YAAY;QACZ,OAAO;IACX;IAEA,MAAM,cAAc;QAChB,OAAO;QACP,QAAQ;QACR,OAAO;IACX;IAEA,qBACI,8OAAC;QACG,WAAW,CAAC,gBAAgB,EAAE,WAAW,CAAC,KAAK,CAAC,CAAC,EAAE,aAAa,cAAc,GAAG,CAAC,EAAE,CAAC,OAAO,aAAa,IAAI;QAC7G,SAAS;QACT,UAAU,CAAC,QAAQ;QACnB,OAAO,OAAQ,aAAa,uBAAuB,oBAAqB;kBAExE,cAAA,8OAAC;YAAK,WAAU;sBACX,aAAa,MAAM;;;;;;;;;;;AAIpC"}},
    {"offset": {"line": 564, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/90538/Desktop/fabula/benim-hikaye-uygulamasi/src/app/components/StoryCard.tsx"],"sourcesContent":["'use client';\r\n\r\nimport Link from 'next/link';\r\nimport { useRouter } from 'next/navigation';\r\nimport { Story } from '@/interfaces/Story';\r\nimport LikeButton from './LikeButton';\r\nimport FavoriteButton from './FavoriteButton';\r\n\r\ninterface StoryCardProps {\r\n    story: Story;\r\n}\r\n\r\nexport default function StoryCard({ story }: StoryCardProps) {\r\n    const router = useRouter();\r\n\r\n    const formatDate = (date: Date) => {\r\n        return date.toLocaleDateString('tr-TR', {\r\n            year: 'numeric',\r\n            month: 'long',\r\n            day: 'numeric'\r\n        });\r\n    };\r\n\r\n    const formatNumber = (num: number) => {\r\n        if (num >= 1000) {\r\n            return `${(num / 1000).toFixed(1)}k`;\r\n        }\r\n        return num.toString();\r\n    };\r\n\r\n    const handleCardClick = (e: React.MouseEvent) => {\r\n        // LikeButton tƒ±klamalarƒ±nƒ± ignore et\r\n        if ((e.target as HTMLElement).closest('.like-button')) {\r\n            return;\r\n        }\r\n        router.push(`/story/${story.id}`);\r\n    };\r\n\r\n    return (\r\n        <div className=\"story-card\" onClick={handleCardClick}>\r\n            <div className=\"story-card-header\">\r\n                <span className=\"category-badge\">{story.category}</span>\r\n                <div className=\"header-actions\">\r\n                    <FavoriteButton storyId={story.id} size=\"small\" />\r\n                    <span className=\"story-date\">{formatDate(story.createdAt)}</span>\r\n                </div>\r\n            </div>\r\n\r\n            <h3 className=\"story-title\">{story.title}</h3>\r\n            <p className=\"story-excerpt\">{story.excerpt}</p>\r\n\r\n            <div className=\"story-footer\">\r\n                <div className=\"author-info\">\r\n                    <span className=\"author-avatar\">{story.author.avatar}</span>\r\n                    <span className=\"author-name\">{story.author.name}</span>\r\n                </div>\r\n\r\n                <div className=\"story-stats\">\r\n                    <span className=\"stat\">\r\n                        <span className=\"stat-icon\">üëÅÔ∏è</span>\r\n                        {formatNumber(story.stats.views)}\r\n                    </span>\r\n                    <span className=\"stat\">\r\n                        <span className=\"stat-icon\">üí¨</span>\r\n                        {formatNumber(story.stats.comments)}\r\n                    </span>\r\n                    <LikeButton\r\n                        targetId={story.id}\r\n                        targetType=\"story\"\r\n                        initialLikeCount={story.stats.likes}\r\n                        size=\"small\"\r\n                    />\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n"],"names":[],"mappings":";;;;;AAGA;AAEA;AACA;AANA;;;;;AAYe,SAAS,UAAU,EAAE,KAAK,EAAkB;IACvD,MAAM,SAAS,IAAA,+IAAS;IAExB,MAAM,aAAa,CAAC;QAChB,OAAO,KAAK,kBAAkB,CAAC,SAAS;YACpC,MAAM;YACN,OAAO;YACP,KAAK;QACT;IACJ;IAEA,MAAM,eAAe,CAAC;QAClB,IAAI,OAAO,MAAM;YACb,OAAO,GAAG,CAAC,MAAM,IAAI,EAAE,OAAO,CAAC,GAAG,CAAC,CAAC;QACxC;QACA,OAAO,IAAI,QAAQ;IACvB;IAEA,MAAM,kBAAkB,CAAC;QACrB,qCAAqC;QACrC,IAAI,AAAC,EAAE,MAAM,CAAiB,OAAO,CAAC,iBAAiB;YACnD;QACJ;QACA,OAAO,IAAI,CAAC,CAAC,OAAO,EAAE,MAAM,EAAE,EAAE;IACpC;IAEA,qBACI,8OAAC;QAAI,WAAU;QAAa,SAAS;;0BACjC,8OAAC;gBAAI,WAAU;;kCACX,8OAAC;wBAAK,WAAU;kCAAkB,MAAM,QAAQ;;;;;;kCAChD,8OAAC;wBAAI,WAAU;;0CACX,8OAAC,sJAAc;gCAAC,SAAS,MAAM,EAAE;gCAAE,MAAK;;;;;;0CACxC,8OAAC;gCAAK,WAAU;0CAAc,WAAW,MAAM,SAAS;;;;;;;;;;;;;;;;;;0BAIhE,8OAAC;gBAAG,WAAU;0BAAe,MAAM,KAAK;;;;;;0BACxC,8OAAC;gBAAE,WAAU;0BAAiB,MAAM,OAAO;;;;;;0BAE3C,8OAAC;gBAAI,WAAU;;kCACX,8OAAC;wBAAI,WAAU;;0CACX,8OAAC;gCAAK,WAAU;0CAAiB,MAAM,MAAM,CAAC,MAAM;;;;;;0CACpD,8OAAC;gCAAK,WAAU;0CAAe,MAAM,MAAM,CAAC,IAAI;;;;;;;;;;;;kCAGpD,8OAAC;wBAAI,WAAU;;0CACX,8OAAC;gCAAK,WAAU;;kDACZ,8OAAC;wCAAK,WAAU;kDAAY;;;;;;oCAC3B,aAAa,MAAM,KAAK,CAAC,KAAK;;;;;;;0CAEnC,8OAAC;gCAAK,WAAU;;kDACZ,8OAAC;wCAAK,WAAU;kDAAY;;;;;;oCAC3B,aAAa,MAAM,KAAK,CAAC,QAAQ;;;;;;;0CAEtC,8OAAC,kJAAU;gCACP,UAAU,MAAM,EAAE;gCAClB,YAAW;gCACX,kBAAkB,MAAM,KAAK,CAAC,KAAK;gCACnC,MAAK;;;;;;;;;;;;;;;;;;;;;;;;AAM7B"}},
    {"offset": {"line": 761, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/90538/Desktop/fabula/benim-hikaye-uygulamasi/src/app/components/SearchBar.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useState, useEffect } from 'react';\r\n\r\ninterface SearchBarProps {\r\n    onSearch: (query: string) => void;\r\n    placeholder?: string;\r\n}\r\n\r\nexport default function SearchBar({ onSearch, placeholder = 'Hikaye ara...' }: SearchBarProps) {\r\n    const [query, setQuery] = useState('');\r\n    const [debouncedQuery, setDebouncedQuery] = useState('');\r\n\r\n    // Debounce search\r\n    useEffect(() => {\r\n        const timer = setTimeout(() => {\r\n            setDebouncedQuery(query);\r\n        }, 300);\r\n\r\n        return () => clearTimeout(timer);\r\n    }, [query]);\r\n\r\n    // Trigger search when debounced query changes\r\n    useEffect(() => {\r\n        onSearch(debouncedQuery);\r\n    }, [debouncedQuery, onSearch]);\r\n\r\n    const handleClear = () => {\r\n        setQuery('');\r\n        setDebouncedQuery('');\r\n    };\r\n\r\n    return (\r\n        <div className=\"search-bar\">\r\n            <span className=\"search-icon\">üîç</span>\r\n            <input\r\n                type=\"text\"\r\n                className=\"search-input\"\r\n                placeholder={placeholder}\r\n                value={query}\r\n                onChange={(e) => setQuery(e.target.value)}\r\n            />\r\n            {query && (\r\n                <button className=\"search-clear\" onClick={handleClear} title=\"Temizle\">\r\n                    ‚úï\r\n                </button>\r\n            )}\r\n        </div>\r\n    );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AAFA;;;AASe,SAAS,UAAU,EAAE,QAAQ,EAAE,cAAc,eAAe,EAAkB;IACzF,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,iNAAQ,EAAC;IACnC,MAAM,CAAC,gBAAgB,kBAAkB,GAAG,IAAA,iNAAQ,EAAC;IAErD,kBAAkB;IAClB,IAAA,kNAAS,EAAC;QACN,MAAM,QAAQ,WAAW;YACrB,kBAAkB;QACtB,GAAG;QAEH,OAAO,IAAM,aAAa;IAC9B,GAAG;QAAC;KAAM;IAEV,8CAA8C;IAC9C,IAAA,kNAAS,EAAC;QACN,SAAS;IACb,GAAG;QAAC;QAAgB;KAAS;IAE7B,MAAM,cAAc;QAChB,SAAS;QACT,kBAAkB;IACtB;IAEA,qBACI,8OAAC;QAAI,WAAU;;0BACX,8OAAC;gBAAK,WAAU;0BAAc;;;;;;0BAC9B,8OAAC;gBACG,MAAK;gBACL,WAAU;gBACV,aAAa;gBACb,OAAO;gBACP,UAAU,CAAC,IAAM,SAAS,EAAE,MAAM,CAAC,KAAK;;;;;;YAE3C,uBACG,8OAAC;gBAAO,WAAU;gBAAe,SAAS;gBAAa,OAAM;0BAAU;;;;;;;;;;;;AAMvF"}},
    {"offset": {"line": 836, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/90538/Desktop/fabula/benim-hikaye-uygulamasi/src/app/components/FilterPanel.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { SortOption } from '@/lib/searchService';\r\n\r\ninterface FilterPanelProps {\r\n    categories: string[];\r\n    authors: Array<{ id: string; name: string }>;\r\n    selectedCategory?: string;\r\n    selectedAuthor?: string;\r\n    selectedSort: SortOption;\r\n    onCategoryChange: (category: string) => void;\r\n    onAuthorChange: (authorId: string) => void;\r\n    onSortChange: (sort: SortOption) => void;\r\n    onClearFilters: () => void;\r\n}\r\n\r\nexport default function FilterPanel({\r\n    categories,\r\n    authors,\r\n    selectedCategory,\r\n    selectedAuthor,\r\n    selectedSort,\r\n    onCategoryChange,\r\n    onAuthorChange,\r\n    onSortChange,\r\n    onClearFilters\r\n}: FilterPanelProps) {\r\n    const hasActiveFilters = selectedCategory || selectedAuthor || selectedSort !== 'newest';\r\n\r\n    return (\r\n        <div className=\"filter-panel\">\r\n            <div className=\"filter-group\">\r\n                <label className=\"filter-label\">Kategori</label>\r\n                <select\r\n                    className=\"filter-select\"\r\n                    value={selectedCategory || ''}\r\n                    onChange={(e) => onCategoryChange(e.target.value)}\r\n                >\r\n                    <option value=\"\">T√ºm Kategoriler</option>\r\n                    {categories.map(category => (\r\n                        <option key={category} value={category}>{category}</option>\r\n                    ))}\r\n                </select>\r\n            </div>\r\n\r\n            <div className=\"filter-group\">\r\n                <label className=\"filter-label\">Yazar</label>\r\n                <select\r\n                    className=\"filter-select\"\r\n                    value={selectedAuthor || ''}\r\n                    onChange={(e) => onAuthorChange(e.target.value)}\r\n                >\r\n                    <option value=\"\">T√ºm Yazarlar</option>\r\n                    {authors.map(author => (\r\n                        <option key={author.id} value={author.id}>{author.name}</option>\r\n                    ))}\r\n                </select>\r\n            </div>\r\n\r\n            <div className=\"filter-group\">\r\n                <label className=\"filter-label\">Sƒ±ralama</label>\r\n                <select\r\n                    className=\"filter-select\"\r\n                    value={selectedSort}\r\n                    onChange={(e) => onSortChange(e.target.value as SortOption)}\r\n                >\r\n                    <option value=\"newest\">En Yeni</option>\r\n                    <option value=\"popular\">En Pop√ºler</option>\r\n                    <option value=\"mostLiked\">En √áok Beƒüenilen</option>\r\n                    <option value=\"mostViewed\">En √áok G√∂r√ºnt√ºlenen</option>\r\n                </select>\r\n            </div>\r\n\r\n            {hasActiveFilters && (\r\n                <button className=\"clear-filters-button\" onClick={onClearFilters}>\r\n                    <span>üîÑ</span>\r\n                    Filtreleri Temizle\r\n                </button>\r\n            )}\r\n        </div>\r\n    );\r\n}\r\n"],"names":[],"mappings":";;;;;AAAA;;AAgBe,SAAS,YAAY,EAChC,UAAU,EACV,OAAO,EACP,gBAAgB,EAChB,cAAc,EACd,YAAY,EACZ,gBAAgB,EAChB,cAAc,EACd,YAAY,EACZ,cAAc,EACC;IACf,MAAM,mBAAmB,oBAAoB,kBAAkB,iBAAiB;IAEhF,qBACI,8OAAC;QAAI,WAAU;;0BACX,8OAAC;gBAAI,WAAU;;kCACX,8OAAC;wBAAM,WAAU;kCAAe;;;;;;kCAChC,8OAAC;wBACG,WAAU;wBACV,OAAO,oBAAoB;wBAC3B,UAAU,CAAC,IAAM,iBAAiB,EAAE,MAAM,CAAC,KAAK;;0CAEhD,8OAAC;gCAAO,OAAM;0CAAG;;;;;;4BAChB,WAAW,GAAG,CAAC,CAAA,yBACZ,8OAAC;oCAAsB,OAAO;8CAAW;mCAA5B;;;;;;;;;;;;;;;;;0BAKzB,8OAAC;gBAAI,WAAU;;kCACX,8OAAC;wBAAM,WAAU;kCAAe;;;;;;kCAChC,8OAAC;wBACG,WAAU;wBACV,OAAO,kBAAkB;wBACzB,UAAU,CAAC,IAAM,eAAe,EAAE,MAAM,CAAC,KAAK;;0CAE9C,8OAAC;gCAAO,OAAM;0CAAG;;;;;;4BAChB,QAAQ,GAAG,CAAC,CAAA,uBACT,8OAAC;oCAAuB,OAAO,OAAO,EAAE;8CAAG,OAAO,IAAI;mCAAzC,OAAO,EAAE;;;;;;;;;;;;;;;;;0BAKlC,8OAAC;gBAAI,WAAU;;kCACX,8OAAC;wBAAM,WAAU;kCAAe;;;;;;kCAChC,8OAAC;wBACG,WAAU;wBACV,OAAO;wBACP,UAAU,CAAC,IAAM,aAAa,EAAE,MAAM,CAAC,KAAK;;0CAE5C,8OAAC;gCAAO,OAAM;0CAAS;;;;;;0CACvB,8OAAC;gCAAO,OAAM;0CAAU;;;;;;0CACxB,8OAAC;gCAAO,OAAM;0CAAY;;;;;;0CAC1B,8OAAC;gCAAO,OAAM;0CAAa;;;;;;;;;;;;;;;;;;YAIlC,kCACG,8OAAC;gBAAO,WAAU;gBAAuB,SAAS;;kCAC9C,8OAAC;kCAAK;;;;;;oBAAS;;;;;;;;;;;;;AAMnC"}},
    {"offset": {"line": 1025, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/90538/Desktop/fabula/benim-hikaye-uygulamasi/src/lib/searchService.ts"],"sourcesContent":["import { Story } from '@/interfaces/Story';\r\n\r\nexport type SortOption = 'newest' | 'popular' | 'mostLiked' | 'mostViewed';\r\n\r\nexport interface SearchFilters {\r\n    query?: string;\r\n    category?: string;\r\n    authorId?: string;\r\n    startDate?: Date;\r\n    endDate?: Date;\r\n    sortBy?: SortOption;\r\n}\r\n\r\n// Hikayelerde arama yap\r\nexport function searchStories(stories: Story[], filters: SearchFilters): Story[] {\r\n    let filtered = [...stories];\r\n\r\n    // Metin aramasƒ± (ba≈ülƒ±k ve i√ßerikte)\r\n    if (filters.query && filters.query.trim()) {\r\n        const query = filters.query.toLowerCase();\r\n        filtered = filtered.filter(story =>\r\n            story.title.toLowerCase().includes(query) ||\r\n            story.content.toLowerCase().includes(query) ||\r\n            story.excerpt.toLowerCase().includes(query)\r\n        );\r\n    }\r\n\r\n    // Kategori filtresi\r\n    if (filters.category) {\r\n        filtered = filtered.filter(story => story.category === filters.category);\r\n    }\r\n\r\n    // Yazar filtresi\r\n    if (filters.authorId) {\r\n        filtered = filtered.filter(story => story.authorId === filters.authorId);\r\n    }\r\n\r\n    // Tarih aralƒ±ƒüƒ± filtresi\r\n    if (filters.startDate) {\r\n        filtered = filtered.filter(story => story.createdAt >= filters.startDate!);\r\n    }\r\n    if (filters.endDate) {\r\n        filtered = filtered.filter(story => story.createdAt <= filters.endDate!);\r\n    }\r\n\r\n    // Sƒ±ralama\r\n    if (filters.sortBy) {\r\n        filtered = sortStories(filtered, filters.sortBy);\r\n    }\r\n\r\n    return filtered;\r\n}\r\n\r\n// Hikayeleri sƒ±rala\r\nexport function sortStories(stories: Story[], sortBy: SortOption): Story[] {\r\n    const sorted = [...stories];\r\n\r\n    switch (sortBy) {\r\n        case 'newest':\r\n            return sorted.sort((a, b) => b.createdAt.getTime() - a.createdAt.getTime());\r\n        case 'popular':\r\n            // Pop√ºlerlik = g√∂r√ºnt√ºlenme + yorum + beƒüeni kombinasyonu\r\n            return sorted.sort((a, b) => {\r\n                const scoreA = a.stats.views + (a.stats.comments * 10) + (a.stats.likes * 5);\r\n                const scoreB = b.stats.views + (b.stats.comments * 10) + (b.stats.likes * 5);\r\n                return scoreB - scoreA;\r\n            });\r\n        case 'mostLiked':\r\n            return sorted.sort((a, b) => b.stats.likes - a.stats.likes);\r\n        case 'mostViewed':\r\n            return sorted.sort((a, b) => b.stats.views - a.stats.views);\r\n        default:\r\n            return sorted;\r\n    }\r\n}\r\n\r\n// T√ºm kategorileri getir\r\nexport function getAllCategories(stories: Story[]): string[] {\r\n    const categories = new Set(stories.map(story => story.category));\r\n    return Array.from(categories).sort();\r\n}\r\n\r\n// T√ºm yazarlarƒ± getir\r\nexport function getAllAuthors(stories: Story[]): Array<{ id: string; name: string }> {\r\n    const authorsMap = new Map<string, string>();\r\n\r\n    stories.forEach(story => {\r\n        if (story.authorId && !authorsMap.has(story.authorId)) {\r\n            authorsMap.set(story.authorId, story.author.name);\r\n        }\r\n    });\r\n\r\n    return Array.from(authorsMap.entries())\r\n        .map(([id, name]) => ({ id, name }))\r\n        .sort((a, b) => a.name.localeCompare(b.name));\r\n}\r\n"],"names":[],"mappings":";;;;;;;;;;AAcO,SAAS,cAAc,OAAgB,EAAE,OAAsB;IAClE,IAAI,WAAW;WAAI;KAAQ;IAE3B,qCAAqC;IACrC,IAAI,QAAQ,KAAK,IAAI,QAAQ,KAAK,CAAC,IAAI,IAAI;QACvC,MAAM,QAAQ,QAAQ,KAAK,CAAC,WAAW;QACvC,WAAW,SAAS,MAAM,CAAC,CAAA,QACvB,MAAM,KAAK,CAAC,WAAW,GAAG,QAAQ,CAAC,UACnC,MAAM,OAAO,CAAC,WAAW,GAAG,QAAQ,CAAC,UACrC,MAAM,OAAO,CAAC,WAAW,GAAG,QAAQ,CAAC;IAE7C;IAEA,oBAAoB;IACpB,IAAI,QAAQ,QAAQ,EAAE;QAClB,WAAW,SAAS,MAAM,CAAC,CAAA,QAAS,MAAM,QAAQ,KAAK,QAAQ,QAAQ;IAC3E;IAEA,iBAAiB;IACjB,IAAI,QAAQ,QAAQ,EAAE;QAClB,WAAW,SAAS,MAAM,CAAC,CAAA,QAAS,MAAM,QAAQ,KAAK,QAAQ,QAAQ;IAC3E;IAEA,yBAAyB;IACzB,IAAI,QAAQ,SAAS,EAAE;QACnB,WAAW,SAAS,MAAM,CAAC,CAAA,QAAS,MAAM,SAAS,IAAI,QAAQ,SAAS;IAC5E;IACA,IAAI,QAAQ,OAAO,EAAE;QACjB,WAAW,SAAS,MAAM,CAAC,CAAA,QAAS,MAAM,SAAS,IAAI,QAAQ,OAAO;IAC1E;IAEA,WAAW;IACX,IAAI,QAAQ,MAAM,EAAE;QAChB,WAAW,YAAY,UAAU,QAAQ,MAAM;IACnD;IAEA,OAAO;AACX;AAGO,SAAS,YAAY,OAAgB,EAAE,MAAkB;IAC5D,MAAM,SAAS;WAAI;KAAQ;IAE3B,OAAQ;QACJ,KAAK;YACD,OAAO,OAAO,IAAI,CAAC,CAAC,GAAG,IAAM,EAAE,SAAS,CAAC,OAAO,KAAK,EAAE,SAAS,CAAC,OAAO;QAC5E,KAAK;YACD,0DAA0D;YAC1D,OAAO,OAAO,IAAI,CAAC,CAAC,GAAG;gBACnB,MAAM,SAAS,EAAE,KAAK,CAAC,KAAK,GAAI,EAAE,KAAK,CAAC,QAAQ,GAAG,KAAO,EAAE,KAAK,CAAC,KAAK,GAAG;gBAC1E,MAAM,SAAS,EAAE,KAAK,CAAC,KAAK,GAAI,EAAE,KAAK,CAAC,QAAQ,GAAG,KAAO,EAAE,KAAK,CAAC,KAAK,GAAG;gBAC1E,OAAO,SAAS;YACpB;QACJ,KAAK;YACD,OAAO,OAAO,IAAI,CAAC,CAAC,GAAG,IAAM,EAAE,KAAK,CAAC,KAAK,GAAG,EAAE,KAAK,CAAC,KAAK;QAC9D,KAAK;YACD,OAAO,OAAO,IAAI,CAAC,CAAC,GAAG,IAAM,EAAE,KAAK,CAAC,KAAK,GAAG,EAAE,KAAK,CAAC,KAAK;QAC9D;YACI,OAAO;IACf;AACJ;AAGO,SAAS,iBAAiB,OAAgB;IAC7C,MAAM,aAAa,IAAI,IAAI,QAAQ,GAAG,CAAC,CAAA,QAAS,MAAM,QAAQ;IAC9D,OAAO,MAAM,IAAI,CAAC,YAAY,IAAI;AACtC;AAGO,SAAS,cAAc,OAAgB;IAC1C,MAAM,aAAa,IAAI;IAEvB,QAAQ,OAAO,CAAC,CAAA;QACZ,IAAI,MAAM,QAAQ,IAAI,CAAC,WAAW,GAAG,CAAC,MAAM,QAAQ,GAAG;YACnD,WAAW,GAAG,CAAC,MAAM,QAAQ,EAAE,MAAM,MAAM,CAAC,IAAI;QACpD;IACJ;IAEA,OAAO,MAAM,IAAI,CAAC,WAAW,OAAO,IAC/B,GAAG,CAAC,CAAC,CAAC,IAAI,KAAK,GAAK,CAAC;YAAE;YAAI;QAAK,CAAC,GACjC,IAAI,CAAC,CAAC,GAAG,IAAM,EAAE,IAAI,CAAC,aAAa,CAAC,EAAE,IAAI;AACnD"}},
    {"offset": {"line": 1107, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/90538/Desktop/fabula/benim-hikaye-uygulamasi/src/app/page.tsx"],"sourcesContent":["'use client';\n\nimport { useEffect, useState, useCallback } from 'react';\nimport StoryCard from './components/StoryCard';\nimport SearchBar from './components/SearchBar';\nimport FilterPanel from './components/FilterPanel';\nimport { Story } from '@/interfaces/Story';\nimport { getStories } from '@/lib/firestore';\nimport { searchStories, getAllCategories, getAllAuthors, SearchFilters, SortOption } from '@/lib/searchService';\n\nexport default function Home() {\n  const [allStories, setAllStories] = useState<Story[]>([]);\n  const [filteredStories, setFilteredStories] = useState<Story[]>([]);\n  const [loading, setLoading] = useState(true);\n\n  // Filter state\n  const [searchQuery, setSearchQuery] = useState('');\n  const [selectedCategory, setSelectedCategory] = useState('');\n  const [selectedAuthor, setSelectedAuthor] = useState('');\n  const [selectedSort, setSelectedSort] = useState<SortOption>('newest');\n\n  // Categories and authors for filters\n  const [categories, setCategories] = useState<string[]>([]);\n  const [authors, setAuthors] = useState<Array<{ id: string; name: string }>>([]);\n\n  useEffect(() => {\n    async function fetchStories() {\n      try {\n        const fetchedStories = await getStories();\n        setAllStories(fetchedStories);\n        setFilteredStories(fetchedStories);\n\n        // Extract categories and authors\n        setCategories(getAllCategories(fetchedStories));\n        setAuthors(getAllAuthors(fetchedStories));\n      } catch (error) {\n        console.error('Error loading stories:', error);\n      } finally {\n        setLoading(false);\n      }\n    }\n\n    fetchStories();\n  }, []);\n\n  // Apply filters whenever any filter changes\n  useEffect(() => {\n    const filters: SearchFilters = {\n      query: searchQuery,\n      category: selectedCategory || undefined,\n      authorId: selectedAuthor || undefined,\n      sortBy: selectedSort\n    };\n\n    const filtered = searchStories(allStories, filters);\n    setFilteredStories(filtered);\n  }, [searchQuery, selectedCategory, selectedAuthor, selectedSort, allStories]);\n\n  const handleSearch = useCallback((query: string) => {\n    setSearchQuery(query);\n  }, []);\n\n  const handleClearFilters = () => {\n    setSearchQuery('');\n    setSelectedCategory('');\n    setSelectedAuthor('');\n    setSelectedSort('newest');\n  };\n\n  return (\n    <div className=\"home-page\">\n      <div className=\"hero-section\">\n        <div className=\"hero-content\">\n          <h1 className=\"hero-title\">\n            <span className=\"gradient-text\">Fabula</span>\n          </h1>\n          <p className=\"hero-subtitle\">\n            Hikayelerin bulu≈üma noktasƒ±. Oku, yorum yap, payla≈ü.\n          </p>\n        </div>\n      </div>\n\n      <main className=\"main-content\">\n        <div className=\"search-filter-section\">\n          <SearchBar onSearch={handleSearch} />\n          <FilterPanel\n            categories={categories}\n            authors={authors}\n            selectedCategory={selectedCategory}\n            selectedAuthor={selectedAuthor}\n            selectedSort={selectedSort}\n            onCategoryChange={setSelectedCategory}\n            onAuthorChange={setSelectedAuthor}\n            onSortChange={setSelectedSort}\n            onClearFilters={handleClearFilters}\n          />\n        </div>\n\n        <div className=\"stories-header\">\n          <h2>\n            {searchQuery ? `\"${searchQuery}\" i√ßin sonu√ßlar` : '‚ú® Hikayeler'}\n          </h2>\n          <p>\n            {filteredStories.length} hikaye bulundu\n          </p>\n        </div>\n\n        {loading ? (\n          <div className=\"loading-state\">\n            <div className=\"spinner\"></div>\n            <p>Hikayeler y√ºkleniyor...</p>\n          </div>\n        ) : filteredStories.length === 0 ? (\n          <div className=\"empty-state\">\n            <span className=\"empty-icon\">üîç</span>\n            <p>Aradƒ±ƒüƒ±nƒ±z kriterlere uygun hikaye bulunamadƒ±.</p>\n            {(searchQuery || selectedCategory || selectedAuthor) && (\n              <button className=\"browse-button\" onClick={handleClearFilters}>\n                T√ºm Hikayeleri G√∂ster\n              </button>\n            )}\n          </div>\n        ) : (\n          <div className=\"stories-grid\">\n            {filteredStories.map((story) => (\n              <StoryCard key={story.id} story={story} />\n            ))}\n          </div>\n        )}\n      </main>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}}]
}