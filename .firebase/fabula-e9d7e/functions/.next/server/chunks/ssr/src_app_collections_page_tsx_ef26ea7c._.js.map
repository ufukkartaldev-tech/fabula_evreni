{"version":3,"sources":["../../../../src/app/collections/page.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useEffect, useState } from 'react';\r\nimport { useAuth } from '@/contexts/AuthContext';\r\nimport { Collection } from '@/interfaces/Collection';\r\nimport Link from 'next/link';\r\n\r\nexport default function CollectionsPage() {\r\n    const { user } = useAuth();\r\n    const [collections, setCollections] = useState<Collection[]>([]);\r\n    const [loading, setLoading] = useState(true);\r\n\r\n    useEffect(() => {\r\n        if (!user) return;\r\n        fetchCollections();\r\n    }, [user]);\r\n\r\n    const fetchCollections = async () => {\r\n        if (!user) return;\r\n        try {\r\n            const response = await fetch(`/api/collections?userId=${user.uid}`);\r\n            const data = await response.json();\r\n            if (data.collections) {\r\n                setCollections(data.collections);\r\n            }\r\n        } catch (error) {\r\n            console.error('Error fetching collections:', error);\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    if (!user) {\r\n        return (\r\n            <div className=\"p-8 text-center\">\r\n                <p>Okuma listelerinizi g√∂rmek i√ßin giri≈ü yapmalƒ±sƒ±nƒ±z.</p>\r\n                <Link href=\"/login\" className=\"text-indigo-600 hover:underline\">Giri≈ü Yap</Link>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    if (loading) {\r\n        return <div className=\"p-8 text-center\">Y√ºkleniyor...</div>;\r\n    }\r\n\r\n    return (\r\n        <div className=\"collections-page max-w-4xl mx-auto p-6\">\r\n            <div className=\"flex justify-between items-center mb-8\">\r\n                <h1 className=\"text-3xl font-bold text-gray-800 dark:text-white\">Okuma Listelerim</h1>\r\n                {/* Create button could go here, but we handle creation via AddToCollectionButton mostly. \r\n                    Maybe add a standalone create button later. */}\r\n            </div>\r\n\r\n            <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\r\n                {collections.map((collection) => (\r\n                    <Link href={`/collections/${collection.id}`} key={collection.id} className=\"block group\">\r\n                        <div className=\"bg-white dark:bg-gray-800 rounded-xl shadow-sm overflow-hidden hover:shadow-md transition-shadow border border-gray-100 dark:border-gray-700 h-full flex flex-col\">\r\n                            <div className=\"h-32 bg-gradient-to-r from-indigo-500 to-purple-600 flex items-center justify-center text-white text-4xl\">\r\n                                üìö\r\n                            </div>\r\n                            <div className=\"p-4 flex-1\">\r\n                                <h3 className=\"text-xl font-bold text-gray-800 dark:text-white mb-2 group-hover:text-indigo-600 transition-colors\">\r\n                                    {collection.name}\r\n                                </h3>\r\n                                <p className=\"text-gray-500 dark:text-gray-400 text-sm mb-4 line-clamp-2\">\r\n                                    {collection.description || 'A√ßƒ±klama yok.'}\r\n                                </p>\r\n                                <div className=\"flex justify-between items-center text-xs text-gray-400\">\r\n                                    <span>{collection.storyIds?.length || 0} Hikaye</span>\r\n                                    <span>{collection.isPublic ? 'üåê Herkese A√ßƒ±k' : 'üîí Gizli'}</span>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </Link>\r\n                ))}\r\n\r\n                {collections.length === 0 && (\r\n                    <div className=\"col-span-full text-center py-12 bg-gray-50 dark:bg-gray-800/50 rounded-xl border border-dashed border-gray-300 dark:border-gray-700\">\r\n                        <span className=\"text-4xl block mb-4\">üìÇ</span>\r\n                        <h3 className=\"text-lg font-medium text-gray-900 dark:text-white mb-2\">Hen√ºz listeniz yok</h3>\r\n                        <p className=\"text-gray-500 dark:text-gray-400\">\r\n                            Hikayeleri okurken \"Listeye Ekle\" butonunu kullanarak yeni listeler olu≈üturabilirsiniz.\r\n                        </p>\r\n                    </div>\r\n                )}\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n"],"names":[],"mappings":"wDAEA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OAEA,EAAA,EAAA,CAAA,CAAA,OAEe,SAAS,IACpB,GAAM,MAAE,CAAI,CAAE,CAAG,CAAA,EAAA,EAAA,OAAA,AAAO,IAClB,CAAC,EAAa,EAAe,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAe,EAAE,EACzD,CAAC,EAAS,EAAW,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,GAAC,GAEvC,CAAA,EAAA,EAAA,SAAA,AAAS,EAAC,KACD,GACL,GADW,AAEf,EAAG,CAAC,EAAK,EAET,IAAM,EAAmB,UACrB,GAAK,CAAD,CACJ,GAAI,CADO,AAEP,IAAM,EAAW,MAAM,MAAM,CAAC,wBAAwB,EAAE,EAAK,GAAG,CAAA,CAAE,EAC5D,EAAO,MAAM,EAAS,IAAI,GAC5B,EAAK,WAAW,EAAE,AAClB,EAAe,EAAK,WAAW,CAEvC,CAAE,MAAO,EAAO,CACZ,QAAQ,KAAK,CAAC,8BAA+B,EACjD,QAAU,CACN,GAAW,EACf,CACJ,SAEA,AAAK,EASD,EACO,AAVP,CAUO,CAVA,CAUA,EAAA,EADE,CACF,EAAC,MAAA,CAAI,UAAU,2BAAkB,kBAIxC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,mDACX,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,kDACX,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,4DAAmD,uBAKrE,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,iEACV,EAAY,GAAG,CAAC,AAAC,GACd,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,OAAI,CAAA,CAAC,KAAM,CAAC,aAAa,EAAE,EAAW,EAAE,CAAA,CAAE,CAAsB,UAAU,uBACvE,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,8KACX,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,oHAA2G,OAG1H,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,uBACX,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,8GACT,EAAW,IAAI,GAEpB,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,sEACR,EAAW,WAAW,EAAI,kBAE/B,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,oEACX,CAAA,EAAA,EAAA,IAAA,EAAC,OAAA,WAAM,EAAW,QAAQ,EAAE,QAAU,EAAE,aACxC,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,UAAM,EAAW,QAAQ,CAAG,kBAAoB,uBAdf,EAAW,EAAE,GAqB3C,IAAvB,EAAY,MAAM,EACf,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,gJACX,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,+BAAsB,OACtC,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,kEAAyD,uBACvE,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,4CAAmC,qGA9C5D,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,4BACX,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,UAAE,wDACH,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,OAAI,CAAA,CAAC,KAAK,SAAS,UAAU,2CAAkC,gBAoDhF"}