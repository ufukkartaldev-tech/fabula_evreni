module.exports=[91245,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(11642),e=a.i(38246);function f(){let{user:a}=(0,d.useAuth)(),[f,g]=(0,c.useState)([]),[h,i]=(0,c.useState)(!0),[j,k]=(0,c.useState)(null);(0,c.useEffect)(()=>{l()},[a]);let l=async()=>{if(a)try{let b=await a.getIdToken(),c=await fetch("/api/admin/reports",{headers:{Authorization:`Bearer ${b}`}}),d=await c.json();d.reports&&g(d.reports)}catch(a){console.error("Error fetching reports:",a)}finally{i(!1)}},m=async(b,c)=>{if(a){k(b);try{let d=await a.getIdToken();(await fetch(`/api/admin/reports/${b}`,{method:"POST",headers:{Authorization:`Bearer ${d}`,"Content-Type":"application/json"},body:JSON.stringify({status:c})})).ok?g(f.map(a=>a.id===b?{...a,status:c}:a)):alert("GÃ¼ncelleme baÅŸarÄ±sÄ±z oldu.")}catch(a){console.error("Error updating report:",a),alert("Bir hata oluÅŸtu.")}finally{k(null)}}};return h?(0,b.jsx)("div",{className:"p-8 text-center",children:"YÃ¼kleniyor..."}):(0,b.jsxs)("div",{className:"admin-reports-page",children:[(0,b.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,b.jsx)("h1",{className:"text-2xl font-bold text-gray-800 dark:text-white",children:"Rapor YÃ¶netimi"}),(0,b.jsx)("button",{onClick:l,className:"px-4 py-2 bg-gray-100 dark:bg-gray-700 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors",children:"ðŸ”„ Yenile"})]}),(0,b.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm overflow-hidden",children:[(0,b.jsx)("div",{className:"overflow-x-auto",children:(0,b.jsxs)("table",{className:"w-full text-left",children:[(0,b.jsx)("thead",{className:"bg-gray-50 dark:bg-gray-700/50",children:(0,b.jsxs)("tr",{children:[(0,b.jsx)("th",{className:"p-4 font-medium text-gray-500 dark:text-gray-400",children:"Durum"}),(0,b.jsx)("th",{className:"p-4 font-medium text-gray-500 dark:text-gray-400",children:"Sebep"}),(0,b.jsx)("th",{className:"p-4 font-medium text-gray-500 dark:text-gray-400",children:"Hedef"}),(0,b.jsx)("th",{className:"p-4 font-medium text-gray-500 dark:text-gray-400",children:"Raporlayan"}),(0,b.jsx)("th",{className:"p-4 font-medium text-gray-500 dark:text-gray-400",children:"Tarih"}),(0,b.jsx)("th",{className:"p-4 font-medium text-gray-500 dark:text-gray-400 text-right",children:"Ä°ÅŸlemler"})]})}),(0,b.jsx)("tbody",{className:"divide-y divide-gray-100 dark:divide-gray-700",children:f.map(a=>(0,b.jsxs)("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700/30 transition-colors",children:[(0,b.jsx)("td",{className:"p-4",children:(a=>{switch(a){case"pending":return(0,b.jsx)("span",{className:"px-2 py-1 bg-yellow-100 text-yellow-800 rounded-full text-xs font-medium",children:"Bekliyor"});case"resolved":return(0,b.jsx)("span",{className:"px-2 py-1 bg-green-100 text-green-800 rounded-full text-xs font-medium",children:"Ã‡Ã¶zÃ¼ldÃ¼"});case"dismissed":return(0,b.jsx)("span",{className:"px-2 py-1 bg-gray-100 text-gray-800 rounded-full text-xs font-medium",children:"Reddedildi"})}})(a.status)}),(0,b.jsxs)("td",{className:"p-4",children:[(0,b.jsx)("div",{className:"font-medium",children:a.reason}),(0,b.jsx)("div",{className:"text-sm text-gray-500 truncate max-w-xs",title:a.description,children:a.description})]}),(0,b.jsxs)("td",{className:"p-4",children:[(0,b.jsxs)("div",{className:"text-sm",children:[(0,b.jsx)("span",{className:"font-bold uppercase text-xs text-gray-400 mr-2",children:a.targetType}),"story"===a.targetType&&(0,b.jsx)(e.default,{href:`/story/${a.targetId}`,target:"_blank",className:"text-indigo-600 hover:underline",children:"GÃ¶rÃ¼ntÃ¼le"})]}),(0,b.jsxs)("div",{className:"text-sm text-gray-500 italic truncate max-w-xs",children:['"',a.targetContent,'"']})]}),(0,b.jsx)("td",{className:"p-4 text-sm",children:a.reporterName}),(0,b.jsx)("td",{className:"p-4 text-sm text-gray-500",children:new Date(a.createdAt).toLocaleDateString("tr-TR")}),(0,b.jsx)("td",{className:"p-4 text-right",children:(0,b.jsx)("div",{className:"flex justify-end gap-2",children:"pending"===a.status&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("button",{onClick:()=>m(a.id,"resolved"),disabled:j===a.id,className:"text-green-600 hover:bg-green-50 px-2 py-1 rounded text-sm disabled:opacity-50",children:"âœ… Ã‡Ã¶z"}),(0,b.jsx)("button",{onClick:()=>m(a.id,"dismissed"),disabled:j===a.id,className:"text-gray-600 hover:bg-gray-100 px-2 py-1 rounded text-sm disabled:opacity-50",children:"âŒ Reddet"})]})})})]},a.id))})]})}),0===f.length&&(0,b.jsx)("div",{className:"p-8 text-center text-gray-500",children:"Harika! Bekleyen rapor yok. ðŸŽ‰"})]})]})}a.s(["default",()=>f])}];

//# sourceMappingURL=src_app_admin_reports_page_tsx_24776585._.js.map