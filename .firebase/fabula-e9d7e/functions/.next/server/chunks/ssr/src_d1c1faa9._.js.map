{"version":3,"sources":["../../../../src/app/components/LikeButton.tsx","../../../../src/lib/likeService.ts","../../../../src/lib/favoriteService.ts","../../../../src/app/components/StoryCard.tsx","../../../../src/app/components/FavoriteButton.tsx","../../../../src/lib/readingTime.ts","../../../../src/app/collections/%5Bid%5D/page.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useState, useEffect } from 'react';\r\nimport { useAuth } from '@/contexts/AuthContext';\r\nimport { toggleStoryLike, toggleCommentLike, isStoryLiked, isCommentLiked } from '@/lib/likeService';\r\nimport { createNotification } from '@/lib/notificationService';\r\n\r\ninterface LikeButtonProps {\r\n    targetId: string;\r\n    targetType: 'story' | 'comment';\r\n    initialLikeCount: number;\r\n    size?: 'small' | 'medium' | 'large';\r\n    storyAuthorId?: string; // Bildirim i√ßin gerekli\r\n    storyTitle?: string;    // Bildirim i√ßin gerekli\r\n}\r\n\r\nexport default function LikeButton({\r\n    targetId,\r\n    targetType,\r\n    initialLikeCount,\r\n    size = 'medium',\r\n    storyAuthorId,\r\n    storyTitle\r\n}: LikeButtonProps) {\r\n    const { user } = useAuth();\r\n    const [isLiked, setIsLiked] = useState(false);\r\n    const [likeCount, setLikeCount] = useState(initialLikeCount);\r\n    const [isLoading, setIsLoading] = useState(false);\r\n    const [isChecking, setIsChecking] = useState(true);\r\n\r\n    // ... (useEffect aynƒ± kalacak)\r\n\r\n    const handleLike = async () => {\r\n        if (!user || isLoading) return;\r\n\r\n        setIsLoading(true);\r\n\r\n        // Optimistic UI update\r\n        const newIsLiked = !isLiked;\r\n        const newLikeCount = newIsLiked ? likeCount + 1 : likeCount - 1;\r\n        setIsLiked(newIsLiked);\r\n        setLikeCount(newLikeCount);\r\n\r\n        try {\r\n            const result = targetType === 'story'\r\n                ? await toggleStoryLike(user.uid, targetId)\r\n                : await toggleCommentLike(user.uid, targetId);\r\n\r\n            // Sunucudan gelen sonu√ßla g√ºncelle\r\n            setIsLiked(result);\r\n\r\n            // Bildirim g√∂nder (Sadece beƒüeni eklendiyse ve hikaye ise)\r\n            if (result && targetType === 'story' && storyAuthorId && storyTitle && storyAuthorId !== user.uid) {\r\n                try {\r\n                    await createNotification({\r\n                        userId: storyAuthorId,\r\n                        type: 'like',\r\n                        actorId: user.uid,\r\n                        actorName: user.displayName || 'Kullanƒ±cƒ±',\r\n                        actorAvatar: user.photoURL || 'üë§',\r\n                        storyId: targetId,\r\n                        storyTitle: storyTitle,\r\n                        message: 'hikayenizi beƒüendi'\r\n                    });\r\n                } catch (notifError) {\r\n                    console.error('Error creating notification:', notifError);\r\n                }\r\n            }\r\n        } catch (error) {\r\n            console.error('Error toggling like:', error);\r\n            // Hata durumunda geri al\r\n            setIsLiked(!newIsLiked);\r\n            setLikeCount(likeCount);\r\n        } finally {\r\n            setIsLoading(false);\r\n        }\r\n    };\r\n\r\n    if (isChecking) {\r\n        return null; // veya skeleton loader\r\n    }\r\n\r\n    const sizeClasses = {\r\n        small: 'like-button-small',\r\n        medium: 'like-button-medium',\r\n        large: 'like-button-large'\r\n    };\r\n\r\n    return (\r\n        <button\r\n            className={`like-button ${sizeClasses[size]} ${isLiked ? 'liked' : ''} ${!user ? 'disabled' : ''}`}\r\n            onClick={handleLike}\r\n            disabled={!user || isLoading}\r\n            title={user ? (isLiked ? 'Beƒüeniyi kaldƒ±r' : 'Beƒüen') : 'Beƒüenmek i√ßin giri≈ü yapƒ±n'}\r\n        >\r\n            <span className=\"like-icon\">\r\n                {isLiked ? '‚ù§Ô∏è' : 'ü§ç'}\r\n            </span>\r\n            <span className=\"like-count\">{likeCount}</span>\r\n        </button>\r\n    );\r\n}\r\n","import {\r\n    collection,\r\n    doc,\r\n    getDoc,\r\n    setDoc,\r\n    deleteDoc,\r\n    getDocs,\r\n    query,\r\n    where,\r\n    runTransaction,\r\n    increment,\r\n    Timestamp\r\n} from 'firebase/firestore';\r\nimport { db } from './firebase';\r\n\r\n// Firestore koleksiyon referanslarƒ±\r\nconst likesCollection = collection(db, 'likes');\r\n\r\nexport interface Like {\r\n    id: string;\r\n    userId: string;\r\n    targetId: string; // storyId veya commentId\r\n    targetType: 'story' | 'comment';\r\n    createdAt: Date;\r\n}\r\n\r\n// Hikaye beƒüenme/beƒüenmeme toggle\r\nexport async function toggleStoryLike(userId: string, storyId: string): Promise<boolean> {\r\n    try {\r\n        const likeId = `${userId}_story_${storyId}`;\r\n        const likeRef = doc(db, 'likes', likeId);\r\n        const storyRef = doc(db, 'stories', storyId);\r\n\r\n        return await runTransaction(db, async (transaction) => {\r\n            const likeDoc = await transaction.get(likeRef);\r\n            const storyDoc = await transaction.get(storyRef);\r\n\r\n            if (!storyDoc.exists()) {\r\n                throw new Error('Story does not exist!');\r\n            }\r\n\r\n            if (likeDoc.exists()) {\r\n                // Beƒüeniyi kaldƒ±r\r\n                transaction.delete(likeRef);\r\n                transaction.update(storyRef, {\r\n                    'stats.likes': increment(-1)\r\n                });\r\n                return false; // Beƒüeni kaldƒ±rƒ±ldƒ±\r\n            } else {\r\n                // Beƒüeni ekle\r\n                transaction.set(likeRef, {\r\n                    userId,\r\n                    targetId: storyId,\r\n                    targetType: 'story',\r\n                    createdAt: Timestamp.now()\r\n                });\r\n                transaction.update(storyRef, {\r\n                    'stats.likes': increment(1)\r\n                });\r\n                return true; // Beƒüenildi\r\n            }\r\n        });\r\n    } catch (error) {\r\n        console.error('Error toggling story like:', error);\r\n        throw error;\r\n    }\r\n}\r\n\r\n// Yorum beƒüenme/beƒüenmeme toggle\r\nexport async function toggleCommentLike(userId: string, commentId: string): Promise<boolean> {\r\n    try {\r\n        const likeId = `${userId}_comment_${commentId}`;\r\n        const likeRef = doc(db, 'likes', likeId);\r\n        const commentRef = doc(db, 'comments', commentId);\r\n\r\n        return await runTransaction(db, async (transaction) => {\r\n            const likeDoc = await transaction.get(likeRef);\r\n            const commentDoc = await transaction.get(commentRef);\r\n\r\n            if (!commentDoc.exists()) {\r\n                throw new Error('Comment does not exist!');\r\n            }\r\n\r\n            if (likeDoc.exists()) {\r\n                // Beƒüeniyi kaldƒ±r\r\n                transaction.delete(likeRef);\r\n                transaction.update(commentRef, {\r\n                    likes: increment(-1)\r\n                });\r\n                return false;\r\n            } else {\r\n                // Beƒüeni ekle\r\n                transaction.set(likeRef, {\r\n                    userId,\r\n                    targetId: commentId,\r\n                    targetType: 'comment',\r\n                    createdAt: Timestamp.now()\r\n                });\r\n                transaction.update(commentRef, {\r\n                    likes: increment(1)\r\n                });\r\n                return true;\r\n            }\r\n        });\r\n    } catch (error) {\r\n        console.error('Error toggling comment like:', error);\r\n        throw error;\r\n    }\r\n}\r\n\r\n// Kullanƒ±cƒ±nƒ±n bir hikayeyi beƒüenip beƒüenmediƒüini kontrol et\r\nexport async function isStoryLiked(userId: string, storyId: string): Promise<boolean> {\r\n    try {\r\n        const likeId = `${userId}_story_${storyId}`;\r\n        const likeRef = doc(db, 'likes', likeId);\r\n        const likeDoc = await getDoc(likeRef);\r\n        return likeDoc.exists();\r\n    } catch (error) {\r\n        console.error('Error checking story like:', error);\r\n        return false;\r\n    }\r\n}\r\n\r\n// Kullanƒ±cƒ±nƒ±n bir yorumu beƒüenip beƒüenmediƒüini kontrol et\r\nexport async function isCommentLiked(userId: string, commentId: string): Promise<boolean> {\r\n    try {\r\n        const likeId = `${userId}_comment_${commentId}`;\r\n        const likeRef = doc(db, 'likes', likeId);\r\n        const likeDoc = await getDoc(likeRef);\r\n        return likeDoc.exists();\r\n    } catch (error) {\r\n        console.error('Error checking comment like:', error);\r\n        return false;\r\n    }\r\n}\r\n\r\n// Kullanƒ±cƒ±nƒ±n beƒüendiƒüi hikayeleri getir\r\nexport async function getUserLikedStories(userId: string): Promise<string[]> {\r\n    try {\r\n        const q = query(\r\n            likesCollection,\r\n            where('userId', '==', userId),\r\n            where('targetType', '==', 'story')\r\n        );\r\n        const querySnapshot = await getDocs(q);\r\n        return querySnapshot.docs.map(doc => doc.data().targetId);\r\n    } catch (error) {\r\n        console.error('Error fetching user liked stories:', error);\r\n        return [];\r\n    }\r\n}\r\n\r\n// Kullanƒ±cƒ±nƒ±n beƒüendiƒüi yorumlarƒ± getir\r\nexport async function getUserLikedComments(userId: string): Promise<string[]> {\r\n    try {\r\n        const q = query(\r\n            likesCollection,\r\n            where('userId', '==', userId),\r\n            where('targetType', '==', 'comment')\r\n        );\r\n        const querySnapshot = await getDocs(q);\r\n        return querySnapshot.docs.map(doc => doc.data().targetId);\r\n    } catch (error) {\r\n        console.error('Error fetching user liked comments:', error);\r\n        return [];\r\n    }\r\n}\r\n","import {\r\n    collection,\r\n    doc,\r\n    getDoc,\r\n    setDoc,\r\n    deleteDoc,\r\n    getDocs,\r\n    query,\r\n    where,\r\n    Timestamp\r\n} from 'firebase/firestore';\r\nimport { db } from './firebase';\r\nimport { Story } from '@/interfaces/Story';\r\nimport { getStories } from './firestore';\r\n\r\n// Firestore koleksiyon referanslarƒ±\r\nconst favoritesCollection = collection(db, 'favorites');\r\n\r\nexport interface Favorite {\r\n    id: string;\r\n    userId: string;\r\n    storyId: string;\r\n    createdAt: Date;\r\n}\r\n\r\n// Favorilere ekleme/√ßƒ±karma toggle\r\nexport async function toggleFavorite(userId: string, storyId: string): Promise<boolean> {\r\n    try {\r\n        const favoriteId = `${userId}_${storyId}`;\r\n        const favoriteRef = doc(db, 'favorites', favoriteId);\r\n        const favoriteDoc = await getDoc(favoriteRef);\r\n\r\n        if (favoriteDoc.exists()) {\r\n            // Favorilerden √ßƒ±kar\r\n            await deleteDoc(favoriteRef);\r\n            return false; // Favorilerden kaldƒ±rƒ±ldƒ±\r\n        } else {\r\n            // Favorilere ekle\r\n            await setDoc(favoriteRef, {\r\n                userId,\r\n                storyId,\r\n                createdAt: Timestamp.now()\r\n            });\r\n            return true; // Favorilere eklendi\r\n        }\r\n    } catch (error) {\r\n        console.error('Error toggling favorite:', error);\r\n        throw error;\r\n    }\r\n}\r\n\r\n// Kullanƒ±cƒ±nƒ±n bir hikayeyi favorilere ekleyip eklemediƒüini kontrol et\r\nexport async function isFavorited(userId: string, storyId: string): Promise<boolean> {\r\n    try {\r\n        const favoriteId = `${userId}_${storyId}`;\r\n        const favoriteRef = doc(db, 'favorites', favoriteId);\r\n        const favoriteDoc = await getDoc(favoriteRef);\r\n        return favoriteDoc.exists();\r\n    } catch (error) {\r\n        console.error('Error checking favorite:', error);\r\n        return false;\r\n    }\r\n}\r\n\r\n// Kullanƒ±cƒ±nƒ±n favori hikayelerini getir\r\nexport async function getUserFavorites(userId: string): Promise<Story[]> {\r\n    try {\r\n        const q = query(\r\n            favoritesCollection,\r\n            where('userId', '==', userId)\r\n        );\r\n        const querySnapshot = await getDocs(q);\r\n        const favoriteStoryIds = querySnapshot.docs.map(doc => doc.data().storyId);\r\n\r\n        if (favoriteStoryIds.length === 0) {\r\n            return [];\r\n        }\r\n\r\n        // T√ºm hikayeleri getir ve favorileri filtrele\r\n        const allStories = await getStories();\r\n        const favoriteStories = allStories.filter(story =>\r\n            favoriteStoryIds.includes(story.id)\r\n        );\r\n\r\n        // Favorilere eklenme tarihine g√∂re sƒ±rala (en yeni √∂nce)\r\n        const favoritesMap = new Map(\r\n            querySnapshot.docs.map(doc => [\r\n                doc.data().storyId,\r\n                doc.data().createdAt?.toDate() || new Date()\r\n            ])\r\n        );\r\n\r\n        return favoriteStories.sort((a, b) => {\r\n            const dateA = favoritesMap.get(a.id) || new Date(0);\r\n            const dateB = favoritesMap.get(b.id) || new Date(0);\r\n            return dateB.getTime() - dateA.getTime();\r\n        });\r\n    } catch (error) {\r\n        console.error('Error fetching user favorites:', error);\r\n        return [];\r\n    }\r\n}\r\n\r\n// Kullanƒ±cƒ±nƒ±n favori hikaye ID'lerini getir\r\nexport async function getUserFavoriteIds(userId: string): Promise<string[]> {\r\n    try {\r\n        const q = query(\r\n            favoritesCollection,\r\n            where('userId', '==', userId)\r\n        );\r\n        const querySnapshot = await getDocs(q);\r\n        return querySnapshot.docs.map(doc => doc.data().storyId);\r\n    } catch (error) {\r\n        console.error('Error fetching user favorite IDs:', error);\r\n        return [];\r\n    }\r\n}\r\n","'use client';\r\n\r\nimport Link from 'next/link';\r\nimport { useRouter } from 'next/navigation';\r\nimport { Story } from '@/interfaces/Story';\r\nimport LikeButton from './LikeButton';\r\nimport FavoriteButton from './FavoriteButton';\r\nimport ReportButton from './ReportButton';\r\nimport AddToCollectionButton from './AddToCollectionButton';\r\nimport { formatReadingTimeWithEmoji } from '@/lib/readingTime';\r\n\r\ninterface StoryCardProps {\r\n    story: Story;\r\n}\r\n\r\nexport default function StoryCard({ story }: StoryCardProps) {\r\n    const router = useRouter();\r\n    const readingTime = formatReadingTimeWithEmoji(story.content);\r\n\r\n    const formatDate = (date: Date) => {\r\n        return date.toLocaleDateString('tr-TR', {\r\n            year: 'numeric',\r\n            month: 'long',\r\n            day: 'numeric'\r\n        });\r\n    };\r\n\r\n    const formatNumber = (num: number) => {\r\n        if (num >= 1000) {\r\n            return `${(num / 1000).toFixed(1)}k`;\r\n        }\r\n        return num.toString();\r\n    };\r\n\r\n    const handleCardClick = (e: React.MouseEvent) => {\r\n        // LikeButton tƒ±klamalarƒ±nƒ± ignore et\r\n        if ((e.target as HTMLElement).closest('.like-button') || (e.target as HTMLElement).closest('button')) {\r\n            return;\r\n        }\r\n        router.push(`/story/${story.id}`);\r\n    };\r\n\r\n    return (\r\n        <div className=\"story-card\" onClick={handleCardClick}>\r\n            <div className=\"story-card-header\">\r\n                <span className=\"category-badge\">{story.category}</span>\r\n                <div className=\"header-actions\">\r\n                    <span className=\"reading-time-badge\">{readingTime}</span>\r\n                    <FavoriteButton storyId={story.id} size=\"small\" />\r\n                    <AddToCollectionButton storyId={story.id} />\r\n                    <ReportButton\r\n                        targetId={story.id}\r\n                        targetType=\"story\"\r\n                        targetContent={story.title}\r\n                        className=\"opacity-50 hover:opacity-100\"\r\n                    />\r\n                    <span className=\"story-date\">{formatDate(story.createdAt)}</span>\r\n                </div>\r\n            </div>\r\n\r\n            <h3 className=\"story-title\">{story.title}</h3>\r\n            <p className=\"story-excerpt\">{story.excerpt}</p>\r\n\r\n            <div className=\"story-footer\">\r\n                <div className=\"author-info\">\r\n                    <span className=\"author-avatar\">{story.author.avatar}</span>\r\n                    <span className=\"author-name\">{story.author.name}</span>\r\n                </div>\r\n\r\n                <div className=\"story-stats\">\r\n                    <span className=\"stat\">\r\n                        <span className=\"stat-icon\">üëÅÔ∏è</span>\r\n                        {formatNumber(story.stats.views)}\r\n                    </span>\r\n                    <span className=\"stat\">\r\n                        <span className=\"stat-icon\">üí¨</span>\r\n                        {formatNumber(story.stats.comments)}\r\n                    </span>\r\n                    <LikeButton\r\n                        targetId={story.id}\r\n                        targetType=\"story\"\r\n                        initialLikeCount={story.stats.likes}\r\n                        size=\"small\"\r\n                        storyAuthorId={story.authorId}\r\n                        storyTitle={story.title}\r\n                    />\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n","'use client';\r\n\r\nimport { useState, useEffect } from 'react';\r\nimport { useAuth } from '@/contexts/AuthContext';\r\nimport { toggleFavorite, isFavorited } from '@/lib/favoriteService';\r\n\r\ninterface FavoriteButtonProps {\r\n    storyId: string;\r\n    size?: 'small' | 'medium' | 'large';\r\n}\r\n\r\nexport default function FavoriteButton({ storyId, size = 'medium' }: FavoriteButtonProps) {\r\n    const { user } = useAuth();\r\n    const [isFavorite, setIsFavorite] = useState(false);\r\n    const [isLoading, setIsLoading] = useState(false);\r\n    const [isChecking, setIsChecking] = useState(true);\r\n\r\n    // Kullanƒ±cƒ±nƒ±n favorilediƒüini kontrol et\r\n    useEffect(() => {\r\n        if (!user) {\r\n            setIsChecking(false);\r\n            return;\r\n        }\r\n\r\n        async function checkFavoriteStatus() {\r\n            if (!user) return; // Additional null check\r\n\r\n            try {\r\n                const favorited = await isFavorited(user.uid, storyId);\r\n                setIsFavorite(favorited);\r\n            } catch (error) {\r\n                console.error('Error checking favorite status:', error);\r\n            } finally {\r\n                setIsChecking(false);\r\n            }\r\n        }\r\n\r\n        checkFavoriteStatus();\r\n    }, [user, storyId]);\r\n\r\n    const handleFavorite = async (e: React.MouseEvent) => {\r\n        e.stopPropagation(); // Parent click'i engelle\r\n\r\n        if (!user || isLoading) return;\r\n\r\n        setIsLoading(true);\r\n\r\n        // Optimistic UI update\r\n        const newIsFavorite = !isFavorite;\r\n        setIsFavorite(newIsFavorite);\r\n\r\n        try {\r\n            const result = await toggleFavorite(user.uid, storyId);\r\n            setIsFavorite(result);\r\n        } catch (error) {\r\n            console.error('Error toggling favorite:', error);\r\n            // Hata durumunda geri al\r\n            setIsFavorite(!newIsFavorite);\r\n        } finally {\r\n            setIsLoading(false);\r\n        }\r\n    };\r\n\r\n    if (isChecking) {\r\n        return null;\r\n    }\r\n\r\n    const sizeClasses = {\r\n        small: 'favorite-button-small',\r\n        medium: 'favorite-button-medium',\r\n        large: 'favorite-button-large'\r\n    };\r\n\r\n    return (\r\n        <button\r\n            className={`favorite-button ${sizeClasses[size]} ${isFavorite ? 'favorited' : ''} ${!user ? 'disabled' : ''}`}\r\n            onClick={handleFavorite}\r\n            disabled={!user || isLoading}\r\n            title={user ? (isFavorite ? 'Favorilerden √ßƒ±kar' : 'Favorilere ekle') : 'Favori eklemek i√ßin giri≈ü yapƒ±n'}\r\n        >\r\n            <span className=\"favorite-icon\">\r\n                {isFavorite ? '‚≠ê' : '‚òÜ'}\r\n            </span>\r\n        </button>\r\n    );\r\n}\r\n","/**\r\n * Reading Time Calculator Utility\r\n * Hikaye okuma s√ºresini hesaplar\r\n */\r\n\r\nconst WORDS_PER_MINUTE = 200; // Ortalama okuma hƒ±zƒ±\r\n\r\n/**\r\n * Metindeki kelime sayƒ±sƒ±nƒ± hesapla\r\n */\r\nfunction countWords(text: string): number {\r\n    return text.trim().split(/\\s+/).filter(word => word.length > 0).length;\r\n}\r\n\r\n/**\r\n * Okuma s√ºresini hesapla (dakika)\r\n */\r\nexport function calculateReadingTime(text: string): number {\r\n    const wordCount = countWords(text);\r\n    const minutes = Math.ceil(wordCount / WORDS_PER_MINUTE);\r\n    return Math.max(1, minutes); // Minimum 1 dakika\r\n}\r\n\r\n/**\r\n * Okuma s√ºresini formatla\r\n */\r\nexport function formatReadingTime(text: string): string {\r\n    const minutes = calculateReadingTime(text);\r\n\r\n    if (minutes === 1) {\r\n        return '1 dakikalƒ±k okuma';\r\n    }\r\n\r\n    return `${minutes} dakikalƒ±k okuma`;\r\n}\r\n\r\n/**\r\n * Okuma s√ºresini emoji ile formatla\r\n */\r\nexport function formatReadingTimeWithEmoji(text: string): string {\r\n    const minutes = calculateReadingTime(text);\r\n\r\n    if (minutes <= 3) {\r\n        return `‚ö° ${minutes} dk`;\r\n    } else if (minutes <= 10) {\r\n        return `üìñ ${minutes} dk`;\r\n    } else {\r\n        return `üìö ${minutes} dk`;\r\n    }\r\n}\r\n\r\n/**\r\n * Kelime sayƒ±sƒ±nƒ± formatla\r\n */\r\nexport function formatWordCount(text: string): string {\r\n    const wordCount = countWords(text);\r\n\r\n    if (wordCount < 1000) {\r\n        return `${wordCount} kelime`;\r\n    }\r\n\r\n    const thousands = (wordCount / 1000).toFixed(1);\r\n    return `${thousands}K kelime`;\r\n}\r\n","'use client';\r\n\r\nimport { useEffect, useState } from 'react';\r\nimport { useAuth } from '@/contexts/AuthContext';\r\nimport { Collection } from '@/interfaces/Collection';\r\nimport { Story } from '@/interfaces/Story';\r\nimport StoryCard from '@/app/components/StoryCard';\r\nimport { useRouter } from 'next/navigation';\r\n\r\ninterface CollectionDetailPageProps {\r\n    params: Promise<{ id: string }>;\r\n}\r\n\r\nexport default function CollectionDetailPage({ params }: CollectionDetailPageProps) {\r\n    const { user } = useAuth();\r\n    const router = useRouter();\r\n    const [collection, setCollection] = useState<Collection & { stories: Story[] } | null>(null);\r\n    const [loading, setLoading] = useState(true);\r\n    const [id, setId] = useState<string>('');\r\n\r\n    useEffect(() => {\r\n        async function loadParams() {\r\n            const resolvedParams = await params;\r\n            setId(resolvedParams.id);\r\n        }\r\n        loadParams();\r\n    }, [params]);\r\n\r\n    useEffect(() => {\r\n        if (!id) return;\r\n        fetchCollection();\r\n    }, [id]);\r\n\r\n    const fetchCollection = async () => {\r\n        try {\r\n            const response = await fetch(`/api/collections/${id}`);\r\n            const data = await response.json();\r\n            if (data.collection) {\r\n                setCollection(data.collection);\r\n            } else {\r\n                // Handle not found or private\r\n            }\r\n        } catch (error) {\r\n            console.error('Error fetching collection:', error);\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    const handleDelete = async () => {\r\n        if (!confirm('Bu listeyi silmek istediƒüinize emin misiniz?') || !user) return;\r\n\r\n        try {\r\n            const token = await user.getIdToken();\r\n            const response = await fetch(`/api/collections/${id}`, {\r\n                method: 'DELETE',\r\n                headers: { 'Authorization': `Bearer ${token}` }\r\n            });\r\n\r\n            if (response.ok) {\r\n                router.push('/collections');\r\n            }\r\n        } catch (error) {\r\n            console.error('Error deleting collection:', error);\r\n        }\r\n    };\r\n\r\n    if (loading) return <div className=\"p-8 text-center\">Y√ºkleniyor...</div>;\r\n    if (!collection) return <div className=\"p-8 text-center\">Liste bulunamadƒ± veya eri≈üim izniniz yok.</div>;\r\n\r\n    const isOwner = user?.uid === collection.userId;\r\n\r\n    return (\r\n        <div className=\"collection-detail-page max-w-4xl mx-auto p-6\">\r\n            <div className=\"mb-8\">\r\n                <div className=\"flex justify-between items-start\">\r\n                    <div>\r\n                        <h1 className=\"text-3xl font-bold text-gray-800 dark:text-white mb-2\">{collection.name}</h1>\r\n                        <p className=\"text-gray-600 dark:text-gray-300\">{collection.description}</p>\r\n                    </div>\r\n                    {isOwner && (\r\n                        <button\r\n                            onClick={handleDelete}\r\n                            className=\"text-red-500 hover:text-red-700 text-sm px-3 py-1 border border-red-200 rounded-lg hover:bg-red-50 transition-colors\"\r\n                        >\r\n                            üóëÔ∏è Sil\r\n                        </button>\r\n                    )}\r\n                </div>\r\n                <div className=\"mt-4 flex gap-4 text-sm text-gray-500\">\r\n                    <span>{collection.stories?.length || 0} Hikaye</span>\r\n                    <span>‚Ä¢</span>\r\n                    <span>{collection.isPublic ? 'üåê Herkese A√ßƒ±k' : 'üîí Gizli'}</span>\r\n                    <span>‚Ä¢</span>\r\n                    <span>Olu≈üturulma: {new Date(collection.createdAt as any).toLocaleDateString('tr-TR')}</span>\r\n                </div>\r\n            </div>\r\n\r\n            <div className=\"stories-grid grid grid-cols-1 gap-6\">\r\n                {collection.stories && collection.stories.length > 0 ? (\r\n                    collection.stories.map(story => (\r\n                        <StoryCard key={story.id} story={story} />\r\n                    ))\r\n                ) : (\r\n                    <div className=\"text-center py-12 bg-gray-50 dark:bg-gray-800/50 rounded-xl\">\r\n                        <p className=\"text-gray-500\">Bu listede hen√ºz hikaye yok.</p>\r\n                    </div>\r\n                )}\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n"],"names":[],"mappings":"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"}