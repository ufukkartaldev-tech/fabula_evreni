{"version":3,"sources":["../../../../src/app/leaderboard/page.tsx","../../../../src/app/components/LeaderboardCard.tsx","../../../../src/lib/leaderboardService.ts"],"sourcesContent":["'use client';\r\n\r\nimport { useEffect, useState } from 'react';\r\nimport LeaderboardCard from '../components/LeaderboardCard';\r\nimport {\r\n    getTopStories,\r\n    getTopAuthors,\r\n    getTopBadgeHolders,\r\n    TimeRange,\r\n    LeaderboardStory,\r\n    LeaderboardAuthor,\r\n    LeaderboardBadgeHolder\r\n} from '@/lib/leaderboardService';\r\n\r\ntype TabType = 'stories' | 'authors' | 'badges';\r\n\r\nexport default function LeaderboardPage() {\r\n    const [activeTab, setActiveTab] = useState<TabType>('stories');\r\n    const [timeRange, setTimeRange] = useState<TimeRange>('all');\r\n    const [loading, setLoading] = useState(true);\r\n\r\n    const [topStories, setTopStories] = useState<LeaderboardStory[]>([]);\r\n    const [topAuthors, setTopAuthors] = useState<LeaderboardAuthor[]>([]);\r\n    const [topBadgeHolders, setTopBadgeHolders] = useState<LeaderboardBadgeHolder[]>([]);\r\n\r\n    useEffect(() => {\r\n        fetchLeaderboardData();\r\n    }, [activeTab, timeRange]);\r\n\r\n    const fetchLeaderboardData = async () => {\r\n        setLoading(true);\r\n        try {\r\n            if (activeTab === 'stories') {\r\n                const stories = await getTopStories(timeRange, 10);\r\n                setTopStories(stories);\r\n            } else if (activeTab === 'authors') {\r\n                const authors = await getTopAuthors(10);\r\n                setTopAuthors(authors);\r\n            } else if (activeTab === 'badges') {\r\n                const badgeHolders = await getTopBadgeHolders(10);\r\n                setTopBadgeHolders(badgeHolders);\r\n            }\r\n        } catch (error) {\r\n            console.error('Error fetching leaderboard data:', error);\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    const renderContent = () => {\r\n        if (loading) {\r\n            return (\r\n                <div className=\"loading-state\">\r\n                    <div className=\"spinner\"></div>\r\n                    <p>Liderlik tablosu y√ºkleniyor...</p>\r\n                </div>\r\n            );\r\n        }\r\n\r\n        if (activeTab === 'stories') {\r\n            if (topStories.length === 0) {\r\n                return (\r\n                    <div className=\"empty-state\">\r\n                        <span className=\"empty-icon\">üìö</span>\r\n                        <p>Hen√ºz hikaye yok.</p>\r\n                    </div>\r\n                );\r\n            }\r\n            return topStories.map((story) => (\r\n                <LeaderboardCard key={story.id} rank={story.rank} type=\"story\" data={story} />\r\n            ));\r\n        }\r\n\r\n        if (activeTab === 'authors') {\r\n            if (topAuthors.length === 0) {\r\n                return (\r\n                    <div className=\"empty-state\">\r\n                        <span className=\"empty-icon\">üë•</span>\r\n                        <p>Hen√ºz yazar yok.</p>\r\n                    </div>\r\n                );\r\n            }\r\n            return topAuthors.map((author) => (\r\n                <LeaderboardCard key={author.uid} rank={author.rank} type=\"author\" data={author} />\r\n            ));\r\n        }\r\n\r\n        if (activeTab === 'badges') {\r\n            if (topBadgeHolders.length === 0) {\r\n                return (\r\n                    <div className=\"empty-state\">\r\n                        <span className=\"empty-icon\">üèÜ</span>\r\n                        <p>Hen√ºz rozet sahibi yok.</p>\r\n                    </div>\r\n                );\r\n            }\r\n            return topBadgeHolders.map((holder) => (\r\n                <LeaderboardCard key={holder.uid} rank={holder.rank} type=\"badge\" data={holder} />\r\n            ));\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"leaderboard-page\">\r\n            <div className=\"leaderboard-container\">\r\n                <div className=\"leaderboard-header\">\r\n                    <h1 className=\"page-title\">\r\n                        <span className=\"title-icon\">üèÜ</span>\r\n                        Liderlik Tablosu\r\n                    </h1>\r\n                    <p className=\"page-subtitle\">\r\n                        En ba≈üarƒ±lƒ± hikayeler, yazarlar ve rozet sahipleri\r\n                    </p>\r\n                </div>\r\n\r\n                <div className=\"leaderboard-tabs\">\r\n                    <button\r\n                        className={`tab-button ${activeTab === 'stories' ? 'active' : ''}`}\r\n                        onClick={() => setActiveTab('stories')}\r\n                    >\r\n                        <span className=\"tab-icon\">üìñ</span>\r\n                        En √áok Okunan\r\n                    </button>\r\n                    <button\r\n                        className={`tab-button ${activeTab === 'authors' ? 'active' : ''}`}\r\n                        onClick={() => setActiveTab('authors')}\r\n                    >\r\n                        <span className=\"tab-icon\">‚úçÔ∏è</span>\r\n                        Aktif Yazarlar\r\n                    </button>\r\n                    <button\r\n                        className={`tab-button ${activeTab === 'badges' ? 'active' : ''}`}\r\n                        onClick={() => setActiveTab('badges')}\r\n                    >\r\n                        <span className=\"tab-icon\">üéñÔ∏è</span>\r\n                        Rozet Sƒ±ralamasƒ±\r\n                    </button>\r\n                </div>\r\n\r\n                {activeTab === 'stories' && (\r\n                    <div className=\"time-filters\">\r\n                        <button\r\n                            className={`filter-button ${timeRange === 'today' ? 'active' : ''}`}\r\n                            onClick={() => setTimeRange('today')}\r\n                        >\r\n                            Bug√ºn\r\n                        </button>\r\n                        <button\r\n                            className={`filter-button ${timeRange === 'week' ? 'active' : ''}`}\r\n                            onClick={() => setTimeRange('week')}\r\n                        >\r\n                            Bu Hafta\r\n                        </button>\r\n                        <button\r\n                            className={`filter-button ${timeRange === 'month' ? 'active' : ''}`}\r\n                            onClick={() => setTimeRange('month')}\r\n                        >\r\n                            Bu Ay\r\n                        </button>\r\n                        <button\r\n                            className={`filter-button ${timeRange === 'all' ? 'active' : ''}`}\r\n                            onClick={() => setTimeRange('all')}\r\n                        >\r\n                            T√ºm Zamanlar\r\n                        </button>\r\n                    </div>\r\n                )}\r\n\r\n                <div className=\"leaderboard-content\">\r\n                    {renderContent()}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n","/* eslint-disable @next/next/no-img-element */\r\n'use client';\r\n\r\nimport Link from 'next/link';\r\nimport { getUserBadge } from '@/interfaces/Badge';\r\n\r\ninterface LeaderboardCardProps {\r\n    rank: number;\r\n    type: 'story' | 'author' | 'badge';\r\n    data: any;\r\n}\r\n\r\nexport default function LeaderboardCard({ rank, type, data }: LeaderboardCardProps) {\r\n    const getRankIcon = (rank: number) => {\r\n        switch (rank) {\r\n            case 1: return 'ü•á';\r\n            case 2: return 'ü•à';\r\n            case 3: return 'ü•â';\r\n            default: return `${rank}.`;\r\n        }\r\n    };\r\n\r\n    if (type === 'story') {\r\n        return (\r\n            <Link href={`/story/${data.id}`} className=\"leaderboard-card\">\r\n                <div className=\"rank-badge\">{getRankIcon(rank)}</div>\r\n                <div className=\"card-content\">\r\n                    <h3 className=\"card-title\">{data.title}</h3>\r\n                    <div className=\"card-meta\">\r\n                        <span className=\"meta-item\">\r\n                            <span className=\"meta-icon\">üë§</span>\r\n                            {data.author.name}\r\n                        </span>\r\n                        <span className=\"meta-item\">\r\n                            <span className=\"meta-icon\">üìÅ</span>\r\n                            {data.category}\r\n                        </span>\r\n                    </div>\r\n                </div>\r\n                <div className=\"card-stats\">\r\n                    <div className=\"stat-item\">\r\n                        <span className=\"stat-icon\">üëÅÔ∏è</span>\r\n                        <span className=\"stat-value\">{data.stats.views.toLocaleString()}</span>\r\n                    </div>\r\n                    <div className=\"stat-item\">\r\n                        <span className=\"stat-icon\">üí¨</span>\r\n                        <span className=\"stat-value\">{data.stats.comments}</span>\r\n                    </div>\r\n                    <div className=\"stat-item\">\r\n                        <span className=\"stat-icon\">‚ù§Ô∏è</span>\r\n                        <span className=\"stat-value\">{data.stats.likes}</span>\r\n                    </div>\r\n                </div>\r\n            </Link>\r\n        );\r\n    }\r\n\r\n    if (type === 'author') {\r\n        const xp = data.xp || 0;\r\n        const badge = getUserBadge(xp);\r\n\r\n        return (\r\n            <div className=\"leaderboard-card\">\r\n                <div className=\"rank-badge\">{getRankIcon(rank)}</div>\r\n                <div className=\"card-content\">\r\n                    <div className=\"author-header\">\r\n                        <span className=\"author-avatar\">\r\n                            {data.photoURL ? (\r\n                                <img src={data.photoURL} alt={data.displayName} />\r\n                            ) : (\r\n                                'üë§'\r\n                            )}\r\n                        </span>\r\n                        <div>\r\n                            <h3 className=\"card-title\">{data.displayName}</h3>\r\n                            {badge && (\r\n                                <span className=\"author-badge\">\r\n                                    {badge.emoji} {badge.name}\r\n                                </span>\r\n                            )}\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div className=\"card-stats\">\r\n                    <div className=\"stat-item\">\r\n                        <span className=\"stat-icon\">‚ú®</span>\r\n                        <span className=\"stat-value\">{xp.toLocaleString()}</span>\r\n                        <span className=\"stat-label\">XP</span>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    if (type === 'badge') {\r\n        const xp = data.xp || 0;\r\n        const badge = getUserBadge(xp);\r\n\r\n        return (\r\n            <div className=\"leaderboard-card\">\r\n                <div className=\"rank-badge\">{getRankIcon(rank)}</div>\r\n                <div className=\"card-content\">\r\n                    <div className=\"author-header\">\r\n                        <span className=\"author-avatar\">\r\n                            {data.photoURL ? (\r\n                                <img src={data.photoURL} alt={data.displayName} />\r\n                            ) : (\r\n                                'üë§'\r\n                            )}\r\n                        </span>\r\n                        <div>\r\n                            <h3 className=\"card-title\">{data.displayName}</h3>\r\n                            {badge && (\r\n                                <span className=\"author-badge badge-highlight\">\r\n                                    {badge.emoji} {badge.name}\r\n                                </span>\r\n                            )}\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div className=\"card-stats\">\r\n                    <div className=\"stat-item\">\r\n                        <span className=\"stat-icon\">‚ú®</span>\r\n                        <span className=\"stat-value\">{xp.toLocaleString()}</span>\r\n                        <span className=\"stat-label\">Toplam XP</span>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    return null;\r\n}\r\n","import {\r\n    collection,\r\n    getDocs,\r\n    query,\r\n    orderBy,\r\n    limit,\r\n    where,\r\n    Timestamp\r\n} from 'firebase/firestore';\r\nimport { db } from './firebase';\r\nimport { Story } from '@/interfaces/Story';\r\nimport { UserProfile } from '@/interfaces/User';\r\n\r\nexport interface LeaderboardStory extends Story {\r\n    rank: number;\r\n}\r\n\r\nexport interface LeaderboardAuthor {\r\n    uid: string;\r\n    displayName: string;\r\n    photoURL: string | null;\r\n    totalViews: number;\r\n    storiesCount: number;\r\n    currentBadge: string;\r\n    rank: number;\r\n}\r\n\r\nexport interface LeaderboardBadgeHolder extends UserProfile {\r\n    rank: number;\r\n}\r\n\r\nexport type TimeRange = 'today' | 'week' | 'month' | 'all';\r\n\r\n// Get top stories by views\r\nexport async function getTopStories(timeRange: TimeRange = 'all', limitCount: number = 10): Promise<LeaderboardStory[]> {\r\n    try {\r\n        const storiesCollection = collection(db, 'stories');\r\n\r\n        // Fetch all stories and filter/sort in memory to avoid composite index requirements\r\n        const q = query(storiesCollection, orderBy('createdAt', 'desc'));\r\n        const querySnapshot = await getDocs(q);\r\n\r\n        let stories = querySnapshot.docs.map((doc) => {\r\n            const data = doc.data();\r\n            return {\r\n                id: doc.id,\r\n                ...data,\r\n                createdAt: data.createdAt?.toDate() || new Date(),\r\n            } as Story;\r\n        });\r\n\r\n        // Filter by time range\r\n        if (timeRange !== 'all') {\r\n            const now = new Date();\r\n            let startDate: Date;\r\n\r\n            switch (timeRange) {\r\n                case 'today':\r\n                    startDate = new Date(now.getFullYear(), now.getMonth(), now.getDate());\r\n                    break;\r\n                case 'week':\r\n                    startDate = new Date(now.getTime() - 7 * 24 * 60 * 60 * 1000);\r\n                    break;\r\n                case 'month':\r\n                    startDate = new Date(now.getFullYear(), now.getMonth(), 1);\r\n                    break;\r\n                default:\r\n                    startDate = new Date(0);\r\n            }\r\n\r\n            stories = stories.filter(story => story.createdAt >= startDate);\r\n        }\r\n\r\n        // Sort by views and limit\r\n        const sortedStories = stories\r\n            .sort((a, b) => (b.stats?.views || 0) - (a.stats?.views || 0))\r\n            .slice(0, limitCount)\r\n            .map((story, index) => ({\r\n                ...story,\r\n                rank: index + 1,\r\n            } as LeaderboardStory));\r\n\r\n        return sortedStories;\r\n    } catch (error) {\r\n        console.error('Error fetching top stories:', error);\r\n        return [];\r\n    }\r\n}\r\n\r\n// Get top authors by total views\r\nexport async function getTopAuthors(limitCount: number = 10): Promise<LeaderboardAuthor[]> {\r\n    try {\r\n        const usersCollection = collection(db, 'users');\r\n        const q = query(usersCollection, orderBy('totalWins', 'desc'), limit(limitCount));\r\n\r\n        const querySnapshot = await getDocs(q);\r\n        const authors = querySnapshot.docs.map((doc, index) => {\r\n            const data = doc.data();\r\n            return {\r\n                uid: doc.id,\r\n                displayName: data.displayName || 'Anonim',\r\n                photoURL: data.photoURL || null,\r\n                totalViews: data.totalViews || 0,\r\n                storiesCount: data.storiesCount || 0,\r\n                currentBadge: data.currentBadge || 'üå±',\r\n                rank: index + 1,\r\n            } as LeaderboardAuthor;\r\n        });\r\n\r\n        return authors;\r\n    } catch (error) {\r\n        console.error('Error fetching top authors:', error);\r\n        return [];\r\n    }\r\n}\r\n\r\n// Get top badge holders\r\nexport async function getTopBadgeHolders(limitCount: number = 10): Promise<LeaderboardBadgeHolder[]> {\r\n    try {\r\n        const usersCollection = collection(db, 'users');\r\n        const q = query(usersCollection, orderBy('totalWins', 'desc'), limit(limitCount));\r\n\r\n        const querySnapshot = await getDocs(q);\r\n        const badgeHolders = querySnapshot.docs.map((doc, index) => {\r\n            const data = doc.data();\r\n            return {\r\n                uid: doc.id,\r\n                email: data.email || '',\r\n                displayName: data.displayName || 'Anonim',\r\n                photoURL: data.photoURL || null,\r\n                totalWins: data.totalWins || 0,\r\n                currentBadge: data.currentBadge || 'üå±',\r\n                createdAt: data.createdAt || Timestamp.now(),\r\n                lastUpdated: data.lastUpdated || Timestamp.now(),\r\n                rank: index + 1,\r\n            } as LeaderboardBadgeHolder;\r\n        });\r\n\r\n        return badgeHolders;\r\n    } catch (error) {\r\n        console.error('Error fetching top badge holders:', error);\r\n        return [];\r\n    }\r\n}\r\n"],"names":[],"mappings":"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"}