{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["C:/Users/90538/Desktop/fabula/benim-hikaye-uygulamasi/src/app/components/LeaderboardCard.tsx"],"sourcesContent":["'use client';\r\n\r\nimport Link from 'next/link';\r\nimport { getUserBadge } from '@/interfaces/Badge';\r\n\r\ninterface LeaderboardCardProps {\r\n    rank: number;\r\n    type: 'story' | 'author' | 'badge';\r\n    data: any;\r\n}\r\n\r\nexport default function LeaderboardCard({ rank, type, data }: LeaderboardCardProps) {\r\n    const getRankIcon = (rank: number) => {\r\n        switch (rank) {\r\n            case 1: return 'ü•á';\r\n            case 2: return 'ü•à';\r\n            case 3: return 'ü•â';\r\n            default: return `${rank}.`;\r\n        }\r\n    };\r\n\r\n    if (type === 'story') {\r\n        return (\r\n            <Link href={`/story/${data.id}`} className=\"leaderboard-card\">\r\n                <div className=\"rank-badge\">{getRankIcon(rank)}</div>\r\n                <div className=\"card-content\">\r\n                    <h3 className=\"card-title\">{data.title}</h3>\r\n                    <div className=\"card-meta\">\r\n                        <span className=\"meta-item\">\r\n                            <span className=\"meta-icon\">üë§</span>\r\n                            {data.author.name}\r\n                        </span>\r\n                        <span className=\"meta-item\">\r\n                            <span className=\"meta-icon\">üìÅ</span>\r\n                            {data.category}\r\n                        </span>\r\n                    </div>\r\n                </div>\r\n                <div className=\"card-stats\">\r\n                    <div className=\"stat-item\">\r\n                        <span className=\"stat-icon\">üëÅÔ∏è</span>\r\n                        <span className=\"stat-value\">{data.stats.views.toLocaleString()}</span>\r\n                    </div>\r\n                    <div className=\"stat-item\">\r\n                        <span className=\"stat-icon\">üí¨</span>\r\n                        <span className=\"stat-value\">{data.stats.comments}</span>\r\n                    </div>\r\n                    <div className=\"stat-item\">\r\n                        <span className=\"stat-icon\">‚ù§Ô∏è</span>\r\n                        <span className=\"stat-value\">{data.stats.likes}</span>\r\n                    </div>\r\n                </div>\r\n            </Link>\r\n        );\r\n    }\r\n\r\n    if (type === 'author') {\r\n        // Use pre-calculated badge from user data instead of recalculating\r\n        const badgeEmoji = data.currentBadge || 'üå±';\r\n        const badge = getUserBadge(data.totalWins || 0); // Only for badge name\r\n\r\n        return (\r\n            <div className=\"leaderboard-card\">\r\n                <div className=\"rank-badge\">{getRankIcon(rank)}</div>\r\n                <div className=\"card-content\">\r\n                    <div className=\"author-header\">\r\n                        <span className=\"author-avatar\">\r\n                            {data.photoURL ? (\r\n                                <img src={data.photoURL} alt={data.displayName} />\r\n                            ) : (\r\n                                'üë§'\r\n                            )}\r\n                        </span>\r\n                        <div>\r\n                            <h3 className=\"card-title\">{data.displayName}</h3>\r\n                            {badge && (\r\n                                <span className=\"author-badge\">\r\n                                    {badgeEmoji} {badge.name}\r\n                                </span>\r\n                            )}\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div className=\"card-stats\">\r\n                    <div className=\"stat-item\">\r\n                        <span className=\"stat-icon\">üèÜ</span>\r\n                        <span className=\"stat-value\">{data.totalWins || 0}</span>\r\n                        <span className=\"stat-label\">Galibiyet</span>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    if (type === 'badge') {\r\n        // Use pre-calculated badge from user data\r\n        const badgeEmoji = data.currentBadge || 'üå±';\r\n        const badge = getUserBadge(data.totalWins); // Only for badge name\r\n\r\n        return (\r\n            <div className=\"leaderboard-card\">\r\n                <div className=\"rank-badge\">{getRankIcon(rank)}</div>\r\n                <div className=\"card-content\">\r\n                    <div className=\"author-header\">\r\n                        <span className=\"author-avatar\">\r\n                            {data.photoURL ? (\r\n                                <img src={data.photoURL} alt={data.displayName} />\r\n                            ) : (\r\n                                'üë§'\r\n                            )}\r\n                        </span>\r\n                        <div>\r\n                            <h3 className=\"card-title\">{data.displayName}</h3>\r\n                            {badge && (\r\n                                <span className=\"author-badge badge-highlight\">\r\n                                    {badgeEmoji} {badge.name}\r\n                                </span>\r\n                            )}\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div className=\"card-stats\">\r\n                    <div className=\"stat-item\">\r\n                        <span className=\"stat-icon\">üèÜ</span>\r\n                        <span className=\"stat-value\">{data.totalWins}</span>\r\n                        <span className=\"stat-label\">Toplam Galibiyet</span>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    return null;\r\n}\r\n"],"names":["c","_c","Link","getUserBadge","LeaderboardCardProps","rank","type","data","LeaderboardCard","t0","$","$i","Symbol","for","getRankIcon","_LeaderboardCardGetRankIcon","t1","id","t2","t3","t4","title","t5","t6","author","name","t7","t8","category","t9","t10","t11","t12","stats","views","toLocaleString","t13","t14","t15","comments","t16","t17","likes","t18","t19","badgeEmoji","currentBadge","totalWins","badge","displayName","photoURL","badgeEmoji_0","badge_0","rank_0"],"mappings":"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","ignoreList":[]}},
    {"offset": {"line": 825, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/90538/Desktop/fabula/benim-hikaye-uygulamasi/src/lib/leaderboardService.ts"],"sourcesContent":["import {\r\n    collection,\r\n    getDocs,\r\n    query,\r\n    orderBy,\r\n    limit,\r\n    where,\r\n    Timestamp\r\n} from 'firebase/firestore';\r\nimport { db } from './firebase';\r\nimport { Story } from '@/interfaces/Story';\r\nimport { UserProfile } from '@/interfaces/User';\r\n\r\nexport interface LeaderboardStory extends Story {\r\n    rank: number;\r\n}\r\n\r\nexport interface LeaderboardAuthor {\r\n    uid: string;\r\n    displayName: string;\r\n    photoURL: string | null;\r\n    totalViews: number;\r\n    storiesCount: number;\r\n    currentBadge: string;\r\n    rank: number;\r\n}\r\n\r\nexport interface LeaderboardBadgeHolder extends UserProfile {\r\n    rank: number;\r\n}\r\n\r\nexport type TimeRange = 'today' | 'week' | 'month' | 'all';\r\n\r\n// Get top stories by views\r\nexport async function getTopStories(timeRange: TimeRange = 'all', limitCount: number = 10): Promise<LeaderboardStory[]> {\r\n    try {\r\n        const storiesCollection = collection(db, 'stories');\r\n\r\n        // Fetch all stories and filter/sort in memory to avoid composite index requirements\r\n        const q = query(storiesCollection, orderBy('createdAt', 'desc'));\r\n        const querySnapshot = await getDocs(q);\r\n\r\n        let stories = querySnapshot.docs.map((doc) => {\r\n            const data = doc.data();\r\n            return {\r\n                id: doc.id,\r\n                ...data,\r\n                createdAt: data.createdAt?.toDate() || new Date(),\r\n            } as Story;\r\n        });\r\n\r\n        // Filter by time range\r\n        if (timeRange !== 'all') {\r\n            const now = new Date();\r\n            let startDate: Date;\r\n\r\n            switch (timeRange) {\r\n                case 'today':\r\n                    startDate = new Date(now.getFullYear(), now.getMonth(), now.getDate());\r\n                    break;\r\n                case 'week':\r\n                    startDate = new Date(now.getTime() - 7 * 24 * 60 * 60 * 1000);\r\n                    break;\r\n                case 'month':\r\n                    startDate = new Date(now.getFullYear(), now.getMonth(), 1);\r\n                    break;\r\n                default:\r\n                    startDate = new Date(0);\r\n            }\r\n\r\n            stories = stories.filter(story => story.createdAt >= startDate);\r\n        }\r\n\r\n        // Sort by views and limit\r\n        const sortedStories = stories\r\n            .sort((a, b) => (b.stats?.views || 0) - (a.stats?.views || 0))\r\n            .slice(0, limitCount)\r\n            .map((story, index) => ({\r\n                ...story,\r\n                rank: index + 1,\r\n            } as LeaderboardStory));\r\n\r\n        return sortedStories;\r\n    } catch (error) {\r\n        console.error('Error fetching top stories:', error);\r\n        return [];\r\n    }\r\n}\r\n\r\n// Get top authors by total views\r\nexport async function getTopAuthors(limitCount: number = 10): Promise<LeaderboardAuthor[]> {\r\n    try {\r\n        const usersCollection = collection(db, 'users');\r\n        const q = query(usersCollection, orderBy('totalWins', 'desc'), limit(limitCount));\r\n\r\n        const querySnapshot = await getDocs(q);\r\n        const authors = querySnapshot.docs.map((doc, index) => {\r\n            const data = doc.data();\r\n            return {\r\n                uid: doc.id,\r\n                displayName: data.displayName || 'Anonim',\r\n                photoURL: data.photoURL || null,\r\n                totalViews: data.totalViews || 0,\r\n                storiesCount: data.storiesCount || 0,\r\n                currentBadge: data.currentBadge || 'üå±',\r\n                rank: index + 1,\r\n            } as LeaderboardAuthor;\r\n        });\r\n\r\n        return authors;\r\n    } catch (error) {\r\n        console.error('Error fetching top authors:', error);\r\n        return [];\r\n    }\r\n}\r\n\r\n// Get top badge holders\r\nexport async function getTopBadgeHolders(limitCount: number = 10): Promise<LeaderboardBadgeHolder[]> {\r\n    try {\r\n        const usersCollection = collection(db, 'users');\r\n        const q = query(usersCollection, orderBy('totalWins', 'desc'), limit(limitCount));\r\n\r\n        const querySnapshot = await getDocs(q);\r\n        const badgeHolders = querySnapshot.docs.map((doc, index) => {\r\n            const data = doc.data();\r\n            return {\r\n                uid: doc.id,\r\n                email: data.email || '',\r\n                displayName: data.displayName || 'Anonim',\r\n                photoURL: data.photoURL || null,\r\n                totalWins: data.totalWins || 0,\r\n                currentBadge: data.currentBadge || 'üå±',\r\n                createdAt: data.createdAt || Timestamp.now(),\r\n                lastUpdated: data.lastUpdated || Timestamp.now(),\r\n                rank: index + 1,\r\n            } as LeaderboardBadgeHolder;\r\n        });\r\n\r\n        return badgeHolders;\r\n    } catch (error) {\r\n        console.error('Error fetching top badge holders:', error);\r\n        return [];\r\n    }\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 937, "column": 0}, "map": {"version":3,"sources":["C:/Users/90538/Desktop/fabula/benim-hikaye-uygulamasi/src/app/leaderboard/page.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useEffect, useState } from 'react';\r\nimport LeaderboardCard from '../components/LeaderboardCard';\r\nimport {\r\n    getTopStories,\r\n    getTopAuthors,\r\n    getTopBadgeHolders,\r\n    TimeRange,\r\n    LeaderboardStory,\r\n    LeaderboardAuthor,\r\n    LeaderboardBadgeHolder\r\n} from '@/lib/leaderboardService';\r\n\r\ntype TabType = 'stories' | 'authors' | 'badges';\r\n\r\nexport default function LeaderboardPage() {\r\n    const [activeTab, setActiveTab] = useState<TabType>('stories');\r\n    const [timeRange, setTimeRange] = useState<TimeRange>('all');\r\n    const [loading, setLoading] = useState(true);\r\n\r\n    const [topStories, setTopStories] = useState<LeaderboardStory[]>([]);\r\n    const [topAuthors, setTopAuthors] = useState<LeaderboardAuthor[]>([]);\r\n    const [topBadgeHolders, setTopBadgeHolders] = useState<LeaderboardBadgeHolder[]>([]);\r\n\r\n    useEffect(() => {\r\n        fetchLeaderboardData();\r\n    }, [activeTab, timeRange]);\r\n\r\n    const fetchLeaderboardData = async () => {\r\n        setLoading(true);\r\n        try {\r\n            if (activeTab === 'stories') {\r\n                const stories = await getTopStories(timeRange, 10);\r\n                setTopStories(stories);\r\n            } else if (activeTab === 'authors') {\r\n                const authors = await getTopAuthors(10);\r\n                setTopAuthors(authors);\r\n            } else if (activeTab === 'badges') {\r\n                const badgeHolders = await getTopBadgeHolders(10);\r\n                setTopBadgeHolders(badgeHolders);\r\n            }\r\n        } catch (error) {\r\n            console.error('Error fetching leaderboard data:', error);\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    const renderContent = () => {\r\n        if (loading) {\r\n            return (\r\n                <div className=\"loading-state\">\r\n                    <div className=\"spinner\"></div>\r\n                    <p>Liderlik tablosu y√ºkleniyor...</p>\r\n                </div>\r\n            );\r\n        }\r\n\r\n        if (activeTab === 'stories') {\r\n            if (topStories.length === 0) {\r\n                return (\r\n                    <div className=\"empty-state\">\r\n                        <span className=\"empty-icon\">üìö</span>\r\n                        <p>Hen√ºz hikaye yok.</p>\r\n                    </div>\r\n                );\r\n            }\r\n            return topStories.map((story) => (\r\n                <LeaderboardCard key={story.id} rank={story.rank} type=\"story\" data={story} />\r\n            ));\r\n        }\r\n\r\n        if (activeTab === 'authors') {\r\n            if (topAuthors.length === 0) {\r\n                return (\r\n                    <div className=\"empty-state\">\r\n                        <span className=\"empty-icon\">üë•</span>\r\n                        <p>Hen√ºz yazar yok.</p>\r\n                    </div>\r\n                );\r\n            }\r\n            return topAuthors.map((author) => (\r\n                <LeaderboardCard key={author.uid} rank={author.rank} type=\"author\" data={author} />\r\n            ));\r\n        }\r\n\r\n        if (activeTab === 'badges') {\r\n            if (topBadgeHolders.length === 0) {\r\n                return (\r\n                    <div className=\"empty-state\">\r\n                        <span className=\"empty-icon\">üèÜ</span>\r\n                        <p>Hen√ºz rozet sahibi yok.</p>\r\n                    </div>\r\n                );\r\n            }\r\n            return topBadgeHolders.map((holder) => (\r\n                <LeaderboardCard key={holder.uid} rank={holder.rank} type=\"badge\" data={holder} />\r\n            ));\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"leaderboard-page\">\r\n            <div className=\"leaderboard-container\">\r\n                <div className=\"leaderboard-header\">\r\n                    <h1 className=\"page-title\">\r\n                        <span className=\"title-icon\">üèÜ</span>\r\n                        Liderlik Tablosu\r\n                    </h1>\r\n                    <p className=\"page-subtitle\">\r\n                        En ba≈üarƒ±lƒ± hikayeler, yazarlar ve rozet sahipleri\r\n                    </p>\r\n                </div>\r\n\r\n                <div className=\"leaderboard-tabs\">\r\n                    <button\r\n                        className={`tab-button ${activeTab === 'stories' ? 'active' : ''}`}\r\n                        onClick={() => setActiveTab('stories')}\r\n                    >\r\n                        <span className=\"tab-icon\">üìñ</span>\r\n                        En √áok Okunan\r\n                    </button>\r\n                    <button\r\n                        className={`tab-button ${activeTab === 'authors' ? 'active' : ''}`}\r\n                        onClick={() => setActiveTab('authors')}\r\n                    >\r\n                        <span className=\"tab-icon\">‚úçÔ∏è</span>\r\n                        Aktif Yazarlar\r\n                    </button>\r\n                    <button\r\n                        className={`tab-button ${activeTab === 'badges' ? 'active' : ''}`}\r\n                        onClick={() => setActiveTab('badges')}\r\n                    >\r\n                        <span className=\"tab-icon\">üéñÔ∏è</span>\r\n                        Rozet Sƒ±ralamasƒ±\r\n                    </button>\r\n                </div>\r\n\r\n                {activeTab === 'stories' && (\r\n                    <div className=\"time-filters\">\r\n                        <button\r\n                            className={`filter-button ${timeRange === 'today' ? 'active' : ''}`}\r\n                            onClick={() => setTimeRange('today')}\r\n                        >\r\n                            Bug√ºn\r\n                        </button>\r\n                        <button\r\n                            className={`filter-button ${timeRange === 'week' ? 'active' : ''}`}\r\n                            onClick={() => setTimeRange('week')}\r\n                        >\r\n                            Bu Hafta\r\n                        </button>\r\n                        <button\r\n                            className={`filter-button ${timeRange === 'month' ? 'active' : ''}`}\r\n                            onClick={() => setTimeRange('month')}\r\n                        >\r\n                            Bu Ay\r\n                        </button>\r\n                        <button\r\n                            className={`filter-button ${timeRange === 'all' ? 'active' : ''}`}\r\n                            onClick={() => setTimeRange('all')}\r\n                        >\r\n                            T√ºm Zamanlar\r\n                        </button>\r\n                    </div>\r\n                )}\r\n\r\n                <div className=\"leaderboard-content\">\r\n                    {renderContent()}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n"],"names":["useEffect","useState","LeaderboardCard","getTopStories","getTopAuthors","getTopBadgeHolders","TimeRange","LeaderboardStory","LeaderboardAuthor","LeaderboardBadgeHolder","TabType","LeaderboardPage","activeTab","setActiveTab","timeRange","setTimeRange","loading","setLoading","topStories","setTopStories","topAuthors","setTopAuthors","topBadgeHolders","setTopBadgeHolders","fetchLeaderboardData","stories","authors","badgeHolders","error","console","renderContent","length","map","story","id","rank","author","uid","holder"],"mappings":"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","ignoreList":[]}}]
}