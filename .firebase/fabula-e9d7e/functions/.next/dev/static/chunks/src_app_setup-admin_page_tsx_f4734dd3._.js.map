{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["C:/Users/90538/Desktop/fabula/benim-hikaye-uygulamasi/src/app/setup-admin/page.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useState } from 'react';\r\nimport { useAuth } from '@/contexts/AuthContext';\r\n\r\nexport default function SetupAdminPage() {\r\n    const { user } = useAuth();\r\n    const [secret, setSecret] = useState('');\r\n    const [status, setStatus] = useState('');\r\n\r\n    const handleMakeAdmin = async () => {\r\n        if (!user) return;\r\n\r\n        setStatus('Processing...');\r\n        try {\r\n            const response = await fetch('/api/admin/set-custom-claims', {\r\n                method: 'POST',\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                },\r\n                body: JSON.stringify({\r\n                    uid: user.uid,\r\n                    action: 'grant',\r\n                    secret: secret\r\n                }),\r\n            });\r\n\r\n            const data = await response.json();\r\n            if (response.ok) {\r\n                setStatus('Success! You are now an admin. Please refresh the page/re-login to update claims.');\r\n            } else {\r\n                setStatus('Error: ' + data.error);\r\n            }\r\n        } catch (error) {\r\n            setStatus('Error: ' + error);\r\n        }\r\n    };\r\n\r\n    if (!user) {\r\n        return <div className=\"p-8\">Please login first.</div>;\r\n    }\r\n\r\n    return (\r\n        <div className=\"p-8 max-w-md mx-auto\">\r\n            <h1 className=\"text-2xl font-bold mb-4\">Admin Setup</h1>\r\n            <p className=\"mb-4\">Current User: {user.email} ({user.uid})</p>\r\n\r\n            <div className=\"space-y-4\">\r\n                <div>\r\n                    <label className=\"block text-sm font-medium mb-1\">Bootstrap Secret</label>\r\n                    <input\r\n                        type=\"password\"\r\n                        value={secret}\r\n                        onChange={(e) => setSecret(e.target.value)}\r\n                        className=\"w-full p-2 border rounded\"\r\n                    />\r\n                </div>\r\n\r\n                <button\r\n                    onClick={handleMakeAdmin}\r\n                    className=\"w-full bg-indigo-600 text-white py-2 rounded hover:bg-indigo-700\"\r\n                >\r\n                    Make Me Admin\r\n                </button>\r\n\r\n                {status && (\r\n                    <div className={`p-4 rounded ${status.includes('Success') ? 'bg-green-100 text-green-800' : 'bg-red-100 text-red-800'}`}>\r\n                        {status}\r\n                    </div>\r\n                )}\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n"],"names":["c","_c","useState","useAuth","SetupAdminPage","$","$i","Symbol","for","user","secret","setSecret","status","setStatus","t0","SetupAdminPage[handleMakeAdmin]","response","fetch","method","headers","body","JSON","stringify","uid","action","data","json","ok","error","t1","handleMakeAdmin","t2","email","t3","t4","e","target","value","t5","t6","t7","includes","t8","t9"],"mappings":"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","ignoreList":[]}}]
}