module.exports=[94936,(a,b,c)=>{var d=0/0,e=/^\s+|\s+$/g,f=/^[-+]0x[0-9a-f]+$/i,g=/^0b[01]+$/i,h=/^0o[0-7]+$/i,i=parseInt,j=a.g&&a.g.Object===Object&&a.g,k="object"==typeof self&&self&&self.Object===Object&&self,l=j||k||Function("return this")(),m=Object.prototype.toString,n=Math.max,o=Math.min,p=function(){return l.Date.now()};function q(a){var b=typeof a;return!!a&&("object"==b||"function"==b)}function r(a){if("number"==typeof a)return a;if("symbol"==typeof(b=a)||b&&"object"==typeof b&&"[object Symbol]"==m.call(b))return d;if(q(a)){var b,c="function"==typeof a.valueOf?a.valueOf():a;a=q(c)?c+"":c}if("string"!=typeof a)return 0===a?a:+a;a=a.replace(e,"");var j=g.test(a);return j||h.test(a)?i(a.slice(2),j?2:8):f.test(a)?d:+a}b.exports=function(a,b,c){var d,e,f,g,h,i,j=0,k=!1,l=!1,m=!0;if("function"!=typeof a)throw TypeError("Expected a function");function s(b){var c=d,f=e;return d=e=void 0,j=b,g=a.apply(f,c)}function t(a){var c=a-i,d=a-j;return void 0===i||c>=b||c<0||l&&d>=f}function u(){var a,c,d,e=p();if(t(e))return v(e);h=setTimeout(u,(a=e-i,c=e-j,d=b-a,l?o(d,f-c):d))}function v(a){return(h=void 0,m&&d)?s(a):(d=e=void 0,g)}function w(){var a,c=p(),f=t(c);if(d=arguments,e=this,i=c,f){if(void 0===h)return j=a=i,h=setTimeout(u,b),k?s(a):g;if(l)return h=setTimeout(u,b),s(i)}return void 0===h&&(h=setTimeout(u,b)),g}return b=r(b)||0,q(c)&&(k=!!c.leading,f=(l="maxWait"in c)?n(r(c.maxWait)||0,b):f,m="trailing"in c?!!c.trailing:m),w.cancel=function(){void 0!==h&&clearTimeout(h),j=0,d=i=e=h=void 0},w.flush=function(){return void 0===h?g:v(p())},w}},4881,a=>{"use strict";a.i(69387);var b=a.i(60574),c=a.i(79353),d=a.i(94936);let e=(0,b.collection)(c.db,"drafts");async function f(a){try{let c={...a,lastSaved:(0,b.serverTimestamp)(),createdAt:(0,b.serverTimestamp)()},d=await (0,b.addDoc)(e,c);return{success:!0,draftId:d.id}}catch(a){return console.error("Error saving draft:",a),{success:!1,error:"Taslak kaydedilemedi"}}}async function g(a,d){try{let e=(0,b.doc)(c.db,"drafts",a);return await (0,b.updateDoc)(e,{...d,lastSaved:(0,b.serverTimestamp)()}),{success:!0}}catch(a){return console.error("Error updating draft:",a),{success:!1,error:"Taslak gÃ¼ncellenemedi"}}}let h=(0,d.default)(async(a,b)=>await g(a,b),2e3);async function i(a){try{let c=(0,b.query)(e,(0,b.where)("userId","==",a),(0,b.orderBy)("lastSaved","desc"));return(await (0,b.getDocs)(c)).docs.map(a=>{let b=a.data();return{id:a.id,...b,createdAt:b.createdAt?.toDate()||new Date,lastSaved:b.lastSaved?.toDate()||new Date}})}catch(a){return console.error("Error fetching drafts:",a),[]}}async function j(a){try{let d=(0,b.doc)(c.db,"drafts",a),e=await (0,b.getDoc)(d);if(!e.exists())return null;let f=e.data();return{id:e.id,...f,createdAt:f.createdAt?.toDate()||new Date,lastSaved:f.lastSaved?.toDate()||new Date}}catch(a){return console.error("Error fetching draft:",a),null}}async function k(a){try{let d=(0,b.doc)(c.db,"drafts",a);return await (0,b.deleteDoc)(d),{success:!0}}catch(a){return console.error("Error deleting draft:",a),{success:!1,error:"Taslak silinemedi"}}}a.s(["autoSaveDraft",0,h,"deleteDraft",()=>k,"getDraftById",()=>j,"getDrafts",()=>i,"saveDraft",()=>f])},46572,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(50944),e=a.i(11642),f=a.i(4881),g=a.i(89769);function h(){let{user:a}=(0,e.useAuth)(),h=(0,d.useRouter)(),[i,j]=(0,c.useState)([]),[k,l]=(0,c.useState)(!0);(0,c.useEffect)(()=>{a?async function(){if(a)try{let b=await (0,f.getDrafts)(a.uid);j(b)}catch(a){console.error("Error fetching drafts:",a)}finally{l(!1)}}():h.push("/giris")},[a,h]);let m=async(a,b)=>{if(b.stopPropagation(),confirm("Bu taslaÄŸÄ± silmek istediÄŸinize emin misiniz?"))try{await (0,f.deleteDraft)(a),j(i.filter(b=>b.id!==a))}catch(a){console.error("Error deleting draft:",a),alert("Taslak silinirken bir hata oluÅŸtu")}};return k?(0,b.jsx)("div",{className:"drafts-page",children:(0,b.jsx)("div",{className:"container",children:(0,b.jsxs)("div",{className:"loading-state",children:[(0,b.jsx)("div",{className:"spinner"}),(0,b.jsx)("p",{children:"Taslaklar yÃ¼kleniyor..."})]})})}):(0,b.jsx)("div",{className:"drafts-page",children:(0,b.jsxs)("div",{className:"container",children:[(0,b.jsxs)("div",{className:"page-header",children:[(0,b.jsx)("h1",{children:"TaslaklarÄ±m"}),(0,b.jsx)("button",{className:"new-draft-button",onClick:()=>h.push("/create"),children:"+ Yeni Taslak"})]}),0===i.length?(0,b.jsxs)("div",{className:"empty-state",children:[(0,b.jsx)("span",{className:"empty-icon",children:"ðŸ“"}),(0,b.jsx)("h2",{children:"HenÃ¼z taslaÄŸÄ±nÄ±z yok"}),(0,b.jsx)("p",{children:"AklÄ±nÄ±zdakileri yazÄ±ya dÃ¶kmeye baÅŸlayÄ±n."})]}):(0,b.jsx)("div",{className:"drafts-grid",children:i.map(a=>(0,b.jsxs)("div",{className:"draft-card",onClick:()=>{var b;return b=a.id,void h.push(`/create?draftId=${b}`)},children:[(0,b.jsxs)("div",{className:"draft-content",children:[(0,b.jsx)("h3",{className:"draft-title",children:a.title||"Ä°simsiz Taslak"}),(0,b.jsx)("p",{className:"draft-excerpt",children:a.excerpt||a.content?.substring(0,100)||"Ä°Ã§erik yok..."}),(0,b.jsxs)("div",{className:"draft-meta",children:[(0,b.jsxs)("span",{className:"draft-date",children:["Son dÃ¼zenleme: ",a.lastSaved?(0,g.getRelativeTime)(a.lastSaved.toDate()):"Az Ã¶nce"]}),a.category&&(0,b.jsx)("span",{className:"draft-category",children:a.category})]})]}),(0,b.jsx)("div",{className:"draft-actions",children:(0,b.jsx)("button",{className:"delete-button",onClick:b=>m(a.id,b),title:"Sil",children:"ðŸ—‘ï¸"})})]},a.id))})]})})}a.s(["default",()=>h])},51031,a=>{a.v(b=>Promise.all(["server/chunks/ssr/src_lib_firestore_ts_70d184a6._.js"].map(b=>a.l(b))).then(()=>b(77929)))}];

//# sourceMappingURL=_9acc898f._.js.map