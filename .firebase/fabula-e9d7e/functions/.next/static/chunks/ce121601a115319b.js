(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,17009,e=>{"use strict";var t=e.i(43476),a=e.i(71645),r=e.i(57951),i=e.i(22016);function s(){let{user:e}=(0,r.useAuth)(),[s,l]=(0,a.useState)([]),[d,n]=(0,a.useState)(!0),[o,c]=(0,a.useState)(null);(0,a.useEffect)(()=>{h()},[e]);let h=async()=>{if(e)try{let t=await e.getIdToken(),a=await fetch("/api/admin/stories",{headers:{Authorization:`Bearer ${t}`}}),r=await a.json();r.stories&&l(r.stories)}catch(e){console.error("Error fetching stories:",e)}finally{n(!1)}},m=async t=>{if(confirm("Bu hikayeyi silmek istediÄŸinize emin misiniz? Bu iÅŸlem geri alÄ±namaz.")&&e){c(t);try{let a=await e.getIdToken();(await fetch(`/api/admin/stories/${t}`,{method:"DELETE",headers:{Authorization:`Bearer ${a}`}})).ok?l(s.filter(e=>e.id!==t)):alert("Silme iÅŸlemi baÅŸarÄ±sÄ±z oldu.")}catch(e){console.error("Error deleting story:",e),alert("Bir hata oluÅŸtu.")}finally{c(null)}}};return d?(0,t.jsx)("div",{className:"p-8 text-center",children:"YÃ¼kleniyor..."}):(0,t.jsxs)("div",{className:"admin-stories-page",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,t.jsx)("h1",{className:"text-2xl font-bold text-gray-800 dark:text-white",children:"Hikaye YÃ¶netimi"}),(0,t.jsx)("button",{onClick:h,className:"px-4 py-2 bg-gray-100 dark:bg-gray-700 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors",children:"ðŸ”„ Yenile"})]}),(0,t.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm overflow-hidden",children:[(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full text-left",children:[(0,t.jsx)("thead",{className:"bg-gray-50 dark:bg-gray-700/50",children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{className:"p-4 font-medium text-gray-500 dark:text-gray-400",children:"BaÅŸlÄ±k"}),(0,t.jsx)("th",{className:"p-4 font-medium text-gray-500 dark:text-gray-400",children:"Yazar"}),(0,t.jsx)("th",{className:"p-4 font-medium text-gray-500 dark:text-gray-400",children:"Ä°statistikler"}),(0,t.jsx)("th",{className:"p-4 font-medium text-gray-500 dark:text-gray-400",children:"Tarih"}),(0,t.jsx)("th",{className:"p-4 font-medium text-gray-500 dark:text-gray-400 text-right",children:"Ä°ÅŸlemler"})]})}),(0,t.jsx)("tbody",{className:"divide-y divide-gray-100 dark:divide-gray-700",children:s.map(e=>(0,t.jsxs)("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700/30 transition-colors",children:[(0,t.jsx)("td",{className:"p-4",children:(0,t.jsx)(i.default,{href:`/story/${e.id}`,target:"_blank",className:"font-medium text-indigo-600 dark:text-indigo-400 hover:underline",children:e.title})}),(0,t.jsx)("td",{className:"p-4",children:(0,t.jsx)("div",{className:"flex items-center gap-2",children:(0,t.jsx)("span",{className:"text-sm",children:e.author.name})})}),(0,t.jsxs)("td",{className:"p-4 text-sm text-gray-500",children:["ðŸ‘ï¸ ",e.stats?.views||0," â€¢ â¤ï¸ ",e.stats?.likes||0]}),(0,t.jsx)("td",{className:"p-4 text-sm text-gray-500",children:new Date(e.createdAt).toLocaleDateString("tr-TR")}),(0,t.jsx)("td",{className:"p-4 text-right",children:(0,t.jsx)("button",{onClick:()=>m(e.id),disabled:o===e.id,className:"text-red-500 hover:text-red-700 hover:bg-red-50 dark:hover:bg-red-900/20 px-3 py-1 rounded-lg transition-colors text-sm font-medium disabled:opacity-50",children:o===e.id?"Siliniyor...":"Sil"})})]},e.id))})]})}),0===s.length&&(0,t.jsx)("div",{className:"p-8 text-center text-gray-500",children:"HenÃ¼z hiÃ§ hikaye yok."})]})]})}e.s(["default",()=>s])}]);